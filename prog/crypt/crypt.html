<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 4 Lab X: Introduction to Cryptography</title>
    </head>
<body>
<h2>Names to Addresses: DNS</h2>
<p>Up to now, we've been talking about Internet messages in terms of IP addresses, which are numeric. But when you use the Internet, you don't type in IP addresses. you use <strong>domain names</strong> such as <code>snap.berkeley.edu</code>. Your router doesn't know anything about these names; how does your message get to the right place?</p>
<p>One of the application layer protocols is called the <strong>Domain Name System (DNS)</strong>. Its main job is to translate names to addresses. For example, looking up <code>snap.berkeley.edu</code> gives a result like this:
<pre>Non-authoritative answer:
snap.berkeley.edu       canonical name = apps.eecs.berkeley.edu.
apps.eecs.berkeley.edu  canonical name = rt-eecs.IST.berkeley.edu.
Name:   rt-eecs.IST.berkeley.edu
Address: 128.32.189.18</pre>
<p>You can look up host names at web sites such as <a href="http://ping.eu/nslookup/" target="new">http://ping.eu/nslookup/</a>.
<p>The &quot;
  Non-authoritative answer
&quot; means that the name server I used isn't the official   <code>berkeley.edu</code> one, but rather is one provided by my ISP that in turn asked other name servers. Most of the time, when you're looking for a computer with an  IP address that doesn't change often, these answers are reliable despite the label.
<p>What this answer tells you is that <code>snap.berkeley.edu</code> isn't the official name (that's what &quot;canonical&quot; means) of any computer. Rather, the central Berkeley campus name server translates that name to <em>another name,</em> which belongs to the EECS department.  The EECS name server in turn translates that name to yet another name, rt-eecs.IST.berkeley.edu, which belongs to the campus Information Systems and Technology service.  Why all this renaming?  There are quite a lot of <em><code>something.</code></em><code>berkeley.edu</code> site names, so the people who run rhe (authoritative) name server for the <code>berkeley.edu</code> domain have a policy that all such names must be sponsored by a department, and the department system administrators tell the campus ones how to translate the name.  Thus, the name <code>snap.berkeley.edu</code> is translated into 
<code>apps.eecs.berkeley.edu</code>, which is in the <code>eecs</code> subdomain and therefore served by the EECS department nameserver. Originally that was the end of the story, because EECS housed its own servers within the department, but recently they decided to contract with IST to host department servers; that's why the name is translated one more time into an IST host name. The use of host names rather than IP addresses is important not only for user convenience, but also to allow this sort of reconfiguration, so that the site name remains constant even if its administration or its IP address changes.
<p>Before the Internet, every computer on a network knew the name and address of every other computer on that network. This worked pretty well back when a computer cost roughly a million dollars, and there weren't very many of them. But it's clearly not scalable. That's why Internet host names are <em>hierarchical;</em> If you want to know where <code>snap.berkeley.edu</code> is, your computer only has to know where to find an <code>edu</code> name server, and that nameserver only has to know where to find a <code>berkeley.edu</code> name server. Nobody outside of Berkeley even has to know that there <em>is</em> a computer called <code>snap.berkeley.edu</code> until you type that name into a browser.
<div class="endnote">By the way, what you probably <em>really</em> type into your browser is <code>snap.berkeley.edu/run</code>. Everything after the slash is not part of the host name; it's up to the individual host how to interpret the rest of the URL (<strong>Uniform Resource Locator</strong>), but generally slashes are used to indicate a hierarchy of file folders.</div>
<p>Apart from a few special cases, there are two kinds of top-level name domains: country codes and categories.  Every country has an official two-letter country code.  (Some small countries with codes that happen to have another meaning, such as <code>tv</code> for Tuvalu, make money by selling domain names to outside companies.) Originally there were six category domains: <code>gov</code> for government, <code>edu</code> for educational institutions, <code>com</code> for commercial businesses, <code>mil</code> for (US) military sites, <code>org</code> for general organizations, and <code>net</code> for network-related sites. Because the Internet started in the United States, many US organizations started using category domains, and the <code>us</code> top-level domain is relatively rarely used.
<p>More recently, new top-level category domains have been created, e.g., <code>biz</code> for businesses, as an alternative to <code>com</code>. These new categories are intended to relieve crowding in the original domains. For example, let's say you start a company called Garply Web Services. You can't have <code>garply.com</code>, which is taken by an online telephone directory service. But (as of October 2015) <code>garply.biz</code> is available. On the other hand, &quot;garply&quot; was my third try at finding a free <code>.biz</code> name, partly because as soon as that top-level domain was introduced, people bought huge numbers of common words in order to resell them at higher prices. For example, Mr. Robert Skelton of Cheswick, Australia offers the name <code>snap.biz</code> for a mere $7500. (By contrast, you can buy <code>garply.biz</code> for $7.99 if you hurry!)
<p>How does your computer know where the name servers for top-level domains are? There are <strong>root name servers</strong> whose job is to provide this information.  Your computer knows 13 IP addresses for these servers, but there are more than 13 actual servers because most of those addresses use a technique called <strong>anycast</strong> addressing, in which routers in different geographical areas route the same IP address to different destinations.  As a result, there are now more than 500 root name servers around the world.
<p>Even 500 wouldn't be nearly enough if every name translation had to start at a root name server. Instead, all name servers <strong>cache</strong> (remember) the results of translation requests, so in practice pretty much every name server everywhere knows where to find servers for the popular top-level domains, and even for popular non-top-level domains such as <code>google.com</code>.
Hardly any name translation actually starts at a root server.
</body>
</html>
