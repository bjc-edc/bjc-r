<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 3 Lab 3 Teacher Guide</title>
    </head>
    
    <body>
        <h2>Optional Programming Lab 3: Three Key List Operations</h2>
        <p>Functions that <i>take other functions as input</i> are called <strong>higher order functions</strong>. In  practice, these are often (but not exclusively) used for processing lists, as they are in this unit. <a href="/bjc-r/cur/programming/3-lists/1-introduction-to-lists/1-shopping-list-app.html?topic=nyc_bjc%2F3-lists.topic&course=bjc4nyc.html&novideo&noassignment">In Lab 1</a>, students worked with <code>for each</code> to apply a procedure to each item of a list. Now students focus on three higher order list operations, <code>map</code>, <code>keep</code>, and <code>combine</code>.</p>
        <p> <code>For each</code> is a command block that steps through each item in a list to use or make changes to the items. It has an effect, but does not report a value; it's not a function. <code>map</code>, <code>keep</code>, and <code>combine</code> are functions; they report values:</p>
        <div>
            <ul>
                <li><code>Map</code> takes two inputs, a function and a list. It <i>applies the function to each item of a list</i> and returns a new list (without changing the original) in which each element is the result of applying the function to the corresponding element of the original list. The applied function can be anything that accepts the list items as input: it could double a number, make a word plural, replace an item by a selection from some other list, etc.</li>
                <li><code>Keep</code> takes two inputs, a predicate function and a list. It <i>filters the list</i>, returning a list of all (and only) those items in the original list for which the predicate returns <code>true</code>. <code>keep</code> might be used to filter a list and return only the items that begin with a vowel, or are even number, or are less than five characters long, or (as in the Tic Tac Toe lab) are the moves made by player X.</li>
                <li><code>Combine</code> takes two inputs, a function and a list, and <i>combines all the items in the list using that function</i>. It returns a single result (e.g. a sum, product, concatenated string, etc.). <code>Combine</code> applies its two-input operation by repeatedly calling that  operation on a result-so-far and one new list item. <code>Combine</code> should be used only with associative functions: addition, multiplication, join, and very few others.</li>
            </ul>
        </div>
        <p>Students will apply these tools various context including an overarching theme of lists of lists to manage and organize data in apps (shopping list, contact lists, tic tac toe, etc.).</p>
        
        <h3>Pacing:</h3>
        <div>
			If used, the 4 lab pages could be split across 4-7 days (<strong>145-290 minutes</strong>). Expected times to complete follow:
			<ul>
				<li>20-40 minutes (less than 1 class period) on <a href="/bjc-r/cur/programming/3-lists/old/3-three-key-list-ops/1-exploring-list-operations.html?topic=nyc_bjc%2F3-lists.topic&course=bjc4nyc.html&novideo&noassignment">Exploring List Operations (Teacher's Choice)</a></li>
				<li>60-120 minutes (2-3 class periods) on <a href="/bjc-r/cur/programming/3-lists/old/3-three-key-list-ops/2-map.html?topic=nyc_bjc%2F3-lists.topic&course=bjc4nyc.html&novideo&noassignment">The <code>Map</code> Block (Teacher's Choice)</a></li>
				<li>40-80 minutes (1-2 class periods) on <a href="/bjc-r/cur/programming/3-lists/old/3-three-key-list-ops/3-keep.html?topic=nyc_bjc%2F3-lists.topic&course=bjc4nyc.html&novideo&noassignment">The <code>Keep</code> Block (Teacher's Choice)</a></li>
				<li>25-50 minutes (1-2 class periods) on <a href="/bjc-r/cur/programming/3-lists/old/3-three-key-list-ops/4-combine.html?topic=nyc_bjc%2F3-lists.topic&course=bjc4nyc.html&novideo&noassignment">The <code>Combine</code> Block (Teacher's Choice)</a></li>
			</ul>
		</div>
		<div class="time">
        	<ul>
                <li>All of Lab 3. (Two of the blocks, <code>map</code> and <code>keep</code> have been introduced in Unit 2.)</li>
            </ul>
        </div>
        
        
        <h3>Students will:</h3>
        <div>
            <ul>
                <li>Learn about higher order functions.</li>
                <li>Learn to use <code>for each</code>, <code>map</code>, <code>keep</code>, and <code>combine</code> on their own and together to access and manipulate list data.</li>
            </ul>
        </div>
        
        <h3>Goals for the Lab:</h3>
        <div>
            <ul>
                <li>
					<strong>Page 1: Exploring List Operations (Teacher's Choice).</strong>
                    <ul>
                    	<li>Understand the behavior of <code>map</code>, <code>keep</code>, and <code>combine</code>.</li>
                    	<li>Understand how to use <code>map</code> and <code>keep</code>.</li>
                    </ul>
                </li>
                <li>
					<strong>Page 2: The <code>Map</code> Block (Teacher's Choice).</strong>
                    <ul>
                    	<li>Be able to use the <code>map</code> block to apply procedures to every element in a list.</li>
                    	<li>Be able to create procedures with the goal of using them in a <code>map</code> block on every element in a list.</li>
                    	<!--<li>(+) Make a block that takes a function as an input.</li>-->
                    </ul>
                </li>
                <li>
					<strong>Page 3: The <code>Keep</code> Block (Teacher's Choice).</strong>
                    <ul>
                    	<li>Be able to use the <code>keep</code> block to apply a predicate to every element in a list and generate a list of the matching elements.</li>
                    </ul>
                </li>
                <li>
					<strong>Page 4: The <code>Combine</code> Block (Teacher's Choice).</strong>
                    <ul>
                    	<li>Be able to use the <code>combine</code> block to combine all elements of a list using a specified function.</li>
                    </ul>
                </li>
            </ul>
        </div>
        
        
        <h3>As a Class:</h3>
        <div>
            <ul>
                <li>
                    <strong>Page 2: The <code>Map</code> Block (Teacher's Choice).</strong>
                    <ul>
                        <li>The section, Using <code>Map</code> for Algebraic Functions, presents an example of using Snap<i>!</i> to model this algebraic function: <span class="katex-block">f(n)=3n+7</span> Encourage students to identify a function (or several) of interest to them and build a reporter to run it. For example, they might calculate values of a function needed for a math or science assignment (or any other school or non-school context).</li>
                    </ul>
                </li>
                <li>
                    <strong>Page 4: <code>Combine</code> (Teacher's Choice).</strong>
                    <ul>
                        <li>The requirements of the inputs for <code>combine</code> are straightforward enough (an associative operation with two blank input slots), but, because they are different from <code>map</code> and <code>keep</code> (whose input functions require one blank input slot), you may wish to discuss the <code>combine</code> input requirements and the issue of associativity, which is also addressed in the student lab pages.</li>
                        <li>One  way to deal with this without the technicalities of understanding associativity—which may not be familiar to students and is often misunderstood even if it is familiar—is to punt: &quot;Use <code>combine</code> only with <code>+</code> or <code>&times;</code> or <code>join</code> or <code>join words</code> until you fully understand how it works." </li>
                    </ul>
                </li>
            </ul>
        </div>
        
        <h3>Assignments:</h3>
        <div>
            <ul>
                <li>Encourage students to identify places where <code>map</code>, <code>keep</code>, and <code>combine</code> may help with a program with lists that they have already developed and to take the time to improve their programs.</li>
                <li>
                	Assessment Idea: Write a program that keeps track of books.
                    <ol>
                        <li>
                            Create an abstract data type to hold each book record:
                            <ul>
                                <li>
                                Create a <code>book</code> <em>constructor</em> that accepts three elements: the title (text string), whether or not it's fiction (boolean), and a number of pages (number).
                                <img class="indent" src="/bjc-r/img/3-lists/book-constructor.png" alt="book with title: (BJC) fiction? (true) pages: (123) reporting '{BJC, true, 123}'" title="book with title: (BJC) fiction? (true) pages: (123) reporting '{BJC, true, 123}'" />
                                </li>
                                <li>Create three <em>selectors</em> <code>title</code>, <code>fiction?</code>, and <code>pages</code> that will report that data for the inputted record.</li>
                            </ul>
                        </li>
                        <li>Make a variable called <var>library</var> that will store books and that will initialize as an empty list when the green flag is clicked.</li>
                        <li>Add a button to let the user add a new book to the library.</li>
                        <li>Populate <var>library</var> with at least two fiction titles and at least two nonfiction titles.</li>
                        <li>
                            <img class="imageRight" src="/bjc-r/img/icons/import-tools.png" alt="Import Tools" title="Import Tools" />
                            Add a button to allow the user to get a report of all the fiction or nonfiction books on the shelf. (This must use <code>map</code>, <code>keep</code> and/or <code>combine</code>.)
                        </li>
                        <div class="takeItFurther"><a name="further" class="anchor">&nbsp;</a>
                            <ol type="i">
                                <li>Add a button to allow the user to find the total number of pages of all the books in the library. (This must use <code>map</code>, <code>keep</code> and/or <code>combine</code>.)</li>
                                <li>Prevent the user from adding the exact same book twice. Use <code>map</code>, <code>keep</code> and/or <code>combine</code>  to determine if the book the user is adding matches the title, fiction status and page count of a book already in the library. If it does, present an error message to the user, and don’t add it again.</li>
                            </ol>
                        </div>

                        <li>Submit your code in whatever way your class submits work.</li>
                    </ol>
                </li>
            </ul>
        </div>
    
        <h3>Tips:</h3>
        <div>
            <ul>
                <li>
                    <strong>Page 1: Exploring List Operations (Teacher's Choice).</strong>
                    <ul>
                        <li>Problem 1 part b gives the result "NaN" ("Not a Number") because <code>+</code> expects numbers as its inputs, and this expression includes a list as one of the inputs.</li>
                        <li><strong>Mathematics Note:</strong> <code> mod</code> reports the remainder when the first input is divided by the second.  The remainder on division by 2 is either 1 (for odd numbers) or 0 (for even numbers). So the predicate tests to see if a number is odd.     
                        </li> 
                    </ul>
                </li>
                <li>
                    <strong>Page 2: The <code>Map</code> Block (Teacher's Choice).</strong>
                    <ul>
                        <li>Watch for students who are particularly adept with translating, dilating, and reflecting computer graphics or with composing and transposing music. Encourage these students to develop these projects further and/or to present their work to the class.</li>
                        <li><strong>Mathematics Note:  Unnamed Functions</strong> One of the most powerful features of languages like <em>Snap!</em> is the ability to use functions without naming them.  So, for example, 
                        
               
               <img src="/bjc-r/img/3-lists/lambda.png" class="script" alt="item 2 of list block" title="item 2 of list block">          
                        
is the <em>Snap!</em> code for "the function that adds 4 and then divides by 3."  If you replace the blank slot by 8 the operator will report 4.     Of course, you <em>could</em> make a  reporter and give it a name, modeling the mathematical function defined by <span class="katex-block">f(x) = \frac{x+4} 3 </span>   But it's often useful to use a function as <em>just one more piece of data</em>, like a list or a number.  Just as you don't need to name a list  in order to input it into a block, you don't need to name a function to input it into, say, <code>map</code>.  This idea of raising an operation (in this case a function) to the status of an object that can be manipulated is an engine that drives progress in modern mathematics, and the fact that you can model this in <em>Snap!</em> gives the language an expressive power that doesn't exist in older programming languages.
                         
                        </li>
                        
                         
                    </ul>
                </li>
                <li>
                    <strong>Page 3: The <code>Keep</code> Block (Teacher's Choice).</strong>
                    <ul>
                        <li>Students develop a small database of first name, last name, age (in years), and height (in inches). Encourage students to keep the dataset small (4-6 records) to minimize the time spent only on data entry.</li>
                        <li>You might also discuss whether it's ethical to put  data of this kind in a shared project.</li>
                    </ul>
                </li>
                <li>
                    <strong>Page 4: The <code>Combine</code> Block (Teacher's Choice).</strong>
                    <ul>
                        <li>The two quizzes on this page address all three higher order functions in this lab: <code>map</code>, <code>keep</code>, and <code>combine</code>. Encourage students to use these questions to assess how well they have learned these ideas. If necessary, they may wish to review.</li>
                    </ul>
                </li>
            </ul>
        </div>

<h3>Solutions</h3>
        <div><ul><li>page 1 (Exploring) is all "try this" exercises</li>
        <li>page 2 (Map):
        <ul><li><a href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=BJCsolutions&ProjectName=U3L3p2%20FYTD%203%20PlayNotes%20(answer%20file)" target="_blank">FYTD 3 (Play Notes)</a></li>
        <li><a href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=BJCsolutions&ProjectName=U3L3p2%20FYTD%209-16%20and%20TIF%20(answer%20file)" target="_blank">everything else</a></li></ul></li>
        <li><a href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=BJCsolutions&ProjectName=U3L3p3%20all%20Keep%20(answer%20file)" target="_blank">page 3 (Keep)</a></li>
        <li><a href="http://snap.berkeley.edu/snapsource/snap.html#cloud:Username=BJCsolutions&ProjectName=U3L3p4%20all%20Combine%20(answer%20file)" target="_blank">page 4 (Combine)</a></li>
        </ul></div>			        
        <h3>Correlation with AP CS Principles Framework:</h3>
		<div class="apStandards">
            <!--<h4><strong>Computational Thinking Practices:</strong></h4>
            <ul>
                <li><strong>P2 Creating Computational Artifacts</strong> Create an artifact with a practical, personal, or societal intent.</li>
                <li><strong>P2 Creating Computational Artifacts</strong> Select appropriate techniques to develop a computational artifact.</li>
                <li><strong>P2 Creating Computational Artifacts</strong> Use appropriate algorithmic and information management principles.</li>
                <li><strong>P3 Abstracting</strong> Explain how data, information, or knowledge is represented for computational use.</li>
                <li><strong>P3 Abstracting</strong> Explain how abstractions are used in computation or modeling.</li>
                <li><strong>P3 Abstracting</strong> Identify abstractions.</li>
                <li><strong>P4 Analyzing Problems and Artifacts</strong> Evaluate a proposed solution to a problem.</li>
                <li><strong>P4 Analyzing Problems and Artifacts</strong> Locate and correct errors.</li>
                <li><strong>P4 Analyzing Problems and Artifacts</strong> Explain how an artifact functions.</li>
                <li><strong>P4 Analyzing Problems and Artifacts</strong> Justify appropriateness and correctness of a solution, model, or artifact.</li>
                <li><strong>P6 Collaborating</strong> Collaborate with another student in solving a computational problem.</li>
                <li><strong>P6 Collaborating</strong> Collaborate with another student in producing an artifact.</li>
                <li><strong>P6 Collaborating</strong> Share the workload by providing individual contributions to an overall collaborative effort.</li>
                <li><strong>P6 Collaborating</strong> Foster a constructive, collaborative climate by resolving conflicts and facilitating the contributions of a partner or team member.</li>
                <li><strong>P6 Collaborating</strong> Exchange knowledge and feedback with a partner or team member.</li>
                <li><strong>P6 Collaborating</strong> Review and revise their work as needed to create a high-quality artifact.</li>
            </ul>-->
            <h4>Enduring Understandings:</h4>
            <ul>
                <li><strong>EU 5.3</strong> Programming is facilitated by appropriate abstractions.</li>
                <li><strong>EU 5.5</strong> Programming uses mathematical and logical concepts.</li>
            </ul>
            <h4>Learning Objectives:</h4>
            <ul>
                <li><strong>LO 5.3.1</strong> Use abstraction to manage complexity in programs. [P3]</li>
                <li><strong>LO 5.5.1</strong> Employ appropriate mathematical and logical concepts in programming. [P1]</li>
            </ul>
            <h4>Essential Knowledge:</h4>
            <ul>
                <li><strong>EK 5.3.1I</strong> Strings and string operations, including concatenation and some form of substring, are common in many programs.</li>
                <li><strong>EK 5.3.1K</strong> Lists and list operations, such as add, remove, and search, are common in many programs.</li> 
                <li><strong>EK 5.3.1L</strong> Using lists and procedures as abstractions in programming can result in programs that are easier to develop and maintain.</li>
                <li><strong>EK 5.5.1H</strong> Computational methods may use lists and collections to solve problems.</li>
                <li><strong>EK 5.5.1J</strong> Basic operations on collections include adding elements, removing elements, iterating over all elements, and determining whether an element is in a collection.</li>
            </ul>        
        </div>


    </body>
</html>
