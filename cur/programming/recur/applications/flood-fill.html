<!DOCTYPE html>
<html>
    <head>
        <!-- put the following in exactly --><script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
        <title>
            Background
        </title><!--ORIGINAL NAME: Flood fill-->
    </head>
    <body>
        <p>
            "Flood fill" is the name of the technique used by the paint bucket in most graphics programs.
            It is an example of something that is far
            simpler to implement with recursion than without!
            The method starts at a particular point in a grid, and spreads in each direction
            (left, right, up, down) until it reaches a defined barrier of some sort.
        </p>
        <p>
            For example, in Microsoft Paint, a user can select a color and click at
            a particular location in an image with the paint bucket tool.
            The location of the click will be the starting point, or
            <span style="font-style: italic;">source</span>, of the flood, and Paint will
            remember the original color of the source. The flood will proceed
            outward from that point, one direction at a time,
            <u>unless the space that it would occupy has a different color that the
                source space originally had</u>.   This is the <em>barrier condition</em>.  When
            a pixel gets colored, the program will try to color the four pixels directly
            touching it to the left, right, above, and below.  It will <i>not</i> jump diagonally.
        </p>

        <img class="center" src="/bjc-r/img/recur/flood-fill-animated.gif">

        <h2>Goal</h2>
        <p>
            Using the provided helper blocks, use recursion to write the  block <img class="inline" src="/bjc-r/img/recur/flood-fill-block.png"> that takes a color and
            the coordinates of a source pixel.

            In order to visualize your algorithm, you can draw the image after you
            change the color of <b>each</b> pixel.
        </p>

        <!--
        <div style="text-align: center; width: 70%; margin: 0pt auto;"><img border="0" src="/bjc-r/img/prog/cell-helper-blocks.png" alt="Helper blocks" title="Helper blocks" origsrc="http://veritas.eecs.berkeley.edu/courses/file.php/17/helpers.png">
        <object >
        <param name="movie" value="http://www.youtube.com/v/daXq03ql37o&amp;hl=en&amp;fs=1">
        <param name="allowFullScreen" value="true">
        <param name="allowscriptaccess" value="always">
        <embed src="http://www.youtube.com/v/daXq03ql37o&amp;hl=en&amp;fs=1" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true"></embed>
        </object>
        </div>
        -->

        <p>
            Framework code is available <a class="run" href="/bjc-r/prog/recur/flood-fill.xml">here</a>,
            containing a set of helper functions that will take care of miscellaneous tasks like drawing,
            generating a random image, and establishing the image format in a list.
        </p>

        <h3>Image Format</h3>

        <p>
            Images are stored in a matrix, or list of lists.  The main list contains a list for each row;
            the length of this list is the number of rows, or height,
            of the image.

            Each inner list is a row; the length of all these inner lists will be the same, a determine
            the width of the image.

            Each element of the row lists is a number from 1 to 100, and represents the color of that pixel in
            the image at that coordinate.
        </p>

        <h3>Hints</h3>

        <ul>
            <li>
                You aren't going to be able to do recursion with <img class="inline" src="/bjc-r/img/recur/flood-fill-block.png"> directly, because
                that block doesn't know what the original color of the pixel is; or, won't when it is inside the recursion.  Think carefully about this.
                When you
                are inside your recursion, you will need to know <i>two</i> colors: (a) the color that was originally clicked on, so you can know when to
                continue growing to new cells, and (b) the color that you are filling in with.  The way to deal with this is to use a "fill helper" block
                that <i>does</i> have both colors in its argument list, and will call itself recursively.
            </li>
            <li>
                You have a choice about when you are going to check for a barrier condition: before you expand (recursively) to each of the neighbor cells,
                or after.  One way is easier than the other, although both work!  Unfortunately, the harder way is probably the way that most of you will
                try.  So, if you've finished, think about another way you might write your function.  It is possible to write it with only a single
                "if" block.
            </li>
            <li>
                Does it matter in which order your block tries the four directions to fill?  Once you have solved it, test out different orders and see
                how it looks different.
            </li>
        </ul>

    </body>
</html>
