<!DOCTYPE html>
<html><head><!-- put the following in exactly --><script type="text/javascript" src="/bjc-r/llab/loader.js"></script><title>Tracing a More Complicated Recursive Program</title><!--ORIGINAL NAME: Tracing a More Complicated Recursive Program--></head><body>Below is a small variation to the "say the numbers" program we were just working with. Except this one changed the order of the two lines in the recursive case (see the order of the blocks in the else case). This is more complicated because the function delegates (makes a recursive call) and then when the recursive call returns we still have more blocks to run. Before you start - run this program and compare it to the result of the last program. <br><br><img border="0" title="There should be an image here" alt="There should be an image here" src="/bjc-r/img/recur/reverse-say-number-code-BYOB.gif" origsrc="http://veritas.eecs.berkeley.edu/courses/file.php/17/Images/Lab11/Countup/ReverseSayNumber.gif"><br>The flow chart below attempts to show what actually happens when this new function is called with the argument 3. The arrows are numbered to show the sequence of events. We didn't show the sequence of events within each function because we assume you feel comfortable tracing the individual functions.<br><ul><li>The functions have the argument "x" replaced by the actual value.<br></li>
  <li>The black arrows show "delegation" to another COPY of the function (i.e. a recursive call)<br></li>
  <li>The white arrows show the return of control to the calling function. The caller had another line after the recursive call, so those are executed at the time indicated by the white arrow. Therefore the numbers will be said in the opposite order! <br></li>
  <ul><li>The first "say" block that is executed is in the COPY of the function where x = 0. <br></li>
    <li>Then that function returns to the COPY of the function where x = 1 and we say 1<br></li>
    <li>Then that function returns to the COPY of the function where x = 2 and we say 2<br></li>
    <li>Then that function returns to the COPY of the function where x = 3 and we say 3<br></li>
  </ul></ul><br><br><img border="0" title="There should be an image here" alt="There should be an image here" src="/bjc-r/img/recur/reverse-say-number-recursion-trace-BYOB.jpg" origsrc="http://veritas.eecs.berkeley.edu/courses/file.php/17/Images/Lab11/Countup/ReversesSayNumber.jpg"><br></body></html>
