<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 6 Lab 2: Communication Protocols, Page 2</title>
    </head>
    <body>
        <h2>Reliable Transmission on Unreliable Networks: TCP</h2>
        
        <div class="todo">
            <p><strong>What you will do:</strong> You will watch a video, read, and explore a simulation of unreliable IP transmissions.</p>
            <p><strong>What you will learn:</strong> You will learn about how the Internet sends data <em>reliably</em> by using protocols.</p>
            <p><strong>On your own:</strong> You can code your own Transmission Control Protocol. </p>
        </div>
        
        <div class="todo">
            <strong>6.2</strong> Characteristics of the Internet influence the systems built on it.<br />
            <strong>6.2.1</strong> Explain characteristics of the Internet and the systems built on it. [P5]<br />
            6.2.1A The Internet and the systems built on it are hierarchical and redundant.<br />
            6.2.1D Routing on the Internet is fault tolerant and redundant.<br />
            <strong>	6.2.2</strong> Explain how the characteristics of the Internet influence the systems built on it. [P4]<br />
            6.2.2B The redundancy of routing (i.e., more than one way to route data) between two points on the Internet increases the reliability of the Internet and helps it scale to more devices and more people.<br />
            6.2.2D Interfaces and protocols enable widespread use of the Internet.<br />
            6.2.2E Open standards fuel the growth of the Internet.<br />
            6.2.2F The Internet is a packet-switched system through which digital data is sent by breaking the data into blocks of bits called packets, which contain both the data being transmitted and control information for routing the data.<br />
            6.2.2G Standards for packets and routing include transmission control protocol/Internet protocol (TCP/IP).<br />
        </div>
        
        <p>When you send a message over the Internet, your computer divides it into small chunks called <strong>packets</strong> that it sends individually, each on its own path. A packet can include any kind of data: text, numbers,  lists, etc. Computers, servers, and routers are fairly reliable, but every once in a while a packet will be lost, and devices on the Internet need to tolerate these faults. </p>
        <p>The <strong>Transmission Control Protocol</strong> (TCP) guarantees <em>reliable</em> transmission by breaking messages into packets, keeping track of which packets have been received successfully, resending any that have been lost, and specifying the order for reassembling the data on the other end. This process is what makes the Internet a <strong>packet switching</strong> network.</p>

        <img class="imageRight" src="/bjc-r/img/icons/headphones.png" alt="Set Up Your Headphones or Speakers" title="Set Up Your Headphones or Speakers" />
	<div class="sidenote">If your connection blocks YouTube, <a href="http://scratch.mit.edu/discuss/youtube/AYdF7b3nMto" target="_blank">watch the video here</a>.</div>
        <iframe width="560" height="315" src="https://www.youtube.com/embed/AYdF7b3nMto?rel=0" frameborder="0" allowfullscreen class="indent"></iframe>
    	
    <div class="takeNote">
            <p>
                <!--The TCP/IP <strong>end-to-end</strong> design of the Internet is an <strong>abstraction</strong>:-->
                <ul>
                    <li>The <strong>computers (including servers) at the <em>two endpoints</em></strong> of a communication run the <strong>Transmission Control Protocol</strong> (TCP) that divides up the packets and guarantees <em>reliable</em> transmission.</li>
					<li>The <strong>routers at <em>every connection-point</em></strong> on the Internet run the <strong>Internet Protocol</strong> (IP) that transmits packets from one IP address to another (not caring that sometimes a packet will be lost and not knowing anything about the purpose or meaning of a packet).</li>
                </ul>
            </p>
            <!--<p>The routers don't have to know anything about the messages they carry over the net; all they care about is transmitting between the IP addresses at the beginning of each packet. The computers that send and receive the message are the only ones that have to think about what the messages mean. As a result, when someone invents a new application for the Internet, all the routers in the world don't have to be replaced or reprogrammed&mdash;to them it's all just bits.</p>-->
        </div>
        

        <div class="forYouToDo">
            <ol>
                <li>
                    Load <a class="run" href="/bjc-r/prog/4-internet/U4L3-TCP.xml#present">this project</a>. It provides a simulation of unreliable data transmission by Internet Protocol.
                    <ul>
                        <li><strong>Click the green flag</strong> to initialize the <var>incoming transmission</var> variables before each experiment.</li>
                        <li><strong>Click either character</strong> to enter a message for it to send to the other one.</li>
                	</ul>
                </li>
				<div class="sidenote">In this simulation, the complete message is a string of text that is divided into packets of one letter each. In reality, the packet length is not so strictly limited and messages are usually much longer.</div>
				<a class="run" href="/bjc-r/prog/4-internet/U4L3-TCP.xml"><img class="indent" src="/bjc-r/img/4-internet/TCP.png" alt="picture of TCP project stage"></a>
                <li>
                    <img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" />
                    Compare the result with what you sent. What problems do you see?
                </li>
			</ol>
    	</div>
        <p>TCP works by including additional information along with each packet so that the receiving computer can keep track of how many packets it has received, re-request any missing packets, and reorder the packets to reconstruct the original message. In this simulation, a packet either arrives correctly (even if it's out of order) or it doesn't arrive at all. But on the Internet, it's possible for a packet to arrive with <em>erroneous</em> data, so the real TCP has to check for errors and request re-transmission of packets with errors too.</p>
        
	<div class="ifTime">
            <ol start="3">
                <li>Read <a href="http://www.bitsbook.com/wp-content/uploads/2008/12/B2B_3.pdf#page=324" target="_blank"><em>Blown to Bits</em> pages 306-309</a>.</li>
            </ol>
        </div>
        
        
        <div class="takeItFurther">      
            <img class="imageRight" src="/bjc-r/img/icons/tough-stuff.png" alt="Tough Stuff" title="Tough Stuff" />
            <ol type="A">
				<li>
                    Build a simple TCP. Resolve the unreliability so that messages are received reliably despite the limitations of IP packets.
                    <strong>You'll need to change</strong> the definitions of:
                    <ul>
                        <li><img src="/bjc-r/img/4-internet/internet-transmit.png" alt="internet transmit () to ()" title="internet transmit () to ()" /></li>
                        <li><img src="/bjc-r/img/4-internet/read-internet-data.png" alt="read internet data with ()" title="read internet data with ()" /></li>
                    </ul>
                    <div class="endnote"><strong>Do <em>not</em> change</strong> the definition of <img src="/bjc-r/img/4-internet/send-IP.png" alt="send IP packet () to (sprite)">. That block simulates the unreliable network. You could "solve" the problem by rewriting this block to simulate a perfect network instead of an imperfect one, but that misses the point.</div>
                    To solve this problem, you'll need a way to keep track of the order of the data <em>and</em> a way to re-request missing packets:
                    <ul>
                        <li>First, solve the problem of packets arriving out of order. You can include extra <strong>header</strong> information in addition to the packet data in order to help the receiver reconstruct the message. This will require cooperation by both sender and receiver (that is, changes to both grey blocks).</li>
                        <li>Then, solve the problem of packets not arriving at all. That is, make the transmission reliable even though IP is unreliable. This, too, will require changing both sender and receiver. </li>
                    </ul>
				</li>
			</ol>
        </div>
    		

	</body>
</html>
