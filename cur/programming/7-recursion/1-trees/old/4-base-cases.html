<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 6 Lab 1: Trees in a Forest, Page 4</title>
	</head>

	<body>
		<h2>Anatomy of a Recursive Block</h2>
        <p>
            For our <code>tree</code> block, we're going to point out various parts of the anatomy of a recursive procedure. The line numbers mentioned below refer to the picture at the right.
            <img src="/bjc-r/img/7-recursion/tree-with-base-case.png" class="imageRight" alt="tree block with base case and numbered lines">
            <ul>
                <li>We always need a way to figure out that we're done and shouldn't call the recursive call again. Lines 2-4 are the <em>Base Case,</em> in which we handle a situation so simple that we don't need to call the block recursively.</li>
                <li>
                    If this isn't the base case we think to ourselves "Whoa &#8212; That seems complicated. I'll just do a small part of the problem and delegate to someone else". Here's what we do:<br />
                    <ul>
                        <li>draw the trunk of the tree (line 6), <br /></li>
                        <li>position the sprite for the left sub-tree (line 7), <br /></li>
                        <li>delegate to another call to the tree block the drawing of the left sub-tree (line 8), </li>
                        <li>re-position the sprite for the right sub-tree (line 9),</li>
                        <li>delegate to another call to the tree block the drawing of the right sub-tree (line 10),</li>
                        <li>re-position the sprite to retrace the trunk (line 11), and<br /></li>
                        <li>retrace the trunk and leave the sprite exactly where it started out (line 12).</li>
                    </ul>
                </li>
                <li>Lines 6-12 are the <em>Recursive Case,</em> in which the block calls itself using recursion.</li>
                <li>The <em>Recursive Case</em> also has to work <em>towards</em> the base case. This means that some input or other aspect of the recursive calls in the <em>Recursive Case</em> has to be changing such that the <em>Base Case</em> is eventually called. For our <code>tree</code> block, we are subtracting 1 from the <code>level</code> input of each recursive call, so that eventually the <code>level</code> input will reach a value of 1, which is the condition for our <em>Base Case</em>. If we cannot reach our <em>Base Case</em>, our block will keep recursively calling itself forever, getting stuck in what we call an <em>infinite loop</em>. This is what happened with our <code>tree</code> block before we modified it.</li>
            </ul>

        <div class="forYouToDo">
            <ol>
                <li>What would happen if we ran our <code>tree</code> block with a <code>level</code> input of less than 1? Think about it before you try it out.</li>
                <li> Sometimes you can make a recursive procedure more elegant by having a smaller base case. In our <code>tree</code> program, what would a "zero level" tree mean? Try rewriting <code>tree</code> so that the base case is <code>level=0</code>.</li>
                <li> 
                    See if you can make a tree like the first picture in this activity:<br />
                    <img src="../../../../../img/7-recursion/real-tree.jpg" alt="beautiful tree"><br />
                    It is different from what we have done so far because the smaller trees are drawn part way up the trunk, instead of at the top of the trunk, and because the pen color is green for the lowest-level branches (the <code>tree1</code>-like ones) and brown for the others. You do not have to get it exactly like the picture; just try to make a more realistic-looking tree.
                </li>
            </ol>
        </div>



	</body>
</html>