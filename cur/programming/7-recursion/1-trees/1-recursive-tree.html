<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 7 Lab 1: Trees in a Forest, Page 1</title>
	</head>

	<body>
		<h2>Recursive Tree</h2>	
        <div class="todo">Brian's Notes from late July 2016:
        	<ul>
            	<li>Think about adding to 6.1.1 the sentence "TREE 4 100 should do the same thing as TREE4 100" because we're really not clear enough about what the level input means.</li>
			</ul>
        </div>
        
        <p>The branching pattern on many plants has <strong>fractal</strong> structure: the smaller parts are like miniature copies of the whole plant. <br />
            <div class="sidenoteBig">A <strong>fractal</strong> is an infinite repeating pattern made up of copies (or slight variations) of the same shape. In this picture, the green branch is (essentially) the same shape as the entire picture.</div>
            <img class="noshadow" src="/bjc-r/img/7-recursion/greentree.gif" alt="fractal tree" title="fractal tree" /><br />
            In this lab, you will build a tree using <em>blocks within blocks</em> to create the branches. Each branch will be a smaller copy of essentially the same tree.
        </p>

        <div class="forYouToDo" id="first">
            <ol>	
                <div class="newProject">	<span class="text">"U7L1-Tree"</span><img src="/bjc-r/img/icons/new-project-called.png" alt="Start a New Project called U7L1-Tree" title="Start a New Project called U7L1-Tree" /></div>
                <li>
                    Building the first level:
                      <ol>
                        <li>
                            Build this <img src="/bjc-r/img/7-recursion/tree-1.png" alt="tree 1 size:()" title="tree 1 size:()"> block: <br />
                            <img class="indent" src="/bjc-r/img/7-recursion/tree1.png" alt="tree 1 size:(size#){move(size) steps; move(-1*size) steps}" title="tree 1 size:(size#){move(size) steps; move(-1*size) steps}" /><br /> <div class="comment">PG: suggest redoing images so that the title is <code>tree 1 size: (size)</code>, so that it later changes the hard coded numbers into a variable <code>tree (level) size: (size)</code>. Then text needs to be brought in line.</div>
                             This looks ridiculously simple, but it'll get more interesting soon.
                        </li>
                        <li>                    
                        	Point the sprite up, put the pen down, and run <img src="/bjc-r/img/7-recursion/tree-1(50).png" alt="tree 1 size:(50)" title="tree 1 size:(50)">. You should get a result like this: <br />
							<img class="indent" src="/bjc-r/img/7-recursion/tree-level1.png" alt="tree1 result: Trunk of tree drawn" title="tree1 result: Trunk of tree drawn" />
                    	</li>
                        <li><img class="inline" src="/bjc-r/img/icons/talk-with-your-partner-mini.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> Where does your sprite start? In what direction is it facing? Where does it stop?</li>
                    </ol>
                </li>
                <!-- <li> 
                    Building the second level:
<ol>
                    	<li>
                       	Build <code>tree2</code> that draws two levels. Actually, you're going to make two different versions of this, so call the first one <code>tree2a</code>:<br />
<img src="/bjc-r/img/6-recursion/tree2a.png" alt="tree2a">                        </li>
                     <li>
                        	Run <code>tree2a size: 50</code>. You should get a result like this:<br />
                        	<img class="indent" src="/bjc-r/img/6-recursion/tree-level2.jpg" alt="tree2 result" title="tree2 result" />
        </li>
                        <li>
                        	<img class="imageRight" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" />
                            Trace through the code carefully. Describe the role of each block in producing the drawing.
                        </li> 
</ol></li></ol></div>
                        <div class="takeItFurther"><ol type="A">
                          <li>How many blocks would you need to write <code>tree3a</code> out of Motion blocks similarly to how we wrote <code>tree2a</code>? How about <code>tree4a</code>?</li></ol></div> 
<div class="forYouToDo"><ol  start="3">                   --> 		<div class="sidenote">Using <code>tree 1</code> to draw the branches in <code>tree 2</code> is using <em>abstraction</em>.</div>
                            
<li>Build <img src="/bjc-r/img/7-recursion/tree-2.png"alt="tree 2 size:()" title="tree 2 size:()"> that uses <img src="/bjc-r/img/7-recursion/tree-1(50).png" alt="tree 1 size:(50)" title="tree 1 size:(50)"> as its branches.<br /><img class="indent" src="/bjc-r/img/7-recursion/tree2.png" alt="tree2 size:(size#){move(size) steps; turn counterclockwise (25) degrees; tree 1 size:(size*0.65); turn clockwise(25) degrees; turn clockwise(35) degrees; tree 1 size:(size*0.85); turn counterclockwise (35); move(-1*size) steps}" title="tree2 size:(size#){move(size) steps; turn counterclockwise (25) degrees; tree 1 size:(size*0.65); turn clockwise(25) degrees; turn clockwise(35) degrees; tree 1 size:(size*0.85); turn counterclockwise (35); move(-1*size) steps}"/>                      </li>
						<li>Describe exactly the position and direction of the sprite when the first <code>tree 1</code> stops running. Why is that essential for <code>tree 2</code> to work?</li>
                    </ol>
</div>
		
        <div class="takeNote"><strong>State transparency</strong>—putting everything (sprite, pen, etc.) back exactly as it was when you started—is important when blocks depend on other blocks. Usually, this means returning the sprite to the same position and direction, and the pen to the same color and size, as they were.</div>
<div class="comment">Paul and Mary want to use copy and paste here.</div>        
        <div class="forYouToDo">
            <ol start="4">
                
                <li>Make a <code>tree 3</code> block that uses the <code>tree 2</code> block as branches.</li>
                
              <li>Make a <code>tree 4</code> block that uses the <code>tree 3</code> block as branches.</li>
              <!--                <div class="endnote">
                	Right-click (or control-click on a mac) a block to "duplicate" or "relabel" blocks to make these tasks much faster.<br />
                    <p class="center"><img src="/bjc-r/img/6-recursion/dup-and-relabel.gif" alt="duplicate and relabel menu options" title="duplicate and relabel menu options" /></p>
                </div>
-->
                <li>
                    If you like, make a <code>tree 5</code> block that uses the <code>tree 4</code> block. Running <img src="/bjc-r/img/7-recursion/tree-5(50).png"  alt="tree 5 size:(50)" title="tree 5 size:(50)"> should produce a result like this:<br />
                    <img class="indent" src="/bjc-r/img/7-recursion/tree5.png" alt="" title="tree5 result: Tree with trunk and branches" title="tree5 result: Tree with trunk and branches" /> 
        			<img class="imageRight" src="/bjc-r/img/icons/save-now.png" alt="Now Is a Good Time to Save" title="Now Is a Good Time to Save" />        
                </li>
            </ol>
    	</div>
		
        <p>These blocks all look essentially the same except that <code>tree 5</code> uses <code>tree 4</code>, while <code>tree 4</code> uses <code>tree 3</code>, and so on. So it makes sense to wonder if we can  replace all these blocks with a single <code>tree</code> block, using a variable for the number that changes. </p>
		<div class="takeNote">Using a block inside of itself is called <strong>recursion</strong>.</div>


		<!--<div class="forYouToDo">
          <ol start="6">
                <li>
                    It might seem that all we need to do is build this (with the parts stuck together instead of the gaps that we show). In fact, this is not quite right, but it's worth trying to see what happens. Build it and try <code>tree</code> with the input levels of 5, 3, and 1 (still using size 50).<br />
					<img src="/bjc-r/img/6-recursion/tree-recursive-without-control.png"  alt="recursive tree model without stop rule">
                </li>
                <li>
                	<img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" />  
                    What does happen? Experiment and analyze to try to figure out <em>why</em>  it happens.  When you think you have a good explanation, go on to the next activity.
                </li>

</ol></div>
<!--                 	Now run <code>tree level: 9 size: 50</code>. It doesn't work yet. All you see is: <br />
					<img class="indent" src="/bjc-r/img/6-recursion/treebug.jpg" alt="picture of failing tree" title="picture of failing tree" />
                </li>
                <li><img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> Try to debug the script. What's going wrong?</li>
            </ol>
        </div>                    
        
-->

		<div class="forYouToDo">
            <ol start="6">
                <li>
                    This is the general idea for the <em>recursive</em> version of <code>tree</code>.  Build it:<br />
            		<img class="indent" src="/bjc-r/img/7-recursion/tree-nobase.png" alt="tree level:(level#) size:(size#){move(size) steps; turn counterclockwise (25) degrees; tree level:(level-1) size:(size*0.65); turn clockwise(25) degrees; turn clockwise(35) degrees; tree level:(level-1) size:(size*0.85); turn counterclockwise (35); move(-1*size) steps}" title="tree level:(level#) size:(size#){move(size) steps; turn counterclockwise (25) degrees; tree level:(level-1) size:(size*0.65); turn clockwise(25) degrees; turn clockwise(35) degrees; tree level:(level-1) size:(size*0.85); turn counterclockwise (35); move(-1*size) steps}" />
                </li>
                <li>
                	Now run <code>tree level: 9 size: 50</code>. It doesn't work yet. All you see is: <br />
			<img class="indent" src="/bjc-r/img/7-recursion/treebug.gif" alt="Tree drawing never terminates, stuck at a single branch" title="Tree drawing never terminates, stuck at a single branch" />
                </li>
                <li><img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> Try to debug the script. What's going wrong?</li>
            </ol>
        </div> 
        
        
	</body>
</html>