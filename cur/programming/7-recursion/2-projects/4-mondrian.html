<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 7 Lab 2: Recursion Projects, Page 4</title>
	</head>

	<body>
		<h2>Recursive Mondrian</h2>
        <div class="learn">
            <p><strong>On this page,</strong> you will use recursion to create abstract art in the style of Piet Mondrian. <img class="inline" src="/bjc-r/img/icons/tough-stuff.png" alt="Tough Stuff" title="Tough Stuff" />  </p>
        </div>
        
        <div class="forYouToDo" id="first">
            <ol>
                <li>Recursion is not just for fractals. <a href="https://duckduckgo.com/?q=mondrian&ia=images" target="_blank" title="Duck Duck Go: mondrian">Search for the Dutch painter Mondrian</a> to see examples of his artwork.</li>
            </ol>
            <div class="endnote">
                <a href="#hint-frac" data-toggle="collapse" title="Why isn't this a fractal?">Why aren't these fractals?</a>
                <div id="hint-frac" class="collapse">
                    <p>They're like fractals in that the picture is made up of smaller pictures of the same kind.  But, because of the use of randomness, the smaller pictures don't look quite like the big one.  A fractal is "self-similar," which means that it looks just like a piece of itself.</p>
                </div>
            </div>
        </div>
        <p>
            Mondrian did not use a computer, but we can use recursion to <em>model</em> his paintings and create similar images. The base case is one rectangle with a black border around it. That's more complicated than any base case you have worked with before, so you'll use an abstraction called <code>rectangle</code> to hide the drawing script for the base case.<br />
            <img class="indent noshadow" src="/bjc-r/img/7-recursion/mondrian-1.png" alt="Mondrian picture created recursively" title="Mondrian picture created recursively" />
            <img class="indent noshadow" src="/bjc-r/img/7-recursion/mondrian-base-case-blue.png" alt="Mondrian base case: a blue rectangle with a black border" title="Mondrian base case: a blue rectangle with a black border" />
        </p>
        
        <div class="forYouToDo">
            <ol start="2">
                <li>
                    <a class="run" href="/bjc-r/prog/7-recursion/U7L2-Mondrian.xml" target="_blank"><img class="inline" src="/bjc-r/img/icons/load-save.png" alt="Click here to load this file. Then save it to your Snap! account." title="Click here to load this file. Then save it to your Snap! account."></a>
                    <p>
                        Some code is already created for you. There is an instruction to initialize the <var>colors</var> variable with a list of commands.<br />
                        <img class="indent" src="/bjc-r/img/7-recursion/set-colors.png" alt="set (color) to {(set pen color to red), (set pen color to yellow), (set pen color to blue), (set pen color to white), (set pen color to black)}" title="set (color) to {(set pen color to red), (set pen color to yellow), (set pen color to blue), (set pen color to white), (set pen color to black)}" />
                        <div class="endnote">Notice that this is a list of <em>scripts</em>.  The ability to use code as data is a very important abstraction in Snap<em>!</em>.</div>
                    </p>
                    <p>
                        There are partially written blocks for the base case, <code>rectangle</code>, and for the complete recursive procedure, <code>Mondrian</code>.<br />
                        <img class="indent" src="/bjc-r/img/7-recursion/rectangle-block.png" alt="rectangle, width: (400) height: (300)" title="rectangle, width: (400) height: (300)" />
                        <img class="indent" src="/bjc-r/img/7-recursion/Mondrian-block.png" alt="Mondrian, level: (5) width: (400) height: (300)" title="Mondrian, level: (5) width: (400) height: (300)" />
                        <div class="endnote">You might want to make a script that starts with <code>when (r) key pressed</code> for the rectangle and another one with <code>when (m) key pressed</code> for the Mondrian. You can include a <code>clear</code> and the sprite's initial position and direction.</div>
                    </p>
                    <p>There are also the two complete block definitions below. Read them both so you understand what they do.<br />
                        <img class="indent" src="/bjc-r/img/7-recursion/set-pen-to-paint.png" alt="set pen to paint with thickness (thickness) {
    set pen size to (thickness)
    run (item (random) of (colors))
    set (flat line ends) to (true)
}" title="set pen to paint with thickness (thickness) {
    set pen size to (thickness)
    run (item (random) of (colors))
    set (flat line ends) to (true)
}" />
                        <img class="indent" src="/bjc-r/img/7-recursion/set-pen-to-line.png" alt="set pen to black line {
    set pen size to (5)
    set pen (brightness) to (0)
    set (flat line ends) to (false)
}" title="set pen to black line {
    set pen size to (5)
    set pen (brightness) to (0)
    set (flat line ends) to (false)
}" />
                    </p>
                </li>        
                <li>
                    Finish programming the base case, the <code>rectangle</code> block. Your code should
                    <ul>
                        <li>Paint a rectangle with a random color.</li>
                        <li>Draw a black border.</li>
                    </ul>
                    You can do these in either order, whichever works best with your algorithms.
                </li>

                <div class="endnote">
                  <a href="#hint-paint" data-toggle="collapse" title="How do you paint?">How do you paint?</a>
                  <div id="hint-paint" class="collapse">
                    <p>One way is to draw a line of color using the width or height of the rectangle as the pen size.</p></div>
                  <!--<p>You learned about state transparency on <a href="/bjc-r/cur/programming/7-recursion/1-trees/1-recursive-tree.html?topic=nyc_bjc%2F7-recursion-trees-fractals.topic&course=bjc4nyc.html&novideo&noassignment" title="Unit 7 Lab 1 Page 1: Recursive Tree">Unit 7 Lab 1 Page 1: Recursive Tree</a>.</p>-->
                  </div>
              </li>
              <li>
                Debug; be sure you have <code>rectangle</code> set up correctly. Each time you run it, you should see a rectangle with one of the five colors inside and a black border.<br />
                <img class="indent noshadow" src="/bjc-r/img/7-recursion/mondrian-base-case-blue.png" alt="Mondrian base case: a blue rectangle with a black border" title="Mondrian base case: a blue rectangle with a black border" />
                <img class="indent noshadow" src="/bjc-r/img/7-recursion/mondrian-base-case-yellow.png" alt="Mondrian base case: a yellow rectangle with a black border" title="Mondrian base case: a yellow rectangle with a black border" />
                </li>
              <li>Start writing the code for <code>Mondrian</code> by writing its base case, which will just call <code>rectangle</code>.</li>
              <li>
                Now, program the code for the recursive case. Your code should  
                <div class="sidenoteBig">Suggestion: If you have two slightly different cases that depend on which of <var>width</var> and <var>height</var> is bigger, you might make a <code>Mondrian helper</code> block as an abstraction for the part in common.</div>                            
                <ul>
                  <li>
                    Decide how to subdivide the rectangle. Pick a random decimal value from 0.2 to 0.8 and store it in a variable; you will use it more than once.
                    </li>
                  <li>Split the rectangle along whichever side is bigger: the <var>width</var> or the <var>height</var>.</li>
                  <li>
                    Draw a lower-level <code>Mondrian</code> in each part.
                    <div class="endnote">
                      <p>The 0.2 to 0.8 range makes sure that each subdivision is wide enough to see.</p>
                      <p>
                        <a href="#hint-negative" data-toggle="collapse" title="How can you get the negative of a value?">How can you get the negative of a value?</a>
                        <div id="hint-negative" class="collapse">There are several ways:<br />
                          <img class="indent" src="/bjc-r/img/7-recursion/neg-zero-minus.png" alt="(0) - (value)" title="(0) - (value)" />
                          <img class="indent" src="/bjc-r/img/7-recursion/neg-1-times.png" alt="(-1) × (value)" title="(-1) × (value)" />
                          <img class="indent" src="/bjc-r/img/7-recursion/neg-of.png" alt="(neg) of (value)" title="(neg) of (value)" />
                          </div>
                      </p>
                      <p><a href="#hint-buggy" data-toggle="collapse" title="Buggy code? Here are some things to consider.">Buggy code? Here are some things to consider.</a></p>
                      <div id="hint-buggy" class="collapse">
                        <strong>It will be easier to think about your code if <code>rectangle</code> and <code>Mondrian</code> are state invariant.</strong> The sprite should end up in the same position and direction as it started. Check for this in each piece of code (that is, in <code>rectangle</code> and in each branch of the <code>if</code> statement inside <code>Mondrian</code>).
                        <ul>
                          <li>If any piece of your code (such as <code>rectangle</code> or one branch of an <code>if</code>) turns, the sprite should finish facing in the same direction in which it started.</li>
                          <li>It's harder to keep your code state invariant if you move to a particular place or turn in a particular direction, such as by using <code>go to</code>, <code>set x</code>, <code>set y</code>, or <code>point in direction</code>. Instead, use blocks like <code>turn &#8635;</code>, <code>turn &#8634;</code>, and <code>move</code> so that you can undo these changes before leaving that piece of code.</li>
                          </ul>
                        </div>
                      <p><a href="#hint-specific" data-toggle="collapse" title="">Here are a few tips for specific situations.</a></p>
                      <div id="hint-specific" class="collapse">
                        <ul>
                          <li>If you have two recursive calls to <code>Mondrian</code> in the same piece of code, it might help you debug to add a <code>pause all</code> just before the second one.</li>
                          <li>If your first recursive call moves <code>width × fraction</code>, make sure the second call moves through <code>width × (1 - fraction)</code>.</li>
                          <li>If you sometimes rotate 90 degrees before a recursive call to <code>Mondrian</code>, you may need to swap <var>width</var> and <var>height</var> in the recursive call. This is possible but can be confusing to think through.</li>
                          </ul>
                        </div>
                      </div>
                    When you have <code>Mondrian</code> working, it should produce pictures like this:<br />
                    <img class="indent noshadow" src="/bjc-r/img/7-recursion/mondrian-2.png" alt="Mondrian picture created recursively" title="Mondrian picture created recursively" />
                    <img class="indent noshadow" src="/bjc-r/img/7-recursion/mondrian-3.png" alt="Mondrian picture created recursively" title="Mondrian picture created recursively" />
                    </li>
                  </ul>
                </li>
                <li>Look at some actual Mondrian paintings and count how many rectangles he used in each. (Make sure you are looking at actual Mondrians and not imitations, of which there are very many in the search results.)
            Think about what <var>level</var> input makes your pictures look as much like Mondrian's as possible.</li>
            </ol>
        </div>
		<div class="ifTime">
        	<ol start="8">
            	<li>Do the primary colors (red, yellow, and blue) seem too glaring to you?  Mondrian used these colors in almost all his geometric paintings, with only occasional use of softer colors.  Why do you think he chose these intense colors?  Do some research to find out.  (But now you're the artist, and you can use different colors if you prefer.)
                <div class="endnote">
                  <a href="#hint-rgb" data-toggle="collapse" title="Aren't the primary colors red, <em>green,</em> and blue?">Aren't the primary colors red, <em>green,</em> and blue?</a>
                  <div id="hint-rgb" class="collapse">
                  <p>Color is complicated.  When mixing different colors of light, as your computer display does, you use red, green, and blue.  But when mixing <em>paint</em> colors, you use red, yellow, and blue as primary.</p></div>
                  </div>               
                </li>
                
                <li>Do a careful comparison of your program's paintings and Mondrian's.  How faithful is this algorithm (dividing a rectangle, and dividing each piece recursively) to the way Mondrian used lines to divide his canvas?  The random choice of color in each rectangle sometimes uses the same color in rectangles next to each other.  Is that something you see in Mondrian's work?  Think about how your program could be improved.  (That is, for each problem you notice, what specific changes to the code would help?)</li>
                <li>These extremely abstract, geometric paintings came near the end of Mondrian's career.  He started out painting realistic landscapes, and moved to greater and greater abstraction over time.  To learn more about the range of Mondrian's work, read <a href="https://en.wikipedia.org/wiki/Piet_Mondrian"> the Wikipedia article</a>.</li>
            </ol>
        </div>

</body>
</html>