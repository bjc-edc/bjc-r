<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 1 Lab 5: Follow the Leader, Page 2</title>
	</head>

	<body>
    	<h2>Sprite Following a Sprite</h2>
		<div class="todo">Brian, the solution file needs to be updated for the new version of TELL (see <a href="https://piazza.com/class/h8yx482idav52y?cid=1733" target="_blank">relevant piazza post</a>), and the problem that includes TELL (the solutions appear to use broadcast instead). --MF, 11/6/17</div>

		<div class="learn">
	        <p><strong>On this page,</strong> you will change the script so that the sprites don't move forever, but only until they touch.</p>
        </div>

        <div class="forYouToDo" id="first">
            <ol>
				<li>
                    Change <strong>Follower</strong>'s code to point towards <strong>Leader</strong> only until it is touching <strong>Leader</strong>. (The following instructions show how.)
					  <ol>
                    	<li>Select <strong>Follower</strong> by clicking its button below the stage.</li>
                        <li>Replace the <code>forever</code> block with a <code>repeat until</code> block.</li>
                        <li>
                        	Drag <img src="/bjc-r/img/blocks/touching.png" alt="touching ()?" title="touching ()?"> into the hexagonal space in the <code>repeat until</code> block. Set it to repeat until it is <code>touching</code> <strong>Leader</strong>.<br />
                            <div class="endnote">
                                <a href="#hint-touching" data-toggle="collapse" title="Click for a video of this code being built.">Click for a video of this code being built.</a>
                                <div id="hint-touching" class="collapse">
                                    <img src="/bjc-r/img/1-introduction/replacing-code.gif" alt="Animation of changing Follower's code to point towards Leader only until it is touching Leader. The original script is:
when 'greenflag' clicked {
    forever {
        point towards (Leader)
    }
}
The Control palette is open, and the programmer scrolls down and drags out the 'repeat until' block. The programmer moves 'point towards (Leader)' from 'forever' into 'repeat until' and returns 'forever' to the palette. They then change to the 'Sensing palette', drag 'touching (mouse-pointer)?' into the input slot of 'repeat until', and select 'Leader' from the 'touching?' input slot drop-down menu. The resulting script is:
when 'greenflag' clicked {
    repeat until (touching (Leader)) {
        point towards (Leader)
    }
}" title="Animation of changing Follower's code to point towards Leader only until it is touching Leader. The original script is:
when 'greenflag' clicked {
    forever {
        point towards (Leader)
    }
}
The Control palette is open, and the programmer scrolls down and drags out the 'repeat until' block. The programmer moves 'point towards (Leader)' from 'forever' into 'repeat until' and returns 'forever' to the palette. They then change to the 'Sensing palette', drag 'touching (mouse-pointer)?' into the input slot of 'repeat until', and select 'Leader' from the 'touching?' input slot drop-down menu. The resulting script is:
when 'greenflag' clicked {
    repeat until (touching (Leader)) {
        point towards (Leader)
    }
}" />
                                </div>
                            </div>
                        </li>
                    </ol>
                </li>
				<li>Do the same for <strong>Leader</strong>. Change its code to follow your mouse only until it is <code>touching</code> <strong>Follower</strong>.</li>
                <li>Test your program to see if it does what you want:
                	<ul>
                    	<li>When you click <img src="/bjc-r/img/1-introduction/green-flag_button.png" style="height:1.6em;" alt="green-flag button" title="green-flag button"/>, <strong>Leader</strong> (the gray one) should follow your mouse and <strong>Follower</strong> should keep turning to face <strong>Leader</strong>.</li>
                        <li>If you bring <strong>Leader</strong> close enough  to touch <strong>Follower</strong>, both sprites should stop moving.</li>
                    </ul>
                </li>
                <li>
                	So far, <strong>Follower</strong> <em>points </em>toward <strong>Leader</strong>, but doesn't <em>move</em> toward it.
                    <ol>
                        <li>
                            Add a line of code to <strong>Follower</strong>'s script so that it chases <strong>Leader</strong>. Here's the idea:<br />
                            <div class="sidenote">Fill the input slot in the <code>move</code> block with a small number so  <strong>Follower</strong> doesn't catch <strong>Leader</strong> too quickly.</div>
                            <img class="indent" src="/bjc-r/img/1-introduction/move-tiny.png" alt="when green flag clicked:
repeat until (touching (Leader)?)
{
    point towards (Leader)
    move () steps ← Comment: Type a small value in this empty input slot.
}" title="when green flag clicked:
repeat until (touching (Leader)?)
{
    point towards (Leader)
    move () steps ← Comment: Type a small value in this empty input slot.
}">
                        </li>
                        <div class="ap-standard">AAP-2.K.5</div>
                        <li>What happens if the sprites are already touching? That is, what happens if you drag one sprite on top of the other and then click the green flag? Why?</li>
                        <div class="ap-standard">AAP-2.K.4</div>
                        <li>Experiment. What happens if the input to <code>move</code> is 0?</li>
                    </ol>
                    <div class="vocabFullWidth">
                        <p>When a program keeps running forever, that's called an <strong>infinite loop</strong>.</p>
                    </div>
                </li>
            </ol>
        </div>

        <div class="examFullWidth">
            <div class="ap-standard">AAP-2.K.3</div>
            <div class="sidenoteBig">
                <div class="pseudop">The language used on the AP Exam doesn't allow spaces in names of inputs (such as <var>number of fish</var>) or in programmer-defined procedures (such as <code>mouse y</code>, which isn't built into their language). So this example translates them to <pre class="inline">numFish</pre> and <pre class="inline">MouseY()</pre>.</div>
                <div class="pseudop">The reason for the <pre class="inline">()</pre> or box after <pre class="inline">MouseY</pre> is that <pre class="inline">MouseY()</pre> is a procedure call even though it doesn't take any inputs. </div>
            </div>
            <p>
                The script<br />
                <img class="indent" src="/bjc-r/img/1-introduction/example-repeat-until.png" alt="repeat until (mouse y < 0) {say (number of fish)}" title="repeat until (mouse y < 0) {say (number of fish)}" /><br />
                would be written as<br />
                <div class="pre-container indent"><pre>REPEAT UNTIL(mouseY() &lt; 0)
{
    DISPLAY(numFish)
}</pre></div>
                or
                <img class="inline" src="/bjc-r/img/1-introduction/repeat-until-blocktran.png" alt="a gray rounded rectangle containing all of the following: on the first line, first the words 'REPEAT UNTIL' in all caps and then a smaller gray rounded rectangle containing 'mouseY () &lt; 0' and on the second line, a white rounded rectangle with a smaller white rounded rectangle inside that contains first the word 'DISPLAY' in all caps and then a smaller white rectangle containing 'numFish'" title="a gray rounded rectangle containing all of the following: on the first line, first the words 'REPEAT UNTIL' in all caps and then a smaller gray rounded rectangle containing 'mouseY () &lt; 0' and on the second line, a white rounded rectangle with a smaller white rounded rectangle inside that contains first the word 'DISPLAY' in all caps and then a smaller white rectangle containing 'numFish'" />
            </p>
            <p>Remember, you don't need to learn to write the made-up language used on the AP exam. You just have to be able to read and answer questions about it.</p>
        </div>

        <div class="forYouToDo">
			<ol start="5">
				<li>Test your program a few times. </li>
            	<img class="inline" src="/bjc-r/img/icons/pair-programming-swap.png" alt="Pair Programming Swap" title="Pair Programming Swap" />
                <li>
                	<p>Right now, when the sprites meet, they just stop. Make them have a conversation when they stop. You can do that by adding code like this to <strong>Leader</strong>'s script. Make up your own conversation. You can use any language you can type. Here's an example using several languages.</p>
                    <div class="sidenoteBig"><strong>Leader</strong> does things itself. It also tells <strong>Follower</strong> what to do and when to do it. This code puts <strong>Leader</strong> in charge of <strong>Follower</strong>.</div>
                    <div class="vocab">
                        <div class="ap-standard">CRD-2.B.2, AAP-2.B.2, AAP-2.B.6</div>
                        <p>A <strong>code segment</strong> is a sequence of connected instructions that carry out a purposeful action, such as the one pictured on the left, which animates a conversation.  The instructions in the code segment are carried out in order, from top to bottom.</p>
                    </div>
                    <img class="inline" src="/bjc-r/img/1-introduction/simpledialogue-going-to-lunch.png" alt="partial script of a conversation between two sprites:
‘partially cut off script’
say (¡Hola!) for (2) secs
tell (Follower) to (say (Hello!) for (2) secs)
say (Ou vle manje yon bagay?) for (2) secs
think (Would you like something to eat?) for (2) secs
tell (Follower) to (say (Спасибо. Я очень голоден.) for (2) secs; think (Thank you. I’m very hungry.) for (2) secs)
glide (1) secs to x: (200) y: (30)
tell (Follower) to (glide (1) secs to x: (200) y: (30))" title="partial script of a conversation between two sprites:
‘partially cut off script’
say (¡Hola!) for (2) secs
tell (Follower) to (say (Hello!) for (2) secs)
say (Ou vle manje yon bagay?) for (2) secs
think (Would you like something to eat?) for (2) secs
tell (Follower) to (say (Спасибо. Я очень голоден.) for (2) secs; think (Thank you. I’m very hungry.) for (2) secs)
glide (1) secs to x: (200) y: (30)
tell (Follower) to (glide (1) secs to x: (200) y: (30))" />
				</li>
            </ol>
            <div class="endnote">
                To prevent the two sprites from being stuck to each other unable to move, the sprites will need some space between them and some time apart before the chase starts.  Blocks such as these may help.<br />
                <img class="indent" src="/bjc-r/img/1-introduction/U1ImageVideoAddendum_img/U1L5p2-PuppySeparation.png" height="90" alt="go to x:(-200) y:(-50); wait (1) secs & go to x:(200) y:(-50); wait (1) secs" title="go to x:(-200) y:(-50); wait (1) secs & go to x:(200) y:(-50); wait (1) secs"/>
            </div>
            <img class="inline" src="/bjc-r/img/icons/save-now.png" alt="Save your work" title="Save your work" />
    	</div>


        <div class="ifTime">
            <ol start="7">
                <li>
                    Give the sprites costumes.
                    <div class="endnote">You can use a picture from the Internet by dragging the picture into the Snap<em>!</em> window.</div>
                </li>
	            <li>
                    Change the background on the stage.
                    <div class="endnote">There are instructions in the If There Is Time section on <a href="/bjc-r/cur/programming/1-introduction/2-gossip-and-greet/3-customizing.html?topic=nyc_bjc%2F1-intro-loops.topic&course=bjc4nyc.html&novideo&noassignment" title="Unit 1 Lab 2 Page 3: Customizing and Debugging">Unit 1 Lab 2 Page 3: Customizing and Debugging</a>.</div>
                </li>
            </ol>
        </div>


    </body>
</html>
