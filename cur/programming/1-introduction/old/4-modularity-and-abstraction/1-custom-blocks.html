<!DOCTYPE html>
<html lang="en">
    <head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
        <script type="text/javascript" src="/bjc-r/utilities/gifffer.min.js"></script>
		<script type="text/javascript">window.onload = function() {Gifffer();}</script>
        <link rel="stylesheet" type="text/css" href="/bjc-r/css/bjc-gifffer.css">
        <script> window.newtext='<br /><img src="/bjc-r/img/1-introduction/draw-triangle.gif"  alt="Pencil trace of turn angle drawing a triangle">';</script>
        <title>Unit 1 Lab 4: Introduction to Modularity and Abstraction, Page 1</title>
    </head>
    
    <body>
        <h2>Designing Custom Blocks</h2>
        <!--<div class="todo">From Observation Notes Analysis: 
        	<ul>
            	<li>U1L4 (now seemingly moved here): "The Build House mini-project was hard for at least one student who said that building their own blocks was the problem there."</li>
                <li>U3L4 (seemed more relevant here now): "… idea of building special-purpose blocks --- the abstraction thing --- is hard….kids' calculations tend for a long time to be "spaghetti code." The TG doesn't suggest anything to help the teacher clarify what the problem is before students start working on it…"</li>
            </ul>
        </div>-->
        <img class="inline" src="/bjc-r/img/icons/work-with-a-partner.png" alt="Work with a Partner" title="Work with a Partner" />
        <!--<p class="code-vid">
          <iframe width="560" height="315" src="//www.youtube.com/embed/8T5acEwfJbw" frameborder="0" allowfullscreen></iframe>
          <br />
          Thanks to <a href="http://code.org">code.org</a> for this video!
        </p>-->
    
        <p>
        	In this lab, you'll code a <img class="inline" src="/bjc-r/img/1-introduction/draw-gameboard-with-3-tiles.png" alt="draw gamboard with (3) tiles per row" title="draw gamboard with (3) tiles per row" /> block that can be used for Tic Tac Toe and other games, and you'll build a simple Tic&nbsp;Tac&nbsp;Toe game, like this:<br />
            <img class="indent noshadow" src="/bjc-r/img/1-introduction/Simpler-TicTacToe-video.gif" width="312" alt="Tic Tac Toe video">
        </p>
        <p>So far, you've only used blocks that already existed in Snap<em>!</em>. Now, you'll learn to build your own blocks and use them to make other blocks.</p>
        <p>
            To build the Tic Tac Toe gameboard, you'll start by defining a <code>draw square</code> block with a familiar script:  <!--Then, you'll define <code>draw triangle</code>, then <code>draw house</code>, and finally <code>draw row of houses</code>.--><br />
            <!--<img class="indent noshadow" src="/bjc-r/img/1-introduction/row-houses.png" alt="Row of 4 Houses" title="Row of 4 Houses" />-->
			<img class="indent" src="/bjc-r/img/1-introduction/draw-square-def-repeat-4(move-50-turn-right-90).png" alt="repeat-4(move-50-turn-clockwise-90)" title="pen down, repeat 4 (move 50 steps, turn CW 90 degrees)" />
		</p>
        
        <div class="takeNote">Creating a block gives a <em>name</em> to a script that can be called in multiple places across a program. This is a form of <strong>abstraction</strong>, tucking away the details of your code to make the overall structure clearer and easier to debug. <!--Soon, you'll learn how to <a href="/bjc-r/cur/programming/1-introduction/3-building-blocks/2-adding-an-input.html?topic=nyc_bjc%2F1-intro-loops.topic&course=bjc4nyc.html&novideo&noassignment">give your script an input</a>, just as <img class="inline" src="/bjc-r/img/1-introduction/move-50.png" height="36" alt="move 50 steps" title="move 50 steps"> takes an input to tell the sprite how far to move.--></div>
        
        <div class="forYouToDo" id="first">
			<ol>
				<li><div class="newProject"><span class="text">"U1L4-TicTacToe"</span><img src="/bjc-r/img/icons/new-project-called.png" alt="Create a new project called U1L4-TicTacToe" title="Create a new project called U1L4-TicTacToe" /></div></li>
            	<li>
					<div class="sidenote">To get the Block Editor, you can also click <img class="inline" src="/bjc-r/img/1-introduction/make-a-block.png" alt="Make a block" title="Make a block" /> near the bottom of the Variables palette.</div>
					Build the <code>draw square</code> block.
                    <ol>
                    	<li>Right-click (or, on a Mac, control-click) on the gray background of the scripting area.</li>
                        <li>Choose "make a block..."</li>
                        <li>Build the script for <code>draw square</code>, and press OK or Apply.</li>
                    </ol>
                    The video below shows the first few steps. More details about defining blocks are in the big yellow section below.<br />
					<img class="indent" data-gifffer="/bjc-r/img/blocks/make-a-square-block.gif" alt="make a block"><br />
				</li>
                <li>
					<div class="sidenoteBig">Find your block at the bottom of the palette you chose when you defined the block. If you created the block as a "Motion" block, you will find it in the "Motion" palette. (If you didn't choose a palette, it will be in with "Variables.")</div>
                    Test your <code>draw square</code> block, using it the same way you've used other blocks. Fix your code if necessary.<br />
                    <img class="indent" src="/bjc-r/img/1-introduction/pen-down-draw-square.png" alt="pen down, draw square" title="pen down, draw square" /><br />
	                Congratulations! You have just created your first custom block.
                    <img class="imageRight" src="/bjc-r/img/icons/save-now.png" alt="Save your work" title="Save your work" />
				</li>
            </ol>
		</div>
        
                
        <div class="endnote">
	        <h3 class="box-head">Optional Details on Making a Custom Block</h3>
            Every block needs a place to "live" (a <strong>palette</strong>, shown by the color), a <strong>title</strong>, a <strong>category</strong> (shown by the shape of the block), and a <strong>script</strong> that defines its behavior.
			<ul>
				<li> 
                    <div class="sideHOMbig">You can put the new block in any palette that makes sense to you. If you don't choose a palette/color, your block will be a gray "Other" block and will be sorted into the "Variables" palette.</div> 
                    <strong>Palette:</strong> Choose a palette for your new block. (You might choose "Motion" or "Pen" for the <code>draw square</code> block.)<br />
                    <!--<img  alt="'make a block' dialog box" width="260" src="/bjc-r/img/sys/make-a-block-BYOB.png" >-->
                </li>
                <div class="manual">You can find more information in the <a href="http://snap.berkeley.edu/snapsource/help/SnapManual.pdf#page=17" target="_blank">Snap<em>!</em> Manual pages 17-18</a>.</div>
                <div class="comment">Do we want to keep Snap<em>!</em> Manual references like the purple one above? --MF, 12/13/16</div>
                <li> 
                    <strong>Title:</strong> Give your block a name. For this block, type "draw square" as shown here.<br />
                    <img class="indent" src="/bjc-r/img/1-introduction/make-draw-square-block.png" alt="Make a command block" title="Make a command block" />
                </li>
                <li><strong>Category:</strong> Leave "Command" selected since this block  performs an action (drawing a square) rather than reporting a value.</li>
				<div class="takeNote">In this course, you will almost always want to keep "for all sprites" selected, so you can ignore that choice for now, and <strong>click "OK."</strong></div>
                <li>
                    <strong>Define the behavior of the <code>draw square</code> script:</strong> When the "Block Editor"  appears, drag blocks from the palette into the editor to define the script for your new block just as you have done before. <!--<a href="/bjc-r/cur/programming/1-introduction/2-drawing-interaction/1-exploring-snap-drawing-motion.html#building">Drag blocks from the palette to define the script that will run when your custom block is used. -->When finished, click "OK" or "Apply".<br />
					<div class="sideHOMbig">
                        <p>The Block Editor starts you with a <em>hat</em> block that contains a picture of your custom <code>draw square</code> block.</p>
                        <p>Hat blocks say <em>when</em> the script below them should run: <code>when flag clicked</code>, <code>when space key pressed</code>, etc.</p>
                        <p>This hat block says to follow the script below it when the <code>draw square</code> block is called. <!--(Don't worry about the <strong>+</strong> signs for the moment; they just let you add more words or inputs.)--></p>
                    </div>
                    <img class="indent" src="/bjc-r/img/1-introduction/draw-square-definition.png" alt="Script to draw a square" title="Script to draw a square" /> 
                </li>
			</ul>
		</div>    

        
        <div class="ifTime">
            <ol start="4">
                <!--<img class="imageRight" src="/bjc-r/img/1-introduction/house.jpg" alt="House" title="House" />-->
                <!-- Still relevant? --MF, 12/13/16
                <div class="todo">In 1.3.1.4 we show a video of someone drawing the turning at the corner of an equilateral triangle.  But we gave away the story in 1.2.4. --AC</div>-->
                <li>
                	Define a <code>draw triangle</code> block that draws an equilateral triangle.
					<!-- I don't find this image helpful. --MF, 12/13/16 <a id="hintbutton" onClick="document.getElementById('hintbutton').innerHTML=window.newtext;Gifffer();">(Don't click this sentence unless you've been working on this for ten solid minutes and need a hint.)</a>-->
				</li>  
                <!--Dropped because it's not connected to the TTT project. --MF, 12/13/16
                <li>Create a <code>draw house</code> block that uses your <code>draw square</code> and <code>draw triangle</code> blocks together to draw a "house" shape: a square with a triangular shaped roof sitting on top.  (You might have to do some debugging to get the two shapes to connect properly.)</li>
                <li>
                    Build a <code>draw row of houses</code> block that draws a row of attached houses, each new one to the right of the previous, until the sprite moves too close to the right edge of the screen. For that, you will need <code>repeat until</code>.<br />
                    <img class="indent" src="/bjc-r/img/1-introduction/repeat-until-(x-position-greater-than-190).png" alt="repeat-until-(x-position-less-than-210)">
					<img class="imageRight noshadow" src="/bjc-r/img/1-introduction/row-houses.png" alt="Row of 4 Houses" title="Row of 4 Houses" />
                </li>-->
            </ol>
        </div>
        
        <!-- We can't do this yet because we've done nothing with inputs so far. --MF
        <div class="takeItFurther">
            <ol type="A">
                <img class="imageRight" src="/bjc-r/img/drawing/flower-with-6-square-petals.png" alt="flower with 6 square petals">
                <li>Use your <img class="inline" src="/bjc-r/img/blocks/draw-square-empty-parameter.png" alt="empty square ()" title="empty square ()" /> block to create a block <img class="block" src="/bjc-r/img/1-introduction/draw-square-petal-flower-empty-parameters.png" alt="360 divided by the number of petals"> that will draw a  flower with square petals, like the one shown here, but with any specified number of square-shaped petals of the specified size.  Calling <img class="block" src="/bjc-r/img/1-introduction/draw-square-petal-flower-6-50-parameters.png" alt="block: draw a flower with 6 petals of size 50"> should draw the example picture shown here.</li>
                <div class="endnote"><img class="imageRight" src="/bjc-r/img/icons/talk-with-another-pair-mini.png" alt="Talk with Another Pair" title="Talk with Another Pair" />After you've worked on this for a bit, take a moment to look at what others have done.  If you see something you like, think how you could use that idea in your program.</div>		
                <li>
                    Now, draw a field of flowers and give each flower a different color, size, shape, position, and so forth.
                    <ol>
                        <li>Use some of the simple custom blocks you've already written, and write new custom blocks that make use of those simpler blocks to do complicated things.</li>
                        <li>Use <img class="inline" src="/bjc-r/img/blocks/repeat.png" alt="repeat block"> to draw lots of flowers.</li>
                        <li>Use <img class="inline" src="/bjc-r/img/blocks/pick-random-empty-args.png" alt="pick random block">  to make the flowers interesting and different.</li>
                    </ol>
                </li>
            </ol>
        </div>-->


    </body>
</html>
