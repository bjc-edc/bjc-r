<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
        <title>Lab 4: Building and Debugging Your Own Blocks</title>
    </head>
    <body>
        <!--<p class="code-vid">
          <iframe width="560" height="315" src="//www.youtube.com/embed/8T5acEwfJbw" frameborder="0" allowfullscreen></iframe>
          <br />
          Thanks to <a href="http://code.org">code.org</a> for this video!
        </p>-->
        <h2>Making a Custom Block</h2>
        
        <div class="todo">
        <ul>
        	<li>JK: Teachers at the EDC PD day wanted an animation on this page. They got stuck on these instructions. (They also really didn't like to read.)</li>
        </ul>
        </div>
        
        <img class="imageRight" alt="Script to draw a square" src="/bjc-r/img/building-blocks/draw-square-no-arguments.png" >
        <div>Up until now, you used blocks that already existed. You will now learn how to build your own blocks. You will start by making a block that draws a square and you will name this new block <code>draw square</code>. Here's how:</div>
        <div class="forYouToDo" id="first">
            <ol>
                <li>At the bottom of the "Variables" palette, click on <img class="inline" src="/bjc-r/img/1-introduction/make-a-block.png" alt="Make a block" title="Make a block" /></li>
                <img class="imageRight" src="/bjc-r/img/1-introduction/make-a-block.jpg" alt="Make a block option in scripting area" title="Make a block option in scripting area" />
                <div class="endnote">As a short-cut, you can right-click (or control-click) on the scripting area background and choose "Make a block" (shown right). This opens up the same "Make a block" dialog box shown below.</div>
                <li>
                	Every block needs a category (color), a title, a stype (shape), and a script that defines its behavior.
                	<ol>
                    	<li> 
                       		<strong>Category:</strong> Choose the tab of the category you want your new block to go into. ("Motion" or "Pen" might be nice for the <code>draw square</code> block.<br />
                    		<div class="sidenote">You can put the new block in any category that makes sense to you. If you don't choose a Category/color, your block will be a gray "Other" block and will be sorted into the "Variables" tab along with <a href="/bjc-r/cur/programming/3-lists/1-introduction-to-lists/getting-started.html">lists</a>.</div>
                            <img  alt="'make a block' dialog box" src="/bjc-r/img/sys/make-a-block-BYOB.png" >
                		</li>
                   		<li> 
                        	<strong>Title:</strong> Give your block a name. Type "draw square" as shown here.<br />
                    		<img  alt="Make a command block" src="/bjc-r/img/sys/make-draw-square-block.png" >
                    	</li>
                 		<div class="comment">replace <code>x position</code> and <code>sqrt of 25</code> with blocks.</div>
                        <li><strong>Type:</strong> Leave "Command" selected since we want to command the computer to draw a square.
                        <div class="endnote">
                            You've seen commands before and also reporters, which report information, like this:
                            <p class="center">
                            <img class="inline" src="/bjc-r/img/1-introduction/x-position-reporting--79.png" alt="x position reporting -79" title="x position reporting -79" />
                            <img class="" src="/bjc-r/img/1-introduction/sqrt-of-25-reporting-5.png" alt="Sqrt of 25 reporting 5" title="Sqrt of 25 reporting 5" />
                            </p>
                            You will learn about other types of blocks, like predicates, <a href="/bjc-r/cur/programming/1-introduction/5-types-of-blocks/1-commands-and-reporters.html">later</a>.
                        </div>
                        </li>
                        
                  		<li>
                        	In this course, you will almost always want to keep "for all sprites" selected, so you can ignore that choice for now, and click "OK". A dialog titled "Block Editor" will appear.<br />
    					    <img src="/bjc-r/img/prog/empty-draw-square-BYOB.png" alt="Block Editor for 'draw square'" >
        					<div class="sidenote">The editor starts you with a <strong>hat</strong> block, a kind of block that is the start for any block you create. It contains the title of your block, <code>draw square</code>, in this case. Hat blocks can never be in the middle of a script, only at the top.</div>
                        </li>
        				<li>
                			<strong>Behavior:</strong> Build the instructions for your new block here exactly as you do in the scripting area:  Drag blocks from the palette to define the script that will run when your custom block is used. <br />
                   			<img class="indent" alt="Script to draw a square" src="/bjc-r/img/building-blocks/draw-square-no-arguments.png" >
                        </li>
                    </ol>
                </li>
            </ol>
        </div>
        
        <p>When you click "OK", you can use this block exactly the way you have used other blocks. Since you created the block as a "Motion" block, you will find it in the "Motion" tab.</p>
        <img class="indent" alt="Using the 'draw square' block" src="/bjc-r/img/prog/draw-square-block-BYOB.gif" />
        <p>Congratulations! You have just created your first custom block.</p>
		
        <div class="takeItFurther">
            <ol start="4">
            	<li>Define <code>draw triangle</code>, a custom block that draws an equilateral triangle with the same sidelength as the square you just drew. </li>
            	<li>Figure out a script that uses these two blocks to draw a "house" shape: a square with a triangular shaped roof sitting on top. Then create a new block <code>draw house</code> that is defined by that script. </li>
            </ol>
        </div>

<!--From Adding-an-input.html -->

		<h3>Adding an Input</h3>
        <div class="sidenote">
        	You've seen many blocks that take an input variable:<br />
        	<img class="inline" src="/bjc-r/img/blocks/move-10-steps.png" alt="move 10 steps" title="move 10 steps"><br />
			<img class="inline" src="/bjc-r/img/blocks/turn-CW-15-degrees.png" alt="turn clockwise 15 degrees" title="turn clockwise 15 degrees"><br />
            <img class="inline" src="/bjc-r/img/blocks/go-to-x-y-0-0.png" alt="go to x:0 y:0" title="go to x:0 y:0"><br />
            <img src="/bjc-r/img/blocks/say-Hello!-for-2-secs.png" class="inline" alt="say Hello! for 2 secs" title="say Hello! for 2 secs" /><br />
            <img src="/bjc-r/img/blocks/think-Hmm...-for-2-secs.png" class="inline" alt="think Hmm... for 2 secs" title="think Hmm... for 2 secs" /><br />
            <img src="/bjc-r/img/blocks/play-note-60-for-0.5-beats.png" class="inline" alt="play note 60 for 0.5 beats" title="play note 60 for 0.5 beats" />
        </div>
        <p>You have just created blocks that draw something (a square, a triangle, a house, etc.) of a certain size by giving your block an <em>input</em> that tells your blocks what size image you want to draw.</p>
        <div class="forYouToDo" id="first">
            <ol>
                <li>
                    <p>To edit a block, right-click (or control-click) on it (either in the palette or in a script) and select "edit" to put it back in the block editor.</p>
                    <img  title="Editing the 'draw square' block" alt="Editing the 'draw square' block" src="/bjc-r/img/sys/edit-current-block.png" >
                </li>
                <li>   
                    <p>In the "Block Editor," hover your cursor over the words and plus signs (<b>+</b>) in the hat block.</p>
                    <p>Clicking on a word will let you change that word; clicking on a <b>+</b> will let you add something in that position. You want to add an input after the title, so click on the <b>+</b> at the end.</p>
                    <img  alt="draw square editor" src="/bjc-r/img/sys/draw-square-block-editor.png" >
                </li>
                <li>
                    <p>You should get the following dialog box.</p><div class="sidenote">
            <div>Another common word for <em>input</em> in mathematics and computer science is <em>argument</em>. </div>
        </div>
                    <img title="Adding an argument to the 'draw square' block" alt="Adding an argument to the 'draw square' block" src="/bjc-r/img/sys/add-argument-in-block-signature.png" >
                    <p>You have two choices about what you want to add or modify to the block definition: </p>
                    <ol>
                        <li>"Title text" (unselected in the picture above) will let you add a word or words to the block's title. For example, if you wanted to change the name of the block from <code>draw square</code> to <code>draw square picture</code> you'd click on "Title text" and type the word "picture" into the text box.</li>
                        <li>"Input name" (selected in the picture above) will let you add an <i>input</i>. This is what you want now, and is selected by default any time you open this dialog.</li>
                    </ol>
                    <p>Give the input a name that makes its meaning clear to any reader: <code>size</code> or <code>sideLength</code> would be good.  Type that name in the input field and click "OK."</p>
                </li></ol></div>
                <div>
                Your block title has changed: there is now a variable named <code>size</code> at the end of the title.<br />
                    <img title="New variable in the 'draw square' block" alt="New variable in the 'draw square' block" src="/bjc-r/img/building-blocks/draw-square-size-unused-argument.png" >
                </div>
                
                
                <div class="forYouToDo"> <ol start="4">
                <li> <div class="sidenote"> <div>This is exactly what you did when you used the variable in the <code>for</code> block.</div> </div>
            
                    <p>To use the <code>size</code> variable within the <code>draw square</code> block, drag the variable <code>size</code> down into the move block. Whenever you need a new copy of a variable, just drag another down.  </p>
                    
                    <img  title="Adding a variable to the body" alt="Adding a variable to the body" src="/bjc-r/img/building-blocks/draw-square-size-pull-argument.gif">
                </li>
                <li> <div class="sidenote"> <div>If you have extra copies of a block or variable or script that you want to get rid of, you can drag it all the way to the palette at the left of the <span class="snap">snap</span> window.</div> </div>
                    <p>When you click "OK", you'll see that the <code>draw square</code> block in the scripting area now takes an argument. Run this script with a few different inputs to check that it works.</p>
                    <img border="0" title="Running the 'draw square' block with an argument" alt="Running the 'draw square' block with an argument" src="/bjc-r/img/prog/draw-square-block-with-arg-BYOB.gif" origsrc="http://veritas.eecs.berkeley.edu/courses/file.php/17/Images/Lab04/Square/RunSquareWithArgument.gif">
                </li>
                <li>Now edit your <code>triangle</code> and <code>house</code> blocks so that you can draw houses of any size you specify as input.
            </ol>
        </div>



    </body>
</html>
