<!DOCTYPE html>
<html>
    <head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
        <script src="/bjc-r/llab/loader.js"></script>
		<title>Unit 2 Lab 4: Making Computers Do Math, Page 2</title>
    </head>

    <body>
		<h2>Making a Mathematical Library</h2>
        <div class="todo">
            <p>BH and Mary need to talk about Katex style. --MF, 9/12/18</p>
        </div>
        <div class="todo">Need to fix SUCH THAT in all images of KEEP and all corresponding alt/text. But only if we keep KEEP the way it is now (without such that). --MF, 8/12/19</div>
        
        <div class="learn"><strong>In this project</strong>, you will create a <em>library</em> (a collection) of math tools building on the blocks you built in <a href="/bjc-r/cur/programming/2-complexity/3-predicates/1-what-is-predicate.html?topic=nyc_bjc%2F2-conditionals-abstraction.topic&course=bjc4nyc.html&novideo&noassignment" title="Lab 3 Page 1: What's a Predicate?">Lab 3 Page 1: What's a Predicate?</a>.</div>
        <div class="vocabBig">
            <div class="todo">AAP-3.D.1</div>
            <p>A <strong>software library</strong> is a collection of procedures that can be used in other programs.</p>
        </div>

        <div class="todo">AAP-2.M.3, AAP-3.D.3</div>
        <p>Using <em>libraries</em> simplifies the development of new programs. Using procedures that you already know work correctly reduces the amount of time you need to spend coding, the number of possible bugs you can have, and how much of your project you need to test.</p>
		                
        <div class="forYouToDo" id="first">
            <ol>
                <li>
                    Export the mathematical blocks from your U2L3-Predicates project and import them into your U2L4-MathLibrary project.
                    <div class="narrower">
                        <h4><strong>Exporting Blocks</strong></h4>
                        <ol type="a">
                            <li><strong>Open the Snap<em>!</em> project</strong> from which you want to export blocks. (In this case, your U2L3-Predicates project.)</li>
                            <li><strong>Choose "Export blocks..."</strong> from the Snap<em>!</em> file menu (<img class="inline" src="/bjc-r/img/1-introduction/file_button.png" alt="File menu button" title="File menu button"/>).</li>
                            <li>
                                <strong>Select only the block(s) you wish to export</strong>. (In this case, you want <code>between?</code>,  <code>&le;</code>, <code>&ge;</code>, <code>&ne;</code>, and perhaps also <code>integer?</code> if you had time to build it.)
                                <div class="endnote">You can either <em>deselect</em> the blocks you don't need exported, or you can right-click the background, choose "none," and then select only the ones you want.</div>
                            </li>
                            <div class="sidenoteBig">Snap<em>!</em> libraries and Snap<em>!</em> projects are both exported as XML files.</div>
                            <li>
                                <strong>Click "OK."</strong> An XML file will download.
                            </li>
                        </ol>
                    </div>
                </li>
                <div class="todo">TG: See the "Block Libraries" section on the bottom of page 29 in the <a href="https://snap.berkeley.edu/snapsource/help/SnapManual.pdf#page=29" target="_blank" title="Snap! Reference Manual">Snap<em>!</em> Reference Manual</a> for more information about exporting and importing.</div>
                <li>
                    Import these blocks into your U2L4-MathLibrary project, test them and resolve any issues, and save.
                    <div class="narrower">
                        <h4><strong>Importing Blocks</strong></h4>
                        <ol type="a">
                            <li><strong>Open the Snap<em>!</em> project</strong> into which you want to import blocks. (In this case, your U2L4-MathLibrary project.)</li>
                            <li>
                                <strong>Import the XML file</strong> by dragging the XML file into the Snap<em>!</em> window.
                                <div class="endnote">
                                    You can also import the XML file by choose "Import..." from the Snap<em>!</em> file menu and locating the XML file on your computer, and clicking "Open."
                                </div>
                            </li>
                            <li>
                                <strong>Test the blocks</strong> that you imported:
                                <ol>
                                    <li><strong>Find the imported block(s)</strong> at the <em>end</em> of the palettes that contains them.</li>
                                    <li><strong>Click each imported block to make sure it runs properly.</strong></li>
                                </ol>
                            </li>
                        </ol>
                    </div>
                </li>
            </ol>
        </div>
        <div class="takeNote">
            <h4><strong>Debugging<a name="dependencies" class="anchor">&nbsp;</a>Dependencies</strong></h4>
            <img class="imageRight" src="/bjc-r/img/2-complexity/even-obsolete.png" alt="even? (number#){report(Obsolete!)}" title="even? (number#){report(Obsolete!)}" />
                <p>You created your <code>even?</code> block using another custom block, <code>divisible by?</code>. If you want to use <code>even?</code> in another project one day, you must export <em>both</em> blocks in order for <code>even?</code> to work properly.</p>
                <p>If you ever see this red <code>Obsolete!</code> block in code you have imported, it means that a required block was not exported. You'll have to go back to the original project and export again being sure to select all of the blocks needed by the blocks you want.</p>
        </div>
        <div class="forYouToDo">
			<ol start="3">
				<li>
                    <div class="comment">AAP-3.D</div>Copy and modify existing code to develop an <code>odd?</code> predicate to add to your library.<br />
                    <img class="indent" src="/bjc-r/img/2-complexity/odd-6-reporting.png" alt="odd? (6) reporting false" title="odd? (6) reporting false" />
                    <img class="indent" src="/bjc-r/img/2-complexity/odd--7-reporting.png" alt="odd? (-7) reporting true" title="odd? (-7) reporting true" />
                </li>
            </ol>
        </div>
        
        <div class="comment">AAP-3.D.2</div>
        <p>When you are thinking of using existing code, you can either use your own code or use code from a library.
        
        <div class="forYouToDo">
			<ol start="4">
                <li>
                    Develop a <img src="/bjc-r/img/2-complexity/number-of-divisors.png" alt="number of divisors reporter with numeric input slot" title="number of divisors reporter with numeric input slot"> block (using <code>keep</code>), and use it to answer these questions: 
                    <ul style="list-style-type: disc">
                        <li><strong>What kinds of numbers have an odd number of divisors?</strong></li>
                        <li><strong>What kinds of numbers have exactly two divisors?</strong></li>
                    </ul><br />
                    You can do this on your own or follow <a href="#hint-steps" data-toggle="collapse" title="the steps for building the 'number of divisors' block">these steps.</a>
                    <div id="hint-steps" class="collapse">
                        <ol type="a">
                            <li>
                                Build a <code>divisors</code> block using <code>keep</code>.<br />
                                <img class="indent" src="/bjc-r/img/2-complexity/divisors-9-reporting.png" alt="divisors of (9) reporting {1, 3, 9}" title="divisors of (9) reporting {1, 3, 9}" />
                                <img class="indent" src="/bjc-r/img/2-complexity/divisors-12-reporting.png" alt="divisors of (12) reporting {1, 2, 3, 4, 6, 12}" title="divisors of (12) reporting {1, 2, 3, 4, 6, 12}" />
                                <div class="endnote">
                                    <a href="#hint-divisors" data-toggle="collapse" title="Hints about building the divisors block">Hints about building the <code>divisors</code> block</a>
                                    <div id="hint-divisors" class="collapse">
                                        <ul>
                                            <li>You <em>could</em> build this with <code>for</code> or <code>for each</code>, but it will require less code to build it with <img class="nopadtb" src="/bjc-r/img/blocks/keep.png" alt="keep items such that () from ()" title="keep items such that () from ()" />. (You learned about <code>keep</code> on <a href="/bjc-r/cur/programming/2-complexity/3-predicates/4-keeping-list-items.html?topic=nyc_bjc%2F2-conditionals-abstraction.topic&course=bjc4nyc.html&novideo&noassignment" title="Unit 2 Lab 3 Page 2: Keeping Items from a List">Unit 2 Lab 3 Page 2: <code>Keep</code>ing Items from a List</a>.)</li>
                                            <li>You <em>could</em> build this with <code>mod</code>, but you already built <img class="nopadtb" src="/bjc-r/img/2-complexity/divisible-by.png" alt="() divisible by () ?" title="() divisible by () ?" /> (using <code>mod</code>), so <code>divisible by?</code> will be simpler to use.</li>
                                            <li>The <img class="inline" src="/bjc-r/img/blocks/numbers-from-to.png" alt="numbers from () to ()" title="numbers from () to ()" /> block may be helpful.</li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li>
                                Build a <code>number of divisors</code> block.<br />
                                <img class="indent" src="/bjc-r/img/2-complexity/number-of-divisors-9-reporting.png" alt="number of divisors (9) reporting 3" title="number of divisors (9) reporting 3" />
                                <img class="indent" src="/bjc-r/img/2-complexity/number-of-divisors-12-reporting.png" alt="number of divisors (12) reporting 6" title="number of divisors (12) reporting 6" />
                            </li>
                            <li>
                                Build an expression using <code>keep</code> to answer each of these questions that were introduced above:
                                <ul style="list-style-type: disc">
                                    <li><strong>What kinds of numbers have an odd number of divisors?</strong></li>
                                    <li><strong>What kinds of numbers have exactly two divisors?</strong></li>
                                </ul>
                            </li>
                        </ol>
                    </div>
                </li>
			</ol>
        </div>
        
        <div class="ifTime">
			<ol start="5">
                <li><img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> For each of the two questions about divisors above, determine: <em>why</em> do these kinds of numbers have these kinds of divisors?</li>
			</ol>
		</div>

        
        <div class="vocabFullWidth">: <strong>APIs</strong>
            <div class="comment">AAP-3.D.4, AAP-3.D.5</div>
            <p>An <strong>application program interface (API)</strong> documents what a programmer using a library needs to know about it: it's a description of each procedure's purpose, inputs, and outputs (but not its algorithms).</p>
            <div class="endnote">
                <a href="#hint-webAPI" data-toggle="collapse" title="What is a Web API?">What is a Web API?</a>
                <div id="hint-webAPI" class="collapse">
                    <p>A common kind of API is a <em>web API</em> in which the library exists on someone else's computer. For example, the <a href="https://developers.google.com/maps/documentation/embed/start" title="Google Maps API" target="_blank">Google Maps API</a> describes how to embed a Google Map on your own website.</p>
                    <p>A web API is just a call to a procedure on another machine. For example, these are three different notations for the same procedure call:
                        <ul>
                            <li><a href="https://trends.google.com/trends/explore?q=BJC&geo=US" title="https://trends.google.com/trends/explore?q=BJC&amp;geo=US" target="_blank">https://trends.google.com/trends/explore?q=BJC&amp;geo=US</a></li>
                            <li><pre class="inline">EXPLORE (q = BJC, geo = US) </pre></li>
                            <li><img class="" src="/bjc-r/img/6-computers/explore-api-example.png" alt="explore, query: (BJC) geographical location: (US)" title="explore, query: (BJC) geographical location: (US)" /></li>
                        </ul>
                    The only difference is that the URL shows where on the Internet to find the procedure.</p>
                </div>
            </div>
		</div>
    
        <div class="endnote">
            Snap<em>!</em> has libraries for many things, such as one for accessing different parts of words and sentences...<br />
            <div class="todo">This image of the libraries list is out of date. Needs an update. --MF, 8/6/19</div>
            <img class="indent" src="/bjc-r/img/6-computers/libraries-1.png" alt="Snap! File menu opened with cursor over 'Libraries'" title="Snap! File menu opened with cursor over 'Libraries'" />
            <img class="indent" src="/bjc-r/img/6-computers/libraries-words.png" alt="Snap! 'Import library' dialog box highlighting 'Words, sentences' library" title="Snap! 'Import library' dialog box highlighting 'Words, sentences' library" />
        </div>
        
        <div class="todo">Don't cut this commented out text about PIPE until we are all set with the pipe into in U5. --MF, 8/28/19</div>

        <!--<div class="todo">
            <div class="todo">I'm not convinced the following works here. It's a lot of text and "talking about" how <code>pipe</code> works. I don't believe it's going to work as a pre-teaching for 5.3 because they are likely to forget stuff, so the question is: what does it offer here? And can we do it better? For that matter, is <code>divisors</code> even a particularly elucidating example of using <code>pipe</code>? What if we offered it in the TG and combined the stuff before this todo with the MOD stuff on the previous page? Or maybe keep the two pages separate for the sake of breathing room, but move some of the quizlets and review questions at the end of that page to the end of this page (e.g. #7-9)... --MF, 8/12/19</div>

        <p>
            Nested functions (that is, functions used inside of other functions, like the way you used <code>divisible by?</code> and <code>numbers</code> inside of <code>keep</code>) can be hard to read. Snap<em>!</em> offers another way to write code with multiple functions. You can use the <img class="nopadtb" src="/bjc-r/img/blocks/pipe.png" alt="pipe () → ()" title="pipe () → ()" /> function from the "Frequency Distribution Analysis" library to write your code one function at at time.
            <div class="comment">image needs alt/title tags --MF, 6/11/19<br /></div><img class="indent" src="/bjc-r/img/2-complexity/divisors-with-pipe.png" alt="" title="" /><br />
            The <code>pipe</code> function sends <var>input number</var> through <code>numbers from (1) to ()</code> to report a list of numbers and then that list goes through <code>keep items such that ((input number) divisible by ()?) from ()</code> to get the numbers from that list that are divisible by the input number.
        </p>
        <p>
            Notice that the empty input slots in each function are filled by the output of the previous function (or filled by the starting data in the case of the first function): 
            <ul>
                <li>The empty slot in the <img class="inline" src="/bjc-r/img/2-complexity/numbers-from-1-to.png" alt="numbers from (1) to ()" title="numbers from (1) to ()" /> function is filled by <var>input number</var>.</li>
                <li>The empty list input slot (<img class="inline" src="/bjc-r/img/sys/list-input-slot.png" alt="list input slot (small white square with two small, orange, horizontal rectangles inside)" title="list input slot (small white square with two small, orange, horizontal rectangles inside)" />) in <img class="nopadtb" src="/bjc-r/img/2-complexity/keep-for-pipe.png" alt="keep items such that ((input number) divisible by ()?) from ()" title="keep items such that ((input number) divisible by ()?) from ()" /> is filled by the output of <code>numbers</code>.</li>
                <ul>
                    <li>As usual, the blank input slot in the predicate for <code>keep</code> (that is, in <img class="inline" src="/bjc-r/img/2-complexity/divisible-for-pipe.png" alt="(input number) divisible by ()?" title="(input number) divisible by ()?" />) is filled by each item of <code>keep</code>'s input list (here, the output of <code>numbers</code>) so that <code>keep</code> can decide whether each number will be kept.</li>
                </ul>
            </ul>
            It's like a pipe of made of pieces connected together; the <var>input number</var> goes in one end and works through each function, producing a new output at each step.
        </p>

        <div class="todo">I find this description painful.  If we're going to teach pipe at all, what's needed here is a CS-Illustrated-style picture with a specific number as input and then all the intermediate values shown with arrows pointing to which empty slot each one fills.  But, why do this?  Is the theory that pipe will be easier for most kids than nesting?  And if so, wouldn't it be easier still to make a bunch of script variables and set each one to the result of one function call?  And <i>then</i> show how that turns into a pipe. Or do it instead of pipe. -bh</div>
        <div class="endnote"><code>Pipe</code> is a <em>higher order function</em>; it is a function that takes functions as input. You've seen a higher order function before: <code>keep</code> (in <a href="/bjc-r/cur/programming/2-complexity/3-predicates/4-keeping-list-items.html?topic=nyc_bjc%2F2-conditionals-abstraction.topic&course=bjc4nyc.html&novideo&noassignment" title="Keeping Items from a List">Unit 2 Lab 3</a>).</div>

        <div class="forYouToDo">
            <ol start="5">
                <li>Look at the <code>pipe</code> version of <code>divisors</code> above. <img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> What would happen if you did <code>keep</code> before <code>numbers</code>?</li>
                <li>Choose "Libraries..." in the Snap<em>!</em> file menu (<img src="/bjc-r/img/1-introduction/file_button.png" style="height:1.6em;" alt="File button" title="File button"/>), and select and import the "Frequency Distribution Analysis" library.</li>
                <li>Rebuild your <code>number of divisors</code> block using the <code>pipe</code> function.
                <div class="endnote">You can either create a new function called something like <code>number of divisors 2 </code> or <code>pipe version of number of divisors</code>, or you can rewrite the same block and just drag off the original report instruction but leave it inside the <code>number of divisors</code> block unattached from the hat block so will be saved in there but it won't run.</div>
                </li>
            </ol>
        </div>
        <p>You don't ever have to use <code>pipe</code> again, but if you find it hard to write a function with a bunch of nested reporters, you can always import <code>pipe</code> again.</p>
        </div>-->

        
       
   
	</body>
</html>
