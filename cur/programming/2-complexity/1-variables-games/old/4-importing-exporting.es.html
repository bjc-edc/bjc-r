<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<script type="text/javascript" src="/bjc-r/utilities/gifffer.min.js"></script>
        <script type="text/javascript">window.onload = function() {Gifffer();}</script>
        <link rel="stylesheet" type="text/css" href="/bjc-r/css/bjc-gifffer.css">
	    <title>Unit 2 Lab 1: Improving Games by Using Variables, Page 4</title>
	</head>

	<body>
        <h2>Importing <code>Greet Player</code> into Another Program</h2>
        <div class="todo">
            <p>PG: We /may/ want to use the CREATE VARIABLE block that now exists.</p>
            <p>BH: But fix the text, which now says you're exporting a project when you export blocks.</p>
            <p>MF: need to discuss FP plan to remove and replace with 1.2.4 (and then abandonment of plan)</p>
        </div>

		<div class="learn">
            <p>Often you will find a use for code that you've already built in some other project.</p>
            <p><strong>On this page,</strong> you will copy your <code>greet player</code> block into your Number Guessing game so you can use it there.</p>
        </div>

        <div class="forYouToDo" id="first">
			<ol>
				<div class="sidenote">This project is from <a href="/bjc-r/cur/programming/1-introduction/2-gossip-and-greet/old/4-learning-names.es.html?topic=nyc_bjc%2F1-intro-loops.es.topic&course=bjc4nyc.es.html&novideo&noassignment" title="Learning Player Names"> Unit 1 Lab 2 Page 4: Learning Player Names</a>.</div>
                <li>Open your U1L2-GreetPlayer project, run it a few times, and review the code so you remember how it works. (Once you have some names in the <var>player list</var>, try names that are on the list and names that are not.)</li>
                <li>
                    Fix any problems with <code>greet player</code>. When  it's working correctly, <em>export</em> it. (Instructions below.)
                    <div class="narrower">
                        <h4><strong>Exporting Blocks</strong></h4>
                        <ol type="a">
                            <li><strong>Choose "Export blocks..."</strong> from the Snap<em>!</em> file menu (<img class="inline" src="/bjc-r/img/1-introduction/file_button.es.png" alt="File menu button" title="File menu button"/>).</li>
                            <li><strong>Select only the block(s) you wish to export</strong> (in this case, just <code>greet player</code>), and click "OK." An XML file will download.</li>
							<div class="manual">The <a href="http://snap.berkeley.edu/snapsource/help/SnapManual.pdf" target="_blank" title="Snap! Reference Manual">Snap<em>!</em> Reference Manual</a> says more about exporting and importing.</div>
                        </ol>
                    </div>
                </li>
                <li>
                    Now, open your U2L1-NumberGuessing project, and <em>import</em> your <code>greet player</code> block.
					<div class="narrower">
                        <h4><strong>Importing Blocks</strong></h4>
						<ol type="a">
                            <li><strong>Choose "Import..."</strong> from the Snap<em>!</em> file menu (<img class="inline" src="/bjc-r/img/1-introduction/file_button.es.png" alt="File menu button" title="File menu button"/>).</li>
                            <li><strong>Locate the XML file you exported</strong> (perhaps on your desktop or in your downloads folder) and <strong>click Open</strong>.</li>
                            <li><strong>Find the  block(s)</strong> you want. They will appear at the <em>end</em> of the palette that contains them.</li>
                            <li><strong>Click the imported block to make sure it runs properly.</strong> (In this example, you'll likely see an error message after you've entered a name.)</li>
                            <img class="indent" src="/bjc-r/img/1-introduction/greet-player-error.es.png" alt="greet player reporting an error message: 'Inside: Error. a variable of name 'player list' does not exist in this context'" title="greet player reporting an error message: 'Inside: Error. a variable of name 'player list' does not exist in this context'" />
                        </ol>
                    </div>
                </li>
                <li><img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.es.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> Look at the code for <code>greet player</code>. Can you determine what's wrong?</li>
            </ol>
        </div>

        <div class="takeNote">
            <h4><strong>Debugging Dependencies</strong></h4>
            <p>Sometimes when you take a script out of the program where you built it and try to use it somewhere else, something breaks. It could be that the script depends on a custom block that isn't defined in the new program, or it could be (as in this case) that the script depends on a <em>global variable</em> that isn't defined in the new program. </p>
            <p>To fix this problem so you can use the imported block, you'll need to define the global variable in your new program. Dependencies are one reason to use script variables rather than global variables whenever you can. Because they are defined <em>in</em> their scripts, you don't lose them when you move the script to a new place.</p>
        </div>

        <div class="forYouToDo">
            <ol start="5">
                <li>
                	Create the missing global variable, <var>player list</var>, and make the program initialize it as an empty list.
                	<div class="endnote">
                    	To make an empty list, click the left arrow on the list block so that there are no input spaces.<br />
                        <img class="indent" data-gifffer="/bjc-r/img/2-complexity/set-to-empty-list.gif" alt="set (player list) to (list) animation" title="set (player list) to (list) animation" />
                    </div>
                </li>
                <div class="takeNote">
                    <img class="imageRight" src="/bjc-r/img/2-complexity/two-events.es.png" alt="when green flag clicked, when space key pressed" title="when green flag clicked, when space key pressed"  />
                    <p>If <var>player list</var> is initialized every time the game starts again, the game won't be able to remember any names. So, you will need to use a different event to start the game than to initialize <var>player list</var>. For example, you could use the green flag to initialize the list and use the space bar to begin the Number Guessing game.</p>
                </div>
                <li>
                    <strong>Test and Debug.</strong> Your program should
                    <ul>
                        <li>greet the player and remember player names;</li>
                        <li>play the Number Guessing game with a new <var>secret number</var> every time.</li>
                    </ul>
                    Fix any problems with your code.
                    <div class="endnote">
                        Is there a problem with the variable?
                        <ul>
                        <li>Check the variable initialization (where it is initially created): Is the code where it needs to be? Does it do what you intend?</li>
                        <li>Check where the variable is used: Are you using the variable you intend to? Are you using it the way you intend to?</li>

                        </ul>
                    </div>
                    <img class="inline" src="/bjc-r/img/icons/save-now.es.png" alt="Save your work" title="Save your work" />
                </li>
            </ol>
        </div>

        <!-- ADAPT FOR LATER UNIT and have them "make <code>greet player</code> a reporter, and have <code>Number guessing game</code> use it to set a script variable" (bh, below) --MF

        <h3>Personalize the Game</h3>
        <p>Next, you'll give your Number Guessing game a more personal touch by addressing the player by name.</p>

        <div class="forYouToDo">
        <div class="commentBig">I'm not too happy about this set of exercises.  The right way to handle this is to make <code>greet player</code> a reporter, and have <code>Number guessing game</code> use it to set a script variable! --bh</div>

    		<ol start="8">
                <li>Create a new variable, <var>current player</var>, to store the name of the current player. <img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.es.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> Should this be a global variable or a script variable?</li>
                <li>
                    Use the <var>current player</var> variable to address the player by name:
                    <ol>
                        <li>Edit <code>greet player</code> to set <var>current player</var> to the player's name.</li>
                        <li>
                            Edit <code>Number guessing game</code> to use the player's name:
                            <ol style="list-style-type: lower-roman;">
                                <li>Have the computer use the player's name when it says whether the player's guess is correct or not. For example, "Nope, Maria, that's not my number. Try again." or "Wow, Maria, you got it!"</li>
                                <li>When the game congratulates the player, using the player's name.</li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <img class="imageRight" src="/bjc-r/img/icons/save-now.es.png" alt="Save your work" title="Save your work" />
                <li><strong>Test and debug.</strong> Take turns playing the game, and fix any bugs.</li>
                <div class="todo">ST-Seems too convoluted to me.  I am not convinced that greet player is the best example of a block to be exported.  Something like a polygon block seems simpler and more natural to export.  I would consider rethinking this entire page to see if we can find a way to make it easier, it feels like we are trying to teach too many things here simultaneously.</div>
            </ol>
        </div>-->


	</body>
</html>
