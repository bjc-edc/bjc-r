<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<script type="text/javascript" src="/bjc-r/utilities/gifffer.min.js"></script>
        <script type="text/javascript">window.onload = function() {Gifffer();}</script>
        <link rel="stylesheet" type="text/css" href="/bjc-r/css/bjc-gifffer.css">
	    <title>Unit 2 Lab 1: Using Variables to Improve Games, Page 3</title>
	</head>

	<body>
		<h2>Using <code>Greet Player</code> in Another Program</h2>
		<div class="learn">
            <p><strong>On this page,</strong> you will transfer your <code>greet player</code> script into your Number Guessing game so you can use it there.</p>
        </div>
        
        <div class="forYouToDo" id="first">
			<ol>
				<div class="sidenote">This project is from <a href="/bjc-r/cur/programming/1-introduction/2-gossip-and-greet/4-learning-names.html?topic=nyc_bjc%2F1-intro-loops.topic&course=bjc4nyc.html&novideo&noassignment"> Unit 1 Lab 2 Page 4: Learning Player Names</a>.</div>
                <li>Open your U1L2-GreetPlayer project, run the script a few times, and review the code so you remember how it works. (Once you have a few names in the <var>player list</var>, try names that are on the list and names that are not on the list.)</li>
                <li>
                    Fix any problems with <code>greet player</code>, and once it is working correctly, <em>export</em> it. (Instructions below.)
                   <div class="narrower">
                        <h4><strong>Exporting Blocks</strong></h4>
                        <ol type="a">
                            <li><strong>Choose "Export blocks..."</strong> from the Snap<em>!</em> file menu (<img class="inline" src="/bjc-r/img/1-introduction/file_button.png" alt="File menu button"/>).</li>
                            <li><strong>Select only the block(s) you wish to export</strong> (in this case, just <code>greet player</code>), and click "OK." An XML file will download.</li>
							<div class="manual">Read <a href="http://snap.berkeley.edu/snapsource/help/SnapManual.pdf#page=21" target="_blank">Snap Manual page 21</a> for more information about exporting and importing block libraries.</div>
                        </ol>
                    </div>
                </li>
                <li>
                    Now, open your U2L1-NumberGuessing project, and <em>import</em> your <code>greet player</code> block. 
					<div class="narrower">
                        <h4><strong>Importing Blocks</strong></h4>
						<ol type="a">
                            <li><strong>Choose "Import..."</strong> from the Snap<em>!</em> file menu (<img class="inline" src="/bjc-r/img/1-introduction/file_button.png" alt="File menu button"/>).</li>
                            <li><strong>Locate the XML file you exported</strong> (perhaps in your downloads folder).</li>
                            <li><strong>Locate the imported block</strong> in the matching palette on the left. (Custom blocks appear at the <em>end</em> of the palette.)</li>
                            <li><strong>Click the imported bock to run it.</strong> (You'll likely see an error message once you enter a name.)</li>
                            <img class="indent" src="/bjc-r/img/1-introduction/greet-player-error.png" alt="greet player reporting an error message: 'Inside: Error. a variable of name 'player list' does not exist in this context'" title="greet player reporting an error message: 'Inside: Error. a variable of name 'player list' does not exist in this context'" />
                        </ol>
                    </div>
                </li>
                <li><img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> Look at the code for <code>greet player</code>. What's wrong?</li>	
            </ol>
        </div>
        
        <div class="takeNote">
            <h4><strong>Dependencies</strong></h4>
            <p>Sometimes when you take a script out of the program where you built it and try to use it somewhere else, something breaks. It could be that the script depends on a custom block that isn't defined in the new program, or it could be (as in this case) that the script depends on a <em>global variable</em> that isn't defined in the new program. </p>
        </div>
        
        <div class="forYouToDo">
            <ol start="6">
                <li>
                	Create the missing global variable, <var>player list</var>, and make the program initialize it as an empty list.
                	<div class="endnote">
                    	To make an empty list, click the left arrow on the list block so that there are no input spaces.<br />
                        <img class="indent" data-gifffer="/bjc-r/img/2-conditionals-abstraction-testing/set-to-empty-list.gif" alt="set (player list) to (list) animation" title="set (player list) to (list) animation" />
                    </div>
                </li>
                <li>
                    <strong>Test and Debug.</strong> When the green flag is clicked, your program should:
                    <ul>
                        <li>Initialize the <var>player list</var> variable</li>
                        <li>Greet the player</li>
                        <li>Begin the Number Guessing game</li>
                    </ul>
                    Fix any problems with your code.
                </li>
            </ol>
            <div class="todo">ST-The whole point of the greet player block is that it recognizes a player previously encountered.  It is not clear to me how this vital feature is preserved if the player list is initialized at every run.</div>
        </div>
		
        <img class="inline" src="/bjc-r/img/icons/pair-programming-swap.png" alt="Pair Programming Swap" title="Pair Programming Swap" /> 
        <div class="takeNote">
        	<h4><strong>Script Variables vs. Global Variables</strong></h4>
			<img class="imageRight" src="/bjc-r/img/icons/take-turns-speaking-mini.gif" alt="Take turns speaking" title="Take turns speaking">
            <div class="comment">I cut this back a lot, but it still feels too long. Any suggestions? --MF<br />
            Someone other than me should read this to see if it's necessary at all.  Maybe the little yellow box near the top of the previous page is enough? --bh   ST- Too text heavy indeed.</div>
            <p>
            	Whenever possible, you should use script variables. Here's why:
                <ul>
                    <li>If you import a block that requires global variables into another project, you'll get errors if you don't have those variables defined. This isn't a problem with script variables, which are created by the block itself.</li>
                    <li>It's easier to make sense of the program if only a few global variables are listed at the top of the Variables palette.</li>
                    <li>If you use global variables throughout a large program, you might pick the same name for what should be two variables in different scripts, and one script will change the global variable out from under the other script. If the two scripts use script variables, it's okay for the names to be the same.</li>
                </ul>
            </p>
            <p>
            	There are two situations in which you should use a global variable:
                <ol>
                    <li><em>The variable will be used by several scripts across the program.</em> For example, if you are keeping score and different parts of the program change the score.</li>
                    <li><em>The variable will be used by the same script more than once, and will need to remember its value between uses.</em> Keeping a count is the classic example; each time you call a block, you want it to change a variable's value by one, not initialize a new variable.</li>
                </ol>
            </p>
            <p><strong>Get in the habit of using script variables most of the time and using a global variable only when a script variable won't work.</strong></p>
		</div>
        
        <h3>Personalize the Game</h3>
        <p>Next, you'll give your Number Guessing game a more personal touch by addressing the player by name.</p>
        
        <div class="forYouToDo">
        <div class="commentBig">I'm not too happy about this set of exercises.  The right way to handle this is to make <code>greet player</code> a reporter, and have <code>Number guessing game</code> use it to set a script variable! --bh</div>
        
    		<ol start="8">
                <li>Create a new variable, <var>current player</var>, to store the name of the current player. <img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> Should this be a global variable or a script variable?</li>
                <li>
                    Use the <var>current player</var> variable to address the player by name:
                    <ol>
                        <li>Edit <code>greet player</code> to set <var>current player</var> to the player's name.</li>
                        <li>
                            Edit <code>Number guessing game</code> to use the player's name:
                            <ol style="list-style-type: lower-roman;">
                                <li>Have the computer use the player's name when it says whether the player's guess is correct or not. For example, "Nope, Maria, that's not my number. Try again." or "Wow, Maria, you got it!"</li>
                                <li>When the game congratulates the player, using the player's name.</li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <img class="imageRight" src="/bjc-r/img/icons/save-now.png" alt="Now Is a Good Time to Save" title="Now Is a Good Time to Save" />
                <li><strong>Test and debug.</strong> Take turns playing the game, and fix any bugs.</li>
                <div class="todo">ST-Seems too convoluted to me.  I am not convinced that greet player is the best example of a block to be exported.  Something like a polygon block seems simpler and more natural to export.  I would consider rethinking this entire page to see if we can find a way to make it easier, it feels like we are trying to teach too many things here simultaneously.</div>
            </ol>
        </div>
        
        
	</body>
</html>