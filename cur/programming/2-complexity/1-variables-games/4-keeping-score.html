<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
        <script type="text/javascript" src="/bjc-r/utilities/gifffer.min.js"></script>
        <script type="text/javascript">window.onload = function() {Gifffer();};</script>
        <link rel="stylesheet" type="text/css" href="/bjc-r/css/bjc-gifffer.css">
	    <title>Unit 2 Lab 1: Making Games, Page 4</title>
	</head>

	<body>
    	<h2>Keeping Score with Global Variables</h2>	
        <div class="todo">
            <p>PG: The content feels thin here, like we're forcing this in because we're talking about variables, not because this is really important at this point, butâ€¦.  There are wording errors ("script variables are better choice"). It feels /very/ much like this page and the last were originally in a different order and were not quite cleaned up when they were switched.   Also, I'd SET SCORE TO SCORE + 1 rather than CHANGE only because it is parallel to the AP CSP.  The comment should read "Of course, it would be clearer simpler code to create a block that does that. Snap actually has one." </p>
            <p>BH: Although "file" should be "project."</p>
        </div>
        
		<div class="learn">
            <p><strong>On this page,</strong> you will use a <em>global variable</em> to keep score in your Click Alonzo game.</p>
        </div>
        
        <p>In your Number Guessing Game, you used <em>script variables</em> to store information (the value of <var>secret number</var>) that was needed by only one script. To keep score in Click Alonzo, more than one script will need access to that information, so you'll use a <em>global variable</em>.</p>
        <div class="vocabFullWidth">: <strong>Global Variable</strong>
            <p>A <strong>global variable</strong> is a variable that is usable by all scripts in the program.</p>
        </div>
        <div class="endnote">
            <h4><strong>When are global variables needed?</strong></h4>
            <p>Most of the time, script variables are better choice because they can't be changed by some other part of the program and so they reduce the chance of bugs. But <strong>if multiple scripts need access</strong> to a variable or <strong>if the information in that variable needs to be saved</strong> with your file, then use a global variable.</p>
        </div>
        
        <div class="forYouToDo" id="first">
			<ol>
				<li>Open your U1L1-ClickAlonzo project, play the game, and review the code so you remember how it works.</li>	
                <li><div class="saveAs"><span class="text">"U2L1-ClickAlonzo"</span><img src="/bjc-r/img/icons/save-this-as.png" alt="Save your work as U2L1-ClickAlonzo" title="Save your work as U2L1-ClickAlonzo" /></div></li>
                <div class="takeNote">Be sure to <strong>rename your project</strong> with "U2" in the filename. If you save this work under the old filename, Snap<em>!</em> will overwrite your Unit 1 project. Use  &quot;Save as...&quot;  to save with the new name. When you load an older project and are about to make a big change, get in the habit of <em>saving first, before you change anything</em>. </div>
                <li>Create a global variable named <var>score</var>. Here's how.</li>
                <div class="narrower">
                    <h4><strong>Making a Global Variable</strong></h4>
                    <ol type="a">
                        <li><strong>Click  <img class="inline" src="/bjc-r/img/1-introduction/make-a-variable.png" alt="make a variable button" title="make a variable button" />  in the Variables palette.</strong>  (It's not a block; you can't drag it into the scripting area.)</li>
                        <li><strong>Type the title</strong> for your variable. In this case, it's <var>score</var>. Click OK.</li>
                    </ol>
                </div>
        		<li>
                    Use the <var>score</var> variable to keep track of the player's score:
                    <ol>
                        <li>Initialize <var>score</var> to 0 at the beginning of the game.</li>
                        <div class="vocabFullWidth">
                            <p>Setting the starting value of a variable is known as <strong>initializing</strong><a name="initialize" class="anchor">&nbsp;</a>the variable.</p> 
                        </div>
                        <li>Make the program <code>change</code> the score by 1 whenever the sprite is clicked.</li>
                        <div class="examFullWidth">
                            <div class="pseudop">
                                <img class="inline nopadtb" src="/bjc-r/img/2-complexity/change-score-by-1.png"  height="26" alt="change (score) by (1)" title="change (score) by (1)" /> (which means <img src="/bjc-r/img/2-complexity/set-score-to-score-plus-one.png" height="40" alt="set(score) to (score+1)" title="set(score) to (score+1)">) would be written as <pre class="inline">score &leftarrow; score + 1</pre>.
                            </div>
                        </div>
                    </ol>
                </li>
                <li><strong>Test and debug.</strong> Play the game enough to make sure that the score variable works.</li>
            </ol>
		</div>
        <img class="inline" src="/bjc-r/img/icons/pair-programming-swap.png" alt="Pair Programming Swap" title="Pair Programming Swap" />
        
		<!-- I STILL LIKE THIS SECTION --MF       <div class="endnote">
	        <div class="comment">Brian, I'm curious about your thoughts here too. --MF<br />I'm not sure we need this box at all, but if we want it, here's what it should say. --bh</div>
            <p>The orange oval blocks that name variables are reporters, like other oval blocks.  But <em>most</em> reporters implement <em>functions,</em> which means that when you call the same block with the same inputs, you always get the same value. <code>2+3</code> is always 5. The <code>random</code> block, and reporters you write using <code>random</code>, are different; calling them twice with the same inputs may report different answers.</p>
            <p>Variable blocks are one step further away from functions; a program can choose to change the value that a variable block will report by using <code>set</code> or <code>change</code> to give the variable a new value.</p>
            <img src="/bjc-r/img/2-complexity/score-variable-reporting-7.png" alt="score reporting 7"><br />
            <img src="/bjc-r/img/2-complexity/change-score-by-1.png" alt="change score by 1"><br />
      <img src="/bjc-r/img/2-complexity/score-variable-reporting-8.png" alt="score reporting 8">      
            <p> It turns out that any program that changes the values of variables can be rewritten in a way that doesn't <code>set</code> or otherwise change the values of variables. There are advantages to this <em>functional programming</em> style, which avoids certain kinds of otherwise-common bugs, but some kinds of programs are hard to write functionally. You aren't really ready to think about this yet, but we'll come back to functional programming later in the year.</p>
            
        </div>
            <div class="todo">ST_This is greatly confusing.  We need to stop telling kids things like "you are not really ready for this but here it is".</div>
            -->
		<img class="imageRight" src="/bjc-r/img/icons/save-now.png" alt="Now Is a Good Time to Save" title="Now Is a Good Time to Save" />
        <div class="forYouToDo">
            <ol start="6">
                <li><img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> Right now, the game never ends, but  you'll change that. Decide on the score that you will use to test whether the player has won.</li>
                <li>
                	Use a conditional  to determine when the player reaches that score. When they do:
                      <ol>
                        
                        <li>Make Alonzo stop jumping around.</li>
                    	<li>Make Alonzo appear again. (You'll have to reset the ghost effect.)</li>
                        <li>Congratulate the player for a few seconds.</li>
                        <!--<li>If necessary, use another <code>stop</code> block to stop the running script.  (Whether you need this will depend on your program structure.)</li>-->
                    </ol>
                </li>
                <img class="imageRight" src="/bjc-r/img/icons/save-now.png" alt="Now Is a Good Time to Save" title="Now Is a Good Time to Save" />
                <li><strong>Test and debug.</strong> Take turns playing, and fix any bugs.<br />
                <div class="takeNote">

                    <h4><strong>Debugging Tip: Display of Variables</strong></h4>
                    <p>Global variables have check-boxes that control the display of the variable watcher on the stage (shown below). This can make it easier to track down errors in your program.</p>
                    <img class="indent" src="/bjc-r/img/2-complexity/Debugging/golbal-variables-checked.png"  height="300" alt="Checking the global variables in the palette." title="Checking the global variables in the palette."/><img class="indent" src="/bjc-r/img/2-complexity/Debugging/global-variables-displayed.png"  height="300" alt="Displaying the global variable on the stage" title="Displaying the global variable on the stage"/>
                </div>

                </li>
            </ol>
		</div>
        
            
        <div class="takeItFurther">
            <ol type="A">
                <li>If the sprite moves without being clicked, make the score go down by 1.</li>
            </ol>
		</div>
        
        
        
                
	</body>
</html>