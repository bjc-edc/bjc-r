<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 6 Lab 2: Data Representation and Compression, Page 2</title>
	</head>

	<body>
		<h2>Representing Numbers</h2>
        
        <div class="todo">
            <p>Brian, can you please list the related EKs for this page? --MF, 11/22/17</p>
        </div>
		
        <div class="learn">
        	<p><strong>On this page,</strong> you'll learn how computers store integers.</p> 
        </div>
        
        <div class="forYouToDo" id="first">
			<ol>
				<li>
					<div class="sidenote">If you look at the code, you'll see recursive reporters. How do they work? You first saw recursion in <a href="/bjc-r/cur/programming/2-complexity/4-abstraction/2-fractal-art.html?topic=nyc_bjc%2F2-conditionals-abstraction.topic&course=bjc4nyc.html&novideo&noassignment">Unit 2 Lab 4: Fractal Art</a>.</div> <strong></strong>
					<div class="commentBig">
                        <p>One day, we might consider using exponents instead of factorial as they will be more familiar. --MF, 11/1/17</p>
                        <p>If they look at the code, they see a recursively defined reporter.  We need a nod to that.  ---AC</p>
                        <ul><li>Agreed. I edited your sidenote to include a link. OK? --MF, 11/22/17</li></ul> 
                        <p>And haven't they see factorial before this? ---AC</p>
                        <ul><li>It was there in older verions of the curriculum, but I searched, and the only place I found it before this was near the bottom of <a href="/bjc-r/cur/programming/5-algorithms/3-timing-experiments/2-timing-reporters.html?topic=nyc_bjc%2F5-algorithms.topic&course=bjc4nyc.html&novideo&noassignment" target="_blank">5.3.2</a>, where we suggested that it might be one of their favorite algorithms (I commented it out becuase how could it be if they've never seen it before), and near the top of <a href="/bjc-r/cur/programming/5-algorithms/3-timing-experiments/3-classifying-algorithms.html?topic=nyc_bjc%2F5-algorithms.topic&course=bjc4nyc.html&novideo&noassignment" target="_blank">5.3.3</a>, where we listed it as an algorithm they've built before (I commented that out too). It had been on the U2 "Script Variable Projects," "Input Types," and "Predicates" pages and in U3 "Nesting Functions" and "Combine" but it isn't currently. It is mentioned in a TIF on <a href="/bjc-r/cur/programming/7-recursion/2-projects/5-mondrian.html?topic=nyc_bjc%2F7-recursion-trees-fractals.topic&course=bjc4nyc.html&novideo&noassignment" target="_blank">7.2.5</a> and on <a href="/bjc-r/cur/programming/8-recursive-reporters/1-recursive-reporters/3-writing-recursive-reporters.html?topic=nyc_bjc%2F8-recursive-reporters.topic&course=bjc4nyc.html&novideo&noassignment" target="_blank">8.1.3</a> where they finally build it.  --MF, 11/22/17</li></ul>
                        <p>Finally, you can get to the Snap! by clicking on either the orange oval or the little arrow.  I can't fix this. ---AC</p>
                        <ul><li>That is the correct functionality, and it's used throughout the course. Are you concerned that it should be changed, or were you just not used to seeing it? (It's a relatively new change in response to feedback from NYC that students wouldn't our see requests to load pages and would then wonder why they didn't have the blocks they needed.) --MF, 11/22/17</li></ul>
                    </div>
                    The <em>factorial</em> of a positive integer <em>n </em>(written "<em>n</em>!") is the product of all the integers from 1 to <em>n</em>. For example:
					<p><span class="katex indent">5! = 1 \times 2 \times 3 \times 4 \times 5 = 120</span></p>
                    <div class="todo">Brian, I make this KaTeX because it's all on a single line. Is it ok to your eye here? --MF, 11/22/17</div>
					<a class="run" href="/bjc-r/prog/6-computers/U6L1-BigNumbers.xml" target="_blank"><img class="inline" src="/bjc-r/img/icons/load-save.png" alt="Click here to load this file. Then save it to your Snap! account." title="Click here to load this file. Then save it to your Snap! account."></a>, and try out these inputs:<br />
			    	<div class="sidenote">You might see different results based on your computer processor.</div>
					<ol>
                        <li><img src="/bjc-r/img/4-internet/bang5.png" alt="(5)! reporting 120" title="(5)! reporting 120" /></li>
                        <li><img src="/bjc-r/img/4-internet/bang10.png" alt="(10)! reporting 3628800"  title="(10)! reporting 3628800" /></li>
                        <li><img src="/bjc-r/img/4-internet/bang20.png" alt="(20)! reporting 2432902008176640000" title="(20)! reporting 2432902008176640000" /></li>
                        <li><img src="/bjc-r/img/4-internet/bang30.png" alt="(30)! reporting 2.6525285981219103e+32" title="(30)! reporting 2.6525285981219103e+32" /></li>

					</ol>
				</li>
			</ol>
        </div>
        
		<p>The "e+" means "times ten to the power of" so this notation means 2.6525285981219103 &times; 10<sup>32</sup> = 265,252,859,812,191,030,000,000,000,000,000.</p>
        
		<h3>Fixed Width Computer Hardware</h3>
        <div class="vocabBig">
        	<p><strong>width</strong>: the number of bits that a CPU processes at a time</p>
            <p><strong>word</strong>: a binary sequence of that many bits</p>
        </div>
        <p>So why did Snap<em>!</em> display 20! in ordinary whole number representation but 30! in scientific notation? Every computer model is designed with a certain<strong> width</strong>, the number of bits that the processor reads from memory or writes into memory at a time. That number of bits is called a <strong>word</strong>. As of 2016, most new computers are 64 bits wide. The first microcomputer, sold in 1971, was four bits wide!</p>
		<div class="endnote">If you got an answer in scientific notation for 20!, you're using a 32-bit computer.</div>
            <p>A 64-bit word represents 2<sup>64</sup> different values. We use half for negative numbers, one for zero, and the rest for positives. Half of 2<sup>64</sup> (which is 2<sup>63</sup> = 9,223,372,036,854,775,808) is about 9 &times; 10<sup>18</sup>. That means that the 19 digits of 20! just barely fit in a 64-bit word. But the 33 digits of 30! don't. So the computer hardware reports an <em>overflow</em> error, and Snap<em>!</em> computes an approximation.</p>
            
	 <div class="endnote">
        	<a href="#hint-power-2" data-toggle="collapse">Are processor widths always powers of two?</a>
            <div id="hint-power-2" class="collapse">Processor widths don't have to be a power of two. Some old computers&mdash;the kind you see in old movies that filled a large room&mdash;used 12-bit, 36-bit, and 60-bit words. But modern personal computers started at 8 bits and the widths have been doubling with each new generation.</div></div>
		
        <div class="comment">TG: this can be done by binary search<br />Add note to TG about casual use of the word binary</div>
        <div class="forYouToDo">
            <ol start="2">
                <li>Experiment in Snap<em>!</em>. What's the <em>first</em> integer whose factorial doesn't fit in a word?</li>
            </ol>
        </div>

		<h3>Bignums</h3><div class ="sidenote"> A multiple-word integer is called a <strong>bignum</strong>. </div>
        <p>Why can't programming languages just use more than one word to represent an integer? They can. It's just that a single machine language intruction can only add one-word numbers. A programming language must work a
         little harder to make addition work with multiple-word values. Not all languages do this, but the highest-level langauges do. </p>
        <div class="takeItFurther"><a name="further" class="anchor">&nbsp;</a>
            <img class="imageRight" src="/bjc-r/img/icons/tough-stuff-mini.png" alt="Tough Stuff" title="Tough Stuff" />
            <ol type="A">
            	<li>A great example of a high-level programming language is <a href="http://groups.csail.mit.edu/mac/projects/scheme/index.html">Scheme</a>. You can learn it from the free, online book <a href="https://mitpress.mit.edu/sicp/full-text/book/book.html">Structure and Interpretation of Computer Programs</a>.</li>
            </ol>

        </div>  
        
        <div class="takeNote">The design of a programming language isn't just a question of taste; it can be a matter of life and death. Between 1985 and 1987, a therapeutic X-ray machine   killed four patients and seriously injured two more because of several bugs in its software; one of the bugs was that a   counter that was kept in an eight-bit-wide variable would reach its maximum value of 127 and then <em>overflow</em> to zero instead of 128. When the variable was zero, an important safety check was not performed. This would not have happened if the   software had been written in a better programming language.</div>

        <div class="forYouToDo">
            <ol start="3">
                <li>
                    Click on this block in the scripting area:<br />
                    <img class="indent" src="/bjc-r/img/4-internet/bignums-true.png" alt="USE BIGNUMS (true)" title="USE BIGNUMS (true)" /> 
                </li>
                <li>
                	Now try <code>30!</code> again.<br />
                    <img class="indent" src="/bjc-r/img/4-internet/bang30-bignum.png" alt="30! reporting 265252859812191058636308480000000" title="30! reporting 265252859812191058636308480000000" />
                    <div class="endnote">This (exactly correct) value is different from the (rounded off) <strong>floating point</strong> value above. (More about floating point in a moment.)</div>
                    <div class= "comment" >
                    	<p>AC:  It took me three tries to get the <em>script pic with result</em> choice to appear</p>
                    	<ul><li>I reported it. <a href="https://github.com/jmoenig/Snap--Build-Your-Own-Blocks/issues/1942" target="_blank">https://github.com/jmoenig/Snap--Build-Your-Own-Blocks/issues/1942</a> --MF, 11/22/17</li></ul>
                    </div>  
                </li>
                <li>
                    Try <code>200!</code>. The reported result won't fit on your screen, but you can see it this way:
                    <img class="imageRight" src="/bjc-r/img/4-internet/script-pic.jpg" alt="script pic drop down menu" title="script pic drop down menu" />
                    <ol type="a">
                        <li>Hold down the shift key and right-click or control-click the <img class="inline" src="/bjc-r/img/6-computers/factorial.png" alt="() !" title="() !" /> block.</li>
                        <li>In the menu that appears, click on the red "script pic with result..." item.</li>
                        <li>An image will download onto your computer or open in a new tab.</li>
                    </ol>
                </li>
                <li>How many digits are there in <code>200!</code>? (Don't count by hand; you have a computer.)</li>
            </ol>
        </div>
        
        
	</body>
</html>