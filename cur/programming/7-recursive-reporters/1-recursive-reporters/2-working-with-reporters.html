<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
        <title>Unit 7 Lab 1: Recursive Reporters, Page 2</title>
        <link href="/bjc-r/advancednote.css" rel="stylesheet" type="text/css">
    </head>

    <body>
        <h2>Working with Recursive Reporters</h2>
        <p>Here's Betty's code for the <code>segments in tree</code> function:</p>
        <div class="comment">I moved the sidenote because it was only upon my second read that I actually even noticed it. --MF</div>
        <img class="indent" src="/bjc-r/img/7-recursive-reporters/bettycode.png" alt="Betty's code"  title="Betty's code" />
        <div class="endnote">Notice that the <code>report</code> block only connects to the blocks <em>above</em> it. That's because <code>report</code> returns the result of what is in its input slot as the report of the <code>segments in tree</code> reporter block. If there were blocks after <code>report</code>, they would not matter.</div>
        
        <div class="forYouToDo" id="first">
            <ol>
                <li><img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> What is the base case in the script above? Why is it necessary? How does it work in this script?</li>
                <li>The <code>tree</code> command had two recursive calls, but this code only has one. Why?</li>
            <!--</ol>
        </div>
        
        <p>You've built and worked with recursive <em>command</em> blocks. Recursion can also be used in <em>reporters</em>. Thinking and programming with recursive reporters can often help solve otherwise complicated problems. </p>
        
        <div class="forYouToDo">
            <ol start="3">-->
                <li>
                    <div class="sidenoteBig">Re-read the code for the triangle fractal, and use it to help you build this recursive reporter.</div>
                	<a href="/bjc-r/cur/programming/6-recursion/2-projects/1-triangle-fractal.html?topic=nyc_bjc%2F6-recursion-trees-fractals.topic&course=bjc4nyc_2015-2016.html&novideo&noassignment">In Unit 6</a>, you built a <code>triangle fractal</code> block. Build a block that reports the <em>total number of triangles</em> formed in a level <var>n</var> triangle fractal:<br />
                    <img class="indent" src="/bjc-r/img/7-recursive-reporters/trianglecounter.png" alt="triangles in fractal level 5" title="triangles in fractal level 5"/>
                </li>
                <!--            <div class="sidenote" style="position:relative;top:730px;">What exactly is Tony's <code>map</code> block doing?</div>
                <div class="sidenote" style="position:relative;top:1000px;">
                <strong>Derman:</strong> Yours is more complicated.<br /> 
                <strong>Sasha:</strong> But that pattern was easier to spot (for me).
                </div>
                <li>This block takes two whole numbers as input. Download it and figure out what it does.
                <p><a class="run" href="/bjc-r/prog/7-recursive-reporters/rangefrom.xml"><img src="/bjc-r/img/7-recursive-reporters/rangefrom.png" alt="range from ( ) to ( )"></a></p>
                </li>
                <ol>
                
                <li>
                
                <li>
                <div class="dialogue">
                <div class="stagedir">Episode 2</div>
                <div class="stagedir"><em>Sasha is looking at Derman's table from Exercise 2.</em></div>
                <div>
                <span>Sasha:</span> I see another way to match the table. If you look down the Output column, each number is two more than the one above it.  The only special case is the first row, which doesn't <em>have</em> a row above it, so we have to build in explicitly the fact that if the input is 0 the output should be 3:<br />
                <img src="/bjc-r/img/7-recursive-reporters/sasha.png" alt="Sasha's version">
                </div>
                <div class="stagedir">Check Sasha's work.</div>
                </div>
                </li>
                <li>
                Build Sasha-like (recursive) reporters that agree with each of these blocks on whole numbers.<br />
                <img src="/bjc-r/img/7-recursive-reporters/q4a.png"  alt="2n+7"><br />
                <img src="/bjc-r/img/7-recursive-reporters/q4b.png" alt="2n+5"><br />
                <img src="/bjc-r/img/7-recursive-reporters/q4c.png" alt="n^2+1"><br />
                <img src="/bjc-r/img/7-recursive-reporters/q4d.png" alt="n^2+2"><br />
                </li>
                <li>In problem 4, you can check your blocks against the ones in the problem for a long time, but you can't check them for <em>all</em> numbers. Are there any numbers for which there isn't a match?</li>
                <li>
                Build Tony-like reporters that agree with each of these blocks on whole numbers.<br />
                <img src="/bjc-r/img/7-recursive-reporters/u.png"  alt="q6a"><br />
                <img src="/bjc-r/img/7-recursive-reporters/v.png"  alt="q6b"><br />
                <div class="comment">Teacher Feedback: Going from explicit to recursive is hard enough for linear problems; these last two problems that require quadratics are far too hard for high school students who haven't had algebra. These Z and X problems should be in a TIF. --MF</div>
                <img src="/bjc-r/img/7-recursive-reporters/z.png"  alt="q6c"><br />
                <img src="/bjc-r/img/7-recursive-reporters/x.png"  alt="q6d"><br />
                </li>
                </ol>
                </div>  -->
                <li>
                    Load and experiment with these two blocks, using short input lists, to see what they do:<br />
                    <div class="todo">
                    	<ul>
							<li>I have a big-picture concern with this approach to teaching recursion, and I have outlined it in a 3/7/16 email to the team. --MF</li>
                            <li>Any reason that we are making them construct lists to run through these blocks rather than just giving them a list? Seems like there is no benefit to that use of their time. --MF</li>
                        </ul>
                    </div>
                    <a class="run" href="/bjc-r/prog/7-recursive-reporters/sayeach.xml">
                        <img class="indent" src="/bjc-r/img/7-recursive-reporters/sayeach.png" alt="say each item of list (command)" title="say each item of list (command)" /><br />
                        <img class="indent" src="/bjc-r/img/7-recursive-reporters/stringtogether.png" alt="string items together from (reporter)" title="string items together from (reporter)" />
                    </a>
                </li>
				<div class="todo">
                	Has the <code>report</code> block been adequately explained? The blank in the <code>report</code> block in the script above also raises another issue (e.g. what does the blank mean <em>here</em>?). How about <code>stop</code>? Do they know it well enough for it to not need any explanation here? --MF<br />
					From the Snap<em>!</em> manual (page 20-21) in case some snippet of it is helpful: "Note the use of the report block. When a reporter block uses this block, the reporter finishes its work and reports the value given; any further blocks in the script are not evaluated. Thus, the if else block in the script above could have been just an if, with the second report block below it instead of inside it, and the result would be the same, because when the first report is seen in the base case, that finishes the block invocation, and the  21 second report is ignored. There is also a stop block block that has a similar purpose, ending the block invocation early, for command blocks. (By contrast, the stop script block stops not only the current block invocation, but also the entire toplevel script that called it."
                </div>
                <img class="imageRight" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" />
				<li>What's the biggest difference between the two blocks?</li>
				<div class="todo">It sounds like we are asking for <em>one right answer</em> here ("the biggest difference"). If so, we should word it differently. I'm not sure what the right answer is: "one is a command and the other a reporter" or "one uses <code>stop</code> and the other uses <code>report</code>" or "one has a terminating block only in the base case, but the other has it in either case"? My question to us is: what are we trying to highlight and how can we get them to focus on that? --MF</div>
                <li>What are some similarities between them?</li>
                <li>What does <code>all but first of</code> do?</li>
                <li>
                    Fill in the empty parts of the following recursive reporter so that the block reports a sentence containing all the whole numbers from <code>a</code> to <code>b</code>.  <strong>Note that this question does <em>not</em> involve a list.</strong> The inputs are <em>numbers</em>; the reported value is a <em>text string</em> (a sentence). What should the block report in the base case? Where does the recursive call go?<br />
                    <img class="indent" src="/bjc-r/img/7-recursive-reporters/iota.png" alt="numbers from A to B" title="numbers from A to B" />
                    <img class="indent" src="/bjc-r/img/7-recursive-reporters/numbers-result.png" alt="numbers from (4) to (12) reporting 4 5 6 7 8 9 10 11 12" title="numbers from (4) to (12) reporting 4 5 6 7 8 9 10 11 12" />
                </li>
            </ol>
        </div>
    </body>
</html>
