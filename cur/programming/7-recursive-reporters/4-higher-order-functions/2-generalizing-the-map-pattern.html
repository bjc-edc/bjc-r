<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
	<title>Unit 7 Lab 4: Building Higher-Order Functions</title>
</head>

<body>
<h2>Generalizing the Map Pattern</h2>

Here's a version of the code for each block from the previous page.

<p><img src="/bjc-r/img/7-recursive-reporters/plurals.png" alt="plurals" /></p>
<p><img src="/bjc-r/img/7-recursive-reporters/squares.png" alt="squares" />
</p>
<div class="sidenote">Your <code>exaggerate word</code> block might look a lot different, but here is one version:
<img src="/bjc-r/img/7-recursive-reporters/exaggerate-word.png" alt="exaggerate word" />

</div>
<p><img src="/bjc-r/img/7-recursive-reporters/exaggerate.png" alt="exaggerate" /><br /><img src="/bjc-r/img/7-recursive-reporters/exaggerate-wordlist.png" alt="exaggerate-wordlist" /><br />

</p>
<p><code>Plurals</code>, <code>squares</code>, and <code>exaggerate wordlist</code> look almost identical:</p>
<p><img src="/bjc-r/img/7-recursive-reporters/map-examples.png" alt="map-pattern examples" /></p>
<p>The only difference is the circled part above: the particular function that's applied to <code>item 1 of</code> the input list. Here's a generalization of the pattern:</p>
<p><img src="/bjc-r/img/7-recursive-reporters/map-start.png" alt="map definition without function call" /></p>
<p>But what do we put in the first input slot of <code>in front of</code>?</p>
<p>There are two little details you have to learn to finish this definition. The first is that the <code>function</code> input has to be a reporter. You already know how to set an input to be of a specific type. Setting this as a reporter is no different:</p>
<p><img src="/bjc-r/img/7-recursive-reporters/reporter-type.png" alt="reporter type declaration" /></p>
<p>The Greek letter λ that appears next to the word <code>function</code> in the orange oval is a type reminder, just like the︙for lists.</p>
<p>Now you have to know how to apply the function to <code>item 1 of data</code>. Find the <code>call</code> block in the Control palette and click on its right arrowhead to give it a second input slot. Then fill it in like this:</p>
<p><img src="/bjc-r/img/7-recursive-reporters/map.png" alt="map definition" /></p>
<p>That's it! You've written <code>map</code>, a higher-order function!</p>
<!-- <p class="takeNote">(The version in the Snap<em>!</em> tool library is more complicated because it allows more than one input list. The actual code is kind of messy—not mysterious, just messy. It makes a single list a special case, which it then uses inside itself. There's no need for you to read it, but feel free if you don't mind mess.)</p> -->
<div class="sidenote">The <code>call</code> block was used in the function grapher in <a href="/bjc-r/cur/programming/5-algorithms/2-graphing/3-graphing-functions.html">Unit 5</a>.</div><p>The <code>call</code> block finds empty input slots in its function input and fills them in with the given input values.</p>
<div class="takeNote">
<p>Higher-order functions aren't difficult, once you understand recursion and how to generalize a procedure by adding an input. They're no big deal to write! And they are very powerful to use.</p></div>

<div class="todo">BK: Again, just leaving this mostly as is, but #1 could probably be replaced with a more "do it" kind of problem? What other examples could we have them build here to show they know the map pattern?</div>

<div class="forYouToDo" id="first">
<ol>
<li>Rebuild the <code>exaggerate</code> block using a call to <code>map</code>. What happens to the helper function?</li>
<li>Occasionally a problem comes up that doesn't <em>exactly </em>match the <code>map</code> pattern, but comes close. In that case, you can't use  <code>map</code>, but your understanding of the pattern still helps. Here's an example:</p>
<p><img src="/bjc-r/img/7-recursive-reporters/odds.png" alt="odd numbered items" /></p>
Fill in the blanks: This script is just like the map pattern except for ______ (base case) and _____ (in the recursive case).</li>
<li>Build the <code>pairup</code> block:
  <p><img src="/bjc-r/img/7-recursive-reporters/pairup.png" alt="pairup example" /></p>
</li></ol></div >
</body>
</html>
