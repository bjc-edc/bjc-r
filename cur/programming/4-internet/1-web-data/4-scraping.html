<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 4 Lab 1: Website Data, Page 4</title>
	</head>

	<body>
		<h2>Scraping Data from Web Pages</h2>
		<div class="todo">This page is ready for review (no one has reviewed yet). --MF</div>

        <p><strong>Sometimes you're lucky,</strong> and a URL points directly to a file with the data you want...</p>
        
        <div class="forYouToDo" id="first">
	        <div class="endnote">In Lab 2, you will work with a set of GPS coordinates (coordinates on the surface of the earth). On the next pages, you will learn more about what they are and how to use them. For now, you will learn how to get them into Snap<em>!</em></div>
            <ol>
                <li>If you don't already have it open, load your U4L1-HttpBlock project.</li>
                <li><div class="saveAs"><span class="text">"U4L2-GPSData"</span><img src="/bjc-r/img/icons/save-this-as.png" alt="Save your work as U4L2-GPSData" title="Save your work as U4L2-GPSData" /> You will use what you build here in Lab 2.</div></li>
                <li>
                	<div class="sidenote">CSV stands for "comma separated values." A CSV file is a table of information. CSV files usually open in a spreadsheet program.</div>
                	Try the <img src="/bjc-r/img/4-internet/proxied-http.png" alt="proxied http://"> block with this address:<br />
                    <p class="center"><a href="http://bjc.edc.org/bjc-r/cur/programming/4-internet/2-gps-data/GPS-NYC.csv" target="_blank">bjc.edc.org/bjc-r/cur/programming/4-internet/2-gps-data/GPS-NYC.csv</a></p>	
                </li>
                <li>
                    The value reported is a long text string. You'll find it more convenient to have a list with one line per item. Use the <code>split</code> block to create a list, and assign the list to a variable called <var>coordinates</var>.<br />
                    <!--<img src="/bjc-r/img/4-internet/set-coordinates-to-split-CSV.png" alt="set (coordinates) to {split (http(http://bjc.edc.org/bjc-r/cur/programming/4-internet/2-gps-data/GPS-NYC.csv)) by (line)}" title="set (coordinates) to {split (http(http://bjc.edc.org/bjc-r/cur/programming/4-internet/2-gps-data/GPS-NYC.csv)) by (line)}" />-->
					<div class="takeNote">The <code>split</code> block breaks up a string of text according what you select in the second input slot and puts the  strings into a list as items.</div>
                    <img class="imageRight" src="/bjc-r/img/4-internet/drag-out.gif" alt="animation of dragging out resize corner" />
                    <p>Pull out the bottom right corner of the <var>coordinates</var> stage watcher so that you can see the entire list.</p>
                </li>
                <li>
                	Convert this list into a list of lists, where each inside list contains each piece of the coordinate pair, like this:<br />
					<div class="sidenoteBig">
                        <p>You will need to use the <code>split</code> block a second time. Experiment with different options for the second input slot. Read the <code>split</code> help screen (right-click a <code>split</code> block and choose "Help") if you need ideas.</p>
                        <p>Think back to Unit 3. How can you perform a function (in this case, <code>split</code>) to each item in the input list?</p>
                    </div>
                    <img class="indent" src="/bjc-r/img/4-internet/coordinates-list-of-lists.png" alt="list of lists of coordinate pairs" title="list of lists of coordinate pairs" />
                </li>
	            <li><img class="inline" src="/bjc-r/img/icons/save-mini.png" alt="Save Your Work" title="Save Your Work" />In Lab 2, you will process these coordinates and plot them on a graph.</li>
            </ol>
        </div>
        
        
        <p><strong>Sometimes you're <em>not</em> lucky,</strong> and the information you want is buried in a mass of HTML code. Extracting the information from the formatting is called <em>scraping</em> the web page.</p>
        
        <div class="forYouToDo">
	        <div class="endnote">In Lab 5, you will develop a Weather app. You'll need to send location information to a weather website (<a href="http://www.weatherstreet.com" target="_blank">weatherstreet.com</a>) and scrape the HTML that the site returns for the data you need. For now, you will learn input the HTML into a list in Snap<em>!</em></div>
            <ol start="7">
                <li>Open your U4L1-HttpBlock project again.</li>
                <li><div class="saveAs"><span class="text">"U4L5-WeatherApp"</span><img src="/bjc-r/img/icons/save-this-as.png" alt="Save your work as U4L5-WeatherApp" title="Save your work as U4L5-WeatherApp" /> You will use what you build here in Lab 5.</div></li>                
                <li>
                	Try the <img src="/bjc-r/img/4-internet/proxied-http.png" alt="proxied http://"> block with this address:<br />
                    <p class="center"><a href="http://www.weatherstreet.com/weather-forecast/New-York-NY-10001.htm" target="_blank">www.weatherstreet.com/weather-forecast/New-York-NY-10001.htm</a></p>	
                </li>
				<li>
                	The output is a very wide report of the HTML for that page. Write a script that takes the report from the <code>proxied http</code> block with this URL and reports a list of the lines of HTML starting from "&lt;body". The report of your script should look like this:
                	<img class="" src="/bjc-r/img/4-internet/weather-list.png" alt="" title="" />
                </li>
	            <li>
                	<img class="inline" src="/bjc-r/img/icons/save-mini.png" alt="Save Your Work" title="Save Your Work" /> In Lab 5, you will search through this list for the line with the data that you need and clean out all the HTML formatting that you don't need so that you can make a weather app:<br />
                	<img class="indent" src="/bjc-r/img/4-internet/current-temp-34.png" alt="current temperature in (New York) reporting 34" title="current temperature in (New York) reporting 34" />
                </li>
                <!--<li>Now, open <a href="http://www.weatherstreet.com/weather-forecast/New-York-NY-10001.htm" target="_blank">http://www.weatherstreet.com/weather-forecast/New-York-NY-10001.htm</a> in a separate browser window or tab, and use your browser to <a href="http://www.computerhope.com/issues/ch000746.htm" target="_blank">view the source</a> (HTML) for that page.</li>
                <li>Locate the one line in the HTML that describes the temperature...</li>-->
            </ol>
        </div>


	</body>
</html>