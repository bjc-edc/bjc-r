<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 4 Lab 1: Website Data, Page 3</title>
	</head>
	<body>
		<h2>Reading the Web with Snap<em>!</em></h2>
		<div class="todo">This page is ready for review (no one has reviewed yet). --MF</div>

        <p>The Internet is full of information that you can use in your programs.  For example in Lab 4, you will write an <img class="inline" src="/bjc-r/img/4-internet/umbrella.png" alt="umbrella? predicate" title="umbrella? predicate" /> block that looks up the weather forecast for your location and tells you whether or not to carry an umbrella. You'll also build a <code>current temperature</code> block that reports the current temperature for a certain location:<br /><img class="indent" src="/bjc-r/img/4-internet/current-temp-62.png" alt="current temperature in (New York) reporting 62" title="current temperature in (New York) reporting 62" /></p>
        
        <div class="forYouToDo" id="first">
	        <div class="endnote">Weather forecast sites change their pages from time to time, so we're going to start by reading a website we control.</div>
            <ol>
                <li>Load <a class="run" href="/bjc-r/prog/4-internet/U4L1-HttpBlock.xml">this project</a>.</li>
                <li>
                	<img class="imageRight" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" />Click on the<img class="inline" src="/bjc-r/img/4-internet/http-reporting.png" alt="http:// block"> block. What do you think the <code>http</code> block is reporting?<br />
                	<img src="/bjc-r/img/4-internet/s-b-e-reporting.png" width="50%" alt="html text reported by http block">
                </li>
                <li>
                	In another browser window, open the page <a href="http://snap.berkeley.edu" target="_blank">http://snap.berkeley.edu</a> for reference. The page starts with two pictures (the Snap<em>!</em> logo and a screenshot), then some text.<br />
					<img src="/bjc-r/img/4-internet/s-b-e.png" width="50%" alt="snap.berkeley.edu as seen in browser">
                </li>
                <li>It may not look like there is anything in the speech balloon that corresponds with the actual page, but look at the page title (in the top bar of the browser window or tab). Can you find that text in what the <code>http</code> block reported?</li>
            </ol>
        </div>
        
        <div class="todo">From BH: 4.1.2  Something to keep is that HTML is a special purpose programming language.<ul><li>I moved this to <a href="http://localhost/bjc-r/cur/programming/4-internet/1-web-data/2-writing-html.html?topic=nyc_bjc%2F4-internet.topic&course=bjc4nyc_2015-2016.html&novideo&noassignment">Writing for the Web with HTML</a> right after the first FYTD box. Please review what I wrote there and then remove this comment. --MF</li></ul></div>
        <p>The output of the <code>http</code> block is the HTML code that creates the page at the address in the input slot.</p>
        
		<p>
        	Every web page has a <em>head</em> (that tells the browser how to format the page) and a <em>body</em> (that contains the actual information on the page). You'll see something more interesting if you skip over the head by looking for the text "&lt;body":<br />
            <img src="/bjc-r/img/4-internet/s-b-e-body-reporting.png" alt="substring of (http://(snap.berkeley.edu)) starting with (&lt;body) reporting" title="substring of (http://(snap.berkeley.edu)) starting with (&lt;body) reporting"/>
			<div class="takeNote">
            	<p>
                	There are two custom <code>substring</code> blocks included in this project. They each report only a portion of a text string:
                    <ul>
                        <li>The <code>substring starting with</code> block reports the part that <em>starts with</em> the text you enter in the input slot.</li>
                        <li>The <code>substring up to</code> block reports only the part <em>up to</em> the text you enter in the input slot.</li>
                    </ul>
                </p>
                <p>
                    For example, if the variable <var>string</var> contains "This is an example of the substring blocks.", then the two substring blocks will report:
                    <img src="/bjc-r/img/4-internet/substring-starting-with-reporting.png" alt="substring of (string) starting with (example) reporting 'example of the substring blocks.'" title="substring of (string) starting with (example) reporting 'example of the substring blocks.'" />&nbsp;
                    <img src="/bjc-r/img/4-internet/substring-up-to-reporting.png" alt="substring of (string) up to (example) reporting 'This is an '" title="substring of (string) up to (example) reporting 'This is an '" />
                </p>
            </div>
    	</p>
		
        <div class="forYouToDo">
			<ol start="5">
                <li>Look at the report from the <img class="inline" src="/bjc-r/img/4-internet/s-b-e-body.png" alt="substring of (http://(snap.berkeley.edu)) starting with (&lt;body)" title="substring of (http://(snap.berkeley.edu)) starting with (&lt;body)"/>
 block. Identify the code for the two pictures and the beginning of the text that appear on the web page.</li>
                <li>
                	Try the <code>http</code> block with a different URL. (Hint: it's probably not going to work. So, just try it and keep reading.)
                	<div class="endnote">
                    	Be sure <em>not</em> to include the "http://" in the input slot. That's already included as part of the <code>http</code> block.<br />
                    	<img class="indent" src="/bjc-r/img/4-internet/http-http.png" alt="Don't include the 'http://' in the http block input slot." title="Don't include the 'http://' in the http block input slot." />
                    </div>
                </li>
            </ol>
        </div>
        
        <div class="commentBig">A security feature of what? Snap<em>!</em>? The browser? --MF</div>
        <p>You very likely got an empty result back. This is due to a security feature. One web site (such as the Snap<em>!</em> server) is not allowed to send a request to another site. Fortunately for us, it's not a very solid attempt at security...</p>
        <div class="forYouToDo">
            <ol start="7">
                <li>Try the <img src="/bjc-r/img/4-internet/proxied-http.png" alt="proxied http://"> block with your URL. (Hint: this time, it should work. Be sure <em>not</em> to include the "http://" in the input slot.) </li>
                <div class="takeNote">
					<p>The <code>proxied http</code> block works by fooling the other web site into sending you data it wouldn’t normally send. Most websites receive a request coming from Snap<em>!</em> and say “this isn’t a real web browser query, so I’m not answering.” The <code>proxied http</code> block uses a proxy (a replacement or stand-in) server (in this case, <a href="http://crossorigin.me/" target="_blank">crossorigin.me</a>) to call the URL you enter. The proxy server performs the request properly (like a browser would), gets the information, and sends it to Snap<em>!</em> as though things went smoothly.</p>
                    <img class="indent" src="/bjc-r/img/4-internet/proxied-http-definition.png" alt="proxied http:// %url {report (http:// (join (crossorigin.me/http://) (url)))}" title="proxied http:// %url {report (http:// (join (crossorigin.me/http://) (url)))}" />
                	<p>In short, the <code>proxied http</code> block works the way we want the <code>http</code> block to work.</p>
                </div>
            <li><img class="inline" src="/bjc-r/img/icons/save-mini.png" alt="Save Your Work" title="Save Your Work" />You will use this project as a starter for other projects.</li>
            </ol>
        </div>
               

	</body>
</html>
