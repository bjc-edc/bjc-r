<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 4 Lab 5: Internet Security, Page 3</title>
    </head>
    <body>
        <h2>Cryptography</h2>
        <div class="todo">This page is ready for review. No one has reviewed it. --MF</div>
        
<div class="todo">Original notes from Brian (continued):<br />
        <p>
        	<strong>AP CSP framework requirements:</strong><br />
            Crypyo<br />
            Crypto uses math<br />
            Open standards help security<br />
            symmetric vs public key<br />
            CAs require trust<br />
            SSL/TLS
        </p>
</div>

        <p>Cryptography of the process of writing (encryption) and solving (decryption) codes. Just as TCP enables reliable transmission over an unreliable network, cryptography enables verifiable, secure transmission over an insecure network.</p>
		<div class="endnote">
	        <p>In <a href="/bjc-r/cur/programming/3-lists/6-encryption/2-secret-keys.html?topic=nyc_bjc%2F3-lists.topic&course=bjc4nyc_2015-2016.html&novideo&noassignment">Unit 3</a>, you saw some methods for coding messages before, and you looked a bit at some ideas about security and public key.  You'll now look at a general method for coding messages that shows how it's possible to let everyone know what your coding process is while still making the decoding process very difficult to figure out.</p>	
        </div>

        <div class="forYouToDo" id="first">
            <ol>
				<li>
                    Watch this video from code.org:<br />
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/ZghMPWGXexs" frameborder="0" allowfullscreen class="indent"></iframe>
                </li>
            </ol>
        </div>

        <div class="takeNote">
            <p>
                <em>Symmetric</em> cryptography, uses the <em>same secret key to encode and decrypt</em> a message. Symmetric cryptography has been around for thousands of years. The trouble with symmetric cryptography is: <em>how can we keep the key secret?</em> 
                <div class="endnote">Long before computers, a rider on horseback could swallow the key to a message if they were captured. Now, messages are sent over a public Internet; so symmetric cryptography won't work.<div class="todo">Is this all right, Brian? --MF</div></div>
            </p>
            <p>
                <em>Public key (asymmetric)</em> cryptography was created by mathematicians in the 1970s.  It uses <em>two different keys for encryption and decryption</em>, and knowing the encryption key doesn't let you figure out the decryption key.
                <div class="endnote">For example, bank each have a public key, and when users enter their password on the bank web site, the user's browser encrypts the password with the bank's key before sending it over the Internet. Then, only the bank can decrypt that message.</div>
            </p>
        </div>

				
        <!-- I still like this, but I pulled it for this year. --MF
        <div class="forYouToDo" id="first">
            <ol>
                <li>
                    Watch this video:<br />
                    <iframe width="420" height="315" src="https://www.youtube.com/embed/3QnD2c4Xovk?end=128" frameborder="0" allowfullscreen class="indent"></iframe>
					<div class="commentBig">This video is very nice and suggests a demo that teachers might want to do in class.  But, the more I think about it, the more I think it complicates the basic idea.  You don't need two separate keys to *send* a secure message.  Also, the modular arithmetic suffers from the same problem, and I think it's both too much and too little for the kids. --AC</div>
				</li>
			</ol>
		</div>-->
	
        
        <div class="ifTime" id="first">
        	<p> The use of both private keys comes in when you want to have an electronic signature to add even more security.   Then Bob first encrypts his message to Alice with his private key, then Alice's public key.  Alice gets the message and decrypts it by applying her private key and then Bob's public key.  All this is a nice application of function composition and how to apply functions in certain sequences.</p>
			<p>It's also possible to use the private key for encryption and the public key for decryption.  That's no good for secret messages (why not?), but it's useful for <em>digital signatures</em>.  I use my private key to encrypt a message; you use my public key to decrypt it.  If you get a meaningful message as the result, that proves that the message was encrypted with my private key.  (If you want both secrecy and digital signing, there's a protocol for that too, involving several layers of re-encrypting already-encrypted messages.)</p>
		</div>
                
    
		<div class="forYouToDo" id="first">
			<ol start="2">
				<!--<li>Load this project: <a class="run" href="/bjc-r/prog/4-internet/U4L5-EncodeDecode.xml">U4L5-EncodeDecode.xml</a></li>-->
                <li>
                    Build an encryption script <code>encode () with ()</code> that accepts a text string (in the first input slot) and a function (in the second input slot) and encodes the text string message using the function provided. (Tips below.) Like this:<br />
                    <img class="inline" src="/bjc-r/img/4-internet/encode-reporting.png" alt="encode (message) with ((()x())+3)" title="encode (message) with ((()x())+3)" /><br />
                    Use abstractions to simplifying your coding process:
                	<ol>
                    	<li>Create a <code>convert message () to unicodelist</code> block that converts a text string (the message) into a unicode list so that you can perform the function on the numbers in the list. Using <code>map</code> and <code>split</code>.</li>
                    	<li>Create a <code>convert unicodelist () to message</code> block that converts a unicode list into a text string so that you can convert the output of the function back into encoded text. Use <code>join</code> and <code>map</code></li>
                        <li>Create the <code>encore () with ()</code> block that translates the input message into a unicode list, performs the inputted function on each unicode number in the list, translates the numbers back into letters, and reports the encoded message. Use <code>convert message () to unicodelist</code>, <code>map</code>, and <code>convert unicodelist () to message</code>.</li>
                    </ol>
                </li>
                <li><div class="saveAs"><span class="text">"U4L5-Encode"</span><img src="/bjc-r/img/icons/save-this-as.png" alt="Save your work as U4L5-Encode" title="Save your work as U4L5-Encode" /></div></li>
            </ol>
        </div>
        <div class="ifTime" id="first">
        	<ol start="4">
            	<li>
                	Identify the inverse of your function.
                	<div class="endnote">The inverse function is the function that undoes your function. For example, if your function is <span class="katex">f(x)=x^2+3</span>, then the inverse is <span class="katex">f(x)=\sqrt{x-3}</span>.</div>
                </li>
                <li>Create a <code>decode () with ()</code> block that uses your inverse function to decode the output of your <code>encode</code> block.</li>
                <div class="endnote">Recall that in real cryptography, the encode function would be very hard to invert. For this example, you probably have an encoding function that was relatively <em>easy</em> to invert. But you get the idea: if the function were hard to invert, the message would be hard to decode.</div>
            </ol>
        </div>
        
        
		<h3>The Mathematics behind Cryptography</h3>
        <p>Cryptography uses mathematical ideas. The security in public key encryption relies on choosing an encryption key that is a difficult function to invert (undo). These one-way functions offer security because </p>
        <div class="endnote">
            <p>
                <strong>Sending a secure message to Alice:</strong>
				<ol type="A">
                    <li>If Alice has function (let's call it <span class="katex">f</span>) that is difficult to invert (undo), then she can post the function, <span class="katex">f</span>, online for everyone to see because only she knows the inverse, <span class="katex">f^{-1}</span>, that decodes the encoding by <span class="katex">f</span>.</li>
                    <li>If anyone (for example, Bob) wants to send Alice a secure message <span class="katex">M</span>, then he can run his message though Alice's one-way function and post the result for all the world to see. In function notation, he posts <span class="katex">f(M)</span>. </li>
                    <li>Only Alice can decode <span class="katex">f(M)</span> since only she has the inverse function <span class="katex">f^{-1}</span> that undoes <span class="katex">f</span>. She calculates <span class="katex">f^{-1}\left(f(M)\right)</span>. And since <span class="katex">f^{-1}</span> is the inverse of (undoes) <span class="katex">f</span>, the result of her calculations is <span class="katex">M</span>, the message Bob sent.</li>
				</ol>
            </p>
		</div>
        <p>To send secure messages back and forth, Bob and Alice will <em>both</em> need to post their public keys and keep their inverse functions (their private keys) to themselves.</p>
		<p>Public key cryptography doesn't solve all the problems, because someone might publish a fake public key pretending to be Alice. Then someone might accidentally encrypt their message for Alice using the hacker's key, and then the hacker can read the message.  In practice this is partly fixed by relying on trusted third parties, called Certificate Authorities, to issue public keys. But it is possible for a hacker to pretend to be a Certificate Authority!</p>	

		<div class="ifTime" id="first">
            <ol start="6">        
                <li>
                	Read this comic. <img class="inline" src="/bjc-r/img/icons/talk-with-your-partner-mini.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> What's the joke?<br />
					<a class="run" href="https://xkcd.com/1553/" target="_blank"><img class="indent" src="http://imgs.xkcd.com/comics/public_key.png" alt="XKCD: Public Key" title="I guess I should be signing stuff, but I&#39;ve never been sure what to sign. Maybe if I post my private key, I can crowdsource my decisions about what to sign." /></a>
                </li>
            </ol>
        </div> 

        <!-- I think the level here is too high and we aren't being clear enough with the math here yet... --MF
        <div class="takeItFurther" id="first">
        	<img class="imageRight" src="/bjc-r/img/icons/tough-stuff.png" alt="Tough Stuff" title="Tough Stuff" />
            <div class="todo">I didn't fully grok this text that Al wrote, but I tried to edit it for clarity anyway. Please please please verify that it is correct. --MF</div>
            <div class="endnote">
            	<p>The original way that people constructed the function <span class="katex">f</span> was to use something like:</p>
                <p class="center"><span class="katex">f(x)= x^e \text{ mod } N</span></p>
                <p>Here, <span class="katex">N</span> is a product of 2 huge primes <span class="katex">p</span> and <span class="katex">q</span>. That is, <span class="katex">N=pq</span>. And <span class="katex">e</span> is relatively prime to (has no common factors with) the product <span class="katex">(p-1)(q-1)</span>.</p>
                <p>The public key is then the pair <span class="katex">(N,e)</span> and the secret key is the number <span class="katex">d</span> so that <span class="katex">ed \equiv (p-1)(q-1) \text{ mod } N</span>.</p>
			</div>
            <div class="sidenote">You can review the mathematical function <em>mod</em> in <a href="/bjc-r/cur/programming/1-introduction/5-block-types-calculations/2-computer-operations.html?topic=nyc_bjc%2F1-intro-loops.topic&course=bjc4nyc_2015-2016.html&novideo&noassignment#mod">Unit 1</a>.</div>
            <ol start="4">
            	<li>
                	Watch the rest of this video:<br />
                	<iframe width="420" height="315" src="https://www.youtube.com/embed/3QnD2c4Xovk?start=128" frameborder="0" allowfullscreen class="indent"></iframe>
                </li>
            </ol>
        </div>-->
		
</body>
</html>
