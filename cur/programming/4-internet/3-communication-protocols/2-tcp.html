<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 4 Lab 3: Communication Protocols, Page 2</title>
    </head>
    <body>
        <h2>Reliable Transmission on Unreliable Networks: TCP</h2>
		<iframe width="560" height="315" src="https://www.youtube.com/embed/AYdF7b3nMto" frameborder="0" allowfullscreen class="indent"></iframe>
    	<p>Computers, servers, and routers are fairly reliable. But there are often several computers and cables or radio transmissions between you and the recipient of a data packet. So, every once in a while a IP packet will be lost. Devices on the Internet need to tolerate these faults. The <strong>Transmission Control Protocol</strong> (TCP) guarantees <em>reliable</em> transmission by breaking messages into packets and keeping track of which packets have been received successfully.</p>
        <div class="sidenoteBig">By contrast, old land line telephone systems established a long-term physical connection from one telephone to another for as long as the phone call continued.</div>
		<p>Typically, if you want to send a message, your computer divides it into small chunks called <strong>packets</strong> that it sends individually, each on it's own path.  If a router that's handling a packet of your message fails, only that packet has to be resent, not the entire message. The Internet is a <strong>packet switching</strong> network.</p>

        <div class="takeNote">
            <p>
                <!--The TCP/IP <strong>end-to-end</strong> design of the Internet is an <strong>abstraction</strong>:-->
                <ul>
                    <li>The <strong>computers</strong> (including servers) at the two endpoints of a communication run the <strong>Transmission Control Protocol</strong> (TCP) that divides up the packets and guarantees <em>reliable</em> transmission.</li>
					<li>The <strong>routers</strong> at every connection-point on the Internet run the <strong>Internet Protocol</strong> (IP) that transmits packets from one IP address to another (not caring that sometimes a packet will be lost and not knowing anything about the purpose or meaning of a packet).</li>
                </ul>
            </p>
            <!--<p>The routers don't have to know anything about the messages they carry over the net; all they care about is transmitting between the IP addresses at the beginning of each packet. The computers that send and receive the message are the only ones that have to think about what the messages mean. As a result, when someone invents a new application for the Internet, all the routers in the world don't have to be replaced or reprogrammed&mdash;to them it's all just bits.</p>-->
        </div>
        

        <div class="forYouToDo">
            <ol>
                <li>
                    Load <a class="run" href="/bjc-r/prog/4-internet/U4L4-TCP.xml#present">this project</a>. It provides a simulation of unreliable data transmission by Internet Protocol.
                    <ul>
                        <li><strong>Click the green flag</strong> to initialize the <var>incoming transmission</var> variables before each experiment.</li>
                        <li><strong>Click either character</strong> to enter a message for it to send to the other one.</li>
                	</ul>
                </li>
				<div class="sidenote">In this simulation, the complete message is a string of text that is divided into packets of one letter each. In reality, the packet length is not so strictly limited and messages are usually much longer.</div>
				<a class="run" href="/bjc-r/prog/4-internet/U4L4-TCP.xml"><img class="indent" src="/bjc-r/img/4-internet/TCP.png" alt="picture of TCP project stage"></a>
                <li>
                    <img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" />
                    Compare the result with what you sent. What problems do you see?
                </li>
                <li>
                    <img class="inline" src="/bjc-r/img/icons/talk-with-another-pair-mini.png" alt="Talk with Another Pair" title="Talk with Another Pair" /> Discuss how TCP could 
 				</li>
			</ol>
    	</div>

		<div class="takeNote">In our simulation, a packet either arrives correctly (even if it's out of order) or it doesn't arrive at all, but on the real Internet, it's possible for a packet to arrive with erroneous data, so the real TCP has to check for that and request re-transmission of packets with errors.</div>
        
        
		<div class="ifTime">
            <ol start="3">
                <li>Read <a href="http://www.bitsbook.com/wp-content/uploads/2008/12/B2B_3.pdf#page=324" target="_blank"><em>Blown to Bits</em> pages 306-309</a>.</li>
            </ol>
        </div>
        
        
        <div class="takeItFurther">      
            <img class="imageRight" src="/bjc-r/img/icons/tough-stuff.png" alt="Tough Stuff" title="Tough Stuff" />
            <ol type="A">
				<li>Build a simple TCP. Resolve the unreliability so that messages are received reliably despite the limitations of IP packets.
                <strong>You'll need to change</strong>:
                <ul>
                    <li>The definition of <img src="/bjc-r/img/4-internet/internet-transmit.png" alt="internet transmit (message) to (sprite)" title="internet transmit (message) to (sprite)" /></li>
                    <li>The script for <em>each</em> sprite that starts with <img src="/bjc-r/img/4-internet/when-get-any.png" alt="when I receive (any message)"></li>
                </ul>
                </li>
			</ol>
	        <strong>You may <em>not</em> change</strong> the definition of <img src="/bjc-r/img/4-internet/send-IP.png" alt="send IP packet () to (sprite)">. That block simulates the unreliable network you need a 
            <div class="takeNote">Note: because this is a simulation, you could always "solve" the problem by rewriting the program to simulate a perfect network instead of an imperfect one, but that's against the rules of this game. <strong></div>
        
            <ol type="A">
                <div class="sidenoteBig">How can you keep track of the order of your data?</div>
                <li>First, solve the problem of packets arriving out of order.  That is, make it possible for the receiver to rearrange the packets into the intended order.  This will require cooperation by both sender and receiver.</li>
		        <div class="endnote">A packet can include any kind of data: text, numbers, or lists. <em>You may include extra <strong>header </strong>information in a packet in addition to the one text character.</em></div>
                <li>Then, solve the problem of packets not arriving at all. That is, make the transmission reliable even though IP is unreliable. This, too, will require changing both sender and receiver.  </li>
                <div class="endnote">For the sake of the simulation, you can't do this by eliminating the unreliability of <code>send IP packet</code>. <em>The sender will have to send a special end-of-transmission packet so that the receiver knows when to stop worrying about missing packets.</em></div>
            </ol>
        </div>
    		

	</body>
</html>
