<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 4 Lab 3: Network Protocols, Page 3</title>
    </head>
    <body>
        <h2>Reliable Transmission on Unreliable Networks: TCP</h2>
        <div class="todo">This page is <strong>ready for review</strong> (no one has reviewed).</div>
		<div class="todo">
            From BH:
            <ul>
            	<li>4.3.2  The code.org video doesn't make the point that not all application-level protocols use TCP.  Sometimes speed of delivery is more important than guaranteed correct delivery, and for that there's UDP.  (I think BtB does talk about this.)
                	<ul><li>Moving to next page --MF</li></ul>
				</li>
                <li>I think the stuff about congestion control and the TCP handshake is in the framework, but I'm not sure.
                	<ul><li>I haven't seen anything about it. --MF</li></ul>
              </li>
            </ul>
        </div>
        
    	<p>Computers, servers, and routers are fairly reliable. But there are often several computers and cables or radio transmissions between you and the recipient of a data packet. So, every once in a while a IP packet will be lost. Devices on the Internet need to tolerate these faults. The <strong>Transmission Control Protocol</strong> (TCP) guarantees <em>reliable</em> transmission by breaking messages into packets.</p>
        <div class="sidenoteBig">By contrast, land line telephone systems establish a long-term connection from one telephone to another, for as long as the phone call continues.</div>
		<p>A <strong>packet</strong> is a small message.  Typically, if you want to send a <em>large</em> message, your computer divides it into small chunks that it sends individually.  This is important because if a router that's handling a chunk of your message fails, only that chunk has to be resent, rather than the entire message. The Internet is a <strong>packet switching</strong> network.</p>

        <div class="forYouToDo" id="first">
            <ol>
				<li>Read <a href="http://www.bitsbook.com/wp-content/uploads/2008/12/B2B_3.pdf#page=324" target="_blank"><em>Blown to Bits</em> pages 306-309</a>.</li>
                <li>
                    Watch this video from code.org:<br />
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/AYdF7b3nMto" frameborder="0" allowfullscreen class="indent"></iframe>
                </li>
            </ol>
		</div>
        
        
        <div class="takeNote">
            <p>
                The TCP/IP <strong>end-to-end</strong> design of the Internet is an <strong>abstraction</strong>:
                <div class="sidenote">Abstraction is reducing complexity by focusing on core concepts.</div>
                <ul>
                    <li>The <strong>routers</strong> at every connection point  run the <strong>Internet Protocol</strong> (IP) that transmit the packets from one IP address to another and sometimes a packet will be lost. </li>
                    <li>And the <strong>computers</strong> (including servers) at the endpoints run the <strong>Transmission Control Protocol</strong> (TCP) that guarantees <em>reliable</em> transmission.</li>
                </ul>
            </p>
            <p>The routers don't have to know anything about the messages they carry over the net; all they care about is transmitting between the IP addresses at the beginning of the message. The computers that send and receive the message are the only ones that have to think about what the messages mean. As a result, when someone invents a new application for the Internet, all the routers in the world don't have to be replaced or reprogrammed&mdash;to them it's all just bits.</p>
        </div>
        

        <div class="forYouToDo">
            <ol start="3">        
                <li>
                    Watch this video from securitycatalyst.com:<br />
					<iframe width="420" height="315" src="https://www.youtube.com/embed/7_LPdttKXPc?start=47&end=271" frameborder="0" allowfullscreen class="indent"></iframe>
                </li>                
                <li>
                    Load <a class="run" href="/bjc-r/prog/4-internet/U4L3-TCP.xml#present">this project</a>. It provides a simulation of unreliable data transmission by Internet Protocol. You're going to write (a simplified) TCP to make the data packets arrive reliably.
                    <ul>
                        <li><strong>Click the green flag</strong> to initialize the <var>incoming transmission</var> variables before each experiment.</li>
                        <li><strong>Click either sprite</strong> to make it send a message to the other one.</li>
                        <li><strong>Press left arrow or right arrow</strong> to send the alphabet in either direction (helpful for testing).</li>
                	</ul>
					<div class="endnote">In this simulation, the complete message is a string of text that is divided into packets of one letter each. In reality, the packet length is not so strictly limited and messages are usually much longer.</div>
					<a class="run" href="/bjc-r/prog/4-internet/U4L3-TCP.xml"><img class="indent" src="/bjc-r/img/4-internet/TCP.png" alt="picture of TCP project stage"></a>
                </li>
                <div class="endnote">
                    <img class="imageRight" src="/bjc-r/img/4-internet/sprite-local.png" width="289" height="165" alt="for this sprite only button">
                    On the stage there are two watchers: "Alice incoming transmission" and "Bob incoming transmission."  But in the Variables palette there's only one variable: "incoming transmission."  These are actually two different <em>local variables</em>, one belongs to Alice and one belongs to Bob. (Local means not shared across sprites; <em>global</em> means shared across all sprites like we've been doing most of the course.) To make a local variable, click the "for this sprite only" button when creating a variable.
                </div>
                <li>Click on one of the characters, and enter a message that it should send to the other.</li>
                <li>
                    <img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" />
                    Compare the result with what you sent. What problems do you see?
                </li>
                <li>
                    Compare notes with another pair. 
                    <img class="inline" src="/bjc-r/img/icons/talk-with-another-pair-mini.png" alt="Talk with Another Pair" title="Talk with Another Pair" />
                    Brainstorm what you could do to get around network unreliability.
 				</li>
			</ol>
    	</div>

		<div class="takeNote">In our simulation, a packet either arrives correctly (even if it's out of order) or it doesn't arrive at all, but on the real Internet, it's possible for a packet to arrive with erroneous data, so the real TCP has to check for that and request retransmission of packets with internal errors.</div>
        
        
		<div class="ifTime" id="first">
            <ol start="8">
                <li>
                    Watch the end of this video from code.org:<br />
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/kBXQZMmiA4s?start=280" frameborder="0" allowfullscreen class="indent"></iframe>
                </li>
            </ol>
        </div>
       
        
		<div class="takeItFurther">      
            <img class="imageRight" src="/bjc-r/img/icons/tough-stuff.png" alt="Tough Stuff" title="Tough Stuff" />
            <p>
                Build a simple TCP. Resolve the unreliability so that messages are received reliably despite the limitations of IP packets. <strong>You'll need to change</strong>:
                <ul>
                    <li>The definition of <img src="/bjc-r/img/4-internet/internet-transmit.png" alt="internet transmit (message) to (sprite)" title="internet transmit (message) to (sprite)" /></li>
                    <li>The script for <em>each</em> sprite that starts with <img src="/bjc-r/img/4-internet/when-get-any.png" alt="when I receive (any message)"></li>
                </ul>
			</p>
	        <div class="takeNote">Note: because this is a simulation, you could always "solve" the problem by rewriting the program to simulate a perfect network instead of an imperfect one, but that's against the rules of this game. <strong>You may not change the definition of <img src="/bjc-r/img/4-internet/send-IP.png" alt="send IP packet () to (sprite)">.</strong></div>
        
            <ol type="A">
                <div class="sidenoteBig">How can you keep track of the order of your data?</div>
                <li>First, solve the problem of packets arriving out of order.  That is, make it possible for the receiver to rearrange the packets into the intended order.  This will require cooperation by both sender and receiver.</li>
		        <div class="endnote">A packet can include any kind of data: text, numbers, or lists. <em>You may include extra information in a packet in addition to the one text character.</em></div>
                <li>Then, solve the problem of packets not arriving at all. That is, make the transmission reliable even though IP is unreliable. This, too, will require changing both sender and receiver.  </li>
                <div class="endnote">For the sake of the simulation, you can't do this by eliminating the unreliability of <code>send IP packet</code>. <em>The sender will have to send a special end-of-transmission packet so that the receiver knows when to stop worrying about missing packets.</em></div>
            </ol>
        </div>
    		

	</body>
</html>
