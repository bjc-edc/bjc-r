<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r-2017-18/llab/loader.js"></script>
		<title>Unit 4 Lab 5: Weather App, Page 4</title>
    </head>
    <body>
        <img class="imageRight" src="/bjc-r-2017-18/img/icons/teachers-choice.png" alt="Teacher's Choice" title="Teacher's Choice" />
        <h2>Need An Umbrella? (Teacher's Choice)</h2>
        <p>In this activity, you'll build an <img src="/bjc-r-2017-18/img/4-internet/umbrella.png" alt="UMBRELLA? block"> predicate that tells you if you'll need an umbrella today.</p>
        
        <p>But wait, doesn't this block need an input to say where you are? Nope: your IP address contains information about your location!</p>
        
        <div class="ifTime" id="first">
            <ol>
                <li>Determine your computer's <a href="/bjc-r-2017-18/cur/programming/4-internet/4-protocols/1-ip-routing.html">IP address</a>.<div class="sidenote">Perhaps you already have a block that finds your IP address?</div></li>
                <li>Edit the following URL, replacing the IP address with your own: <code>http://ipinfo.io/72.229.28.185</code>. What information does that page give you?</li>
                <li>Use Snap<em>!</em> to retrieve the information from that web page, using the <code>proxied http</code> block:<img src="/bjc-r-2017-18/img/4-internet/proxiedcombo.png" alt="Getting info about your IP"></li>
                <div class="sidenote">Some of the information might have slight inaccuracies. IP addresses often give the location of an Internet service provider, usually from a nearby location.</div>
            </ol>
        </div>
        
        <p>The amount of detailed information available from an IP address is pretty amazing (and a little scary), especially when you think about the ways that information can be used.</p>
        
        <img src="/bjc-r-2017-18/img/4-internet/ioshot.png" width="50%" align="middle" alt="Screen shot of ipinfo.io">
        
        <p> 
        	<div class="comment">PG: I looked first for a "details" link or tab, then tried the <em>developers</em> link in response to "read the details on ipinfo.io..." Not finding /loc, I almost gave up. <em><strong>OH!</strong></em> That's the info we're getting in "Try the JSON API from the command line." <em><strong>That</strong></em> is far from obvious, since the student at this point doesn't know the meaning of JSON or API or "command line," and, furthermore, has every reason, once seeing "$ curl, blah..." to assume it's random stuff to be ignored, or that, at best, the labels in it are just labels, not things that can go in a URL. Edited to give specific tags to the student. -- BK
            </div>
        By viewing the source HTML for the page, you can devise a plan for extracting the right information from it.</p>
        
        <div class="takeNote">Some Web sites also have ways for users to obtain more direct information. Read the details on <code>ipinfo.io</code>, and you'll find some really nice ways to directly extract the information you need. For example, <code>ipinfo.io/72.229.28.185/loc</code> returns just a latitude and longitude, instead of an HTML page. Check out <code>ipinfo.io/72.229.28.185/city</code>, <code>/state</code>, and <code>/postal</code> for ideas.</div>
        
        <div class="ifTime">
            <ol start="4">
                <li>Build the <img src="/bjc-r-2017-18/img/4-internet/umbrella.png" alt="UMBRELLA? block"> block by using IP information as input to Weatherstreet. You'll need to figure out what information should make the block answer: <img src="/bjc-r-2017-18/img/4-internet/umbrellatrue.png" alt="UMBRELLA? block returning true">. <div class="sidenote"> Remember, the <em>true</em> and <em>false</em> blocks are in the Operators panel.</div></li>
            </ol>
        
            <div class="takeItFurther">
                <ol type="A">
                    <li>Change the <img src="/bjc-r-2017-18/img/4-internet/umbrella.png" alt="UMBRELLA? block"> to a reporter that can return a wider variety of information, including outputs such as <em>tonight</em>, <em>tomorrow</em>, <em>it's complicated</em>, and <em>wear boots instead</em>.</li> 
                    <div class="sidenote"><img src="/bjc-r-2017-18/img/4-internet/sunsettime2.png" alt="SUNSET TIME block with output" /></div>
                    <li>Build a <img src="/bjc-r-2017-18/img/4-internet/sunsettime1.png" alt="SUNSET TIME block"> reporter that returns the sunset time at a given location; if no location is provided, use the current location.</li>
                </ol>
            </div>
            
        </div>
    
    </body>
</html>
