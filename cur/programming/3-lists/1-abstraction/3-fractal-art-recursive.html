<!DOCTYPE html>
<html lang="en">
    <head>
		<meta charset="utf-8">
        <script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 3 Lab 1: Dealing with Complexity, Page 3</title>
    </head>

    <body>
        <h2>Using Abstraction to Nest Triangles</h2>
        <div class="learn">
            <p><strong>On this page,</strong> you will use abstraction to nest your triangle script inside itself as you learn about <em>recursion</em>.</p>
        </div>
        <p>Does all that copying and pasting of triangle scripts feel awkward to you? You know a better way: <em>abstraction</em>. In Unit 1, you used a <code>pinwheel</code> block to implement the similar programs <code>asterisk</code> and <code>polygon</code> rather than copying the code. Here, you can use a block to manage the abstraction too. But in this case, we want the similar code (a smaller triangle) <em>nested inside</em>, so we will actually use the same block inside itself, a process called <em>recursion</em>.</p>

		<div class="forYouToDo">
			<ol start="1">
                <li>If it isn't open already, open your U3L1-FractalArt project.</li>
                <li>
                    Create a<code> </code>block called <code>nested triangle</code> that takes one input, <var>size</var>, and, for now, only draws one triangle, but only if <var>size</var> &gt; 9. (Leave out the code about changing colors.)
                    <br /><img class="indent" src="/bjc-r/img/2-complexity/nested-tri-no-color-proto.png" alt="nested triangle, size: (size)" title="nested triangle, size: (size)">
                    <div class="endnote">
                        <p><a href="#hint-purple" data-toggle="collapse" title="Shouldn't it be blue?">Shouldn't it be blue?</a></p>
                        <div id="hint-purple" class="collapse">
                            <p>When you're building a new block, you can use any color you want. This block is purple so that it will stand out when you use it in a script later.</p>
                        </div>
                        <p><a href="#hint-nested" data-toggle="collapse" title="Click for hints about building a nested triangle block.">Click for hints about building a <code>nested triangle</code> block.</a></p>
                        <div id="hint-nested" class="collapse">
                            <ol type="a">
                                <li>
                                    Use your first triangle script from the previous page as a model. But add one condition: draw the triangle only if it's big enough:<br />
                                    <img class="indent" src="/bjc-r/img/2-complexity/triangle.png" alt="if(size&gt;9){repeat(3){move 100 steps; turn clockwise 120 degrees}}" title="if(size>9){repeat(3){move 100 steps; turn clockwise 120 degrees}}">
                                </li>
                                <li>Click the "Apply" button in the Block Editor so that the block appears in the palette on the left.</li>
                            </ol>
                        </div>
                    </div>
                </li>
                <li>Try out your block  giving at least the inputs 9, 18,  20 and 100 to make sure it works as you expect.</li>
            </ol>
        </div>

        <p>So far, this is just a triangle procedure, but next you'll make it recursive.</p>
        <div class="vocabFullWidth">
            <p>Calling a procedure from inside itself is called <strong>recursion</strong>.</p>
        </div>
        <p>On the previous page, you dragged a copy of the triangle script in between the <code>move</code> and <code>turn</code> blocks. You can do a similar thing with your <code>nested triangle</code> block.</p>

        <div class="forYouToDo">
			<ol start="4">
                <li>
                    From the palette, drag  <code>nested triangle</code> into the definition of <code>nested triangle</code> between the <code>move</code> and <code>turn</code> blocks.  Make its <var>size</var> input half the current value of <var>size</var>.<br />
                    <img class="indent" src="/bjc-r/img/2-complexity/nested-tri-recur-no-color.png" alt="nested triangle, size: (size/2)" title="nested triangle, size: (size/2)">
                </li>
                <li>
                    Again try out your block with at least the inputs 9, 18, 20 and 100 to make sure it works as you expect.
                    <div class="endnote">You are using <code>nested triangle</code> in its own definition; this makes it a recursive procedure.  Recursion is one of the most powerful techniques in computer science and you will learn more about it in later projects.</div>
                </li>
                <img class="inline" src="/bjc-r/img/icons/save-now.png" alt="Save your work" title="Save your work" />
            </ol>
		</div>

        <div class="ifTime">
            <ol start="6">
                <li>Use <code>nested triangle</code> as a model to define a recursive <code>nested square</code> block.</li>
                <li>
                    In order to draw the parent triangle, the sprite must turn 120&deg; between sides.  For the fractal you just created, that turning happens <em>after</em> drawing the child, but you could turn <em>before</em> the recursive call, or split the turn, with part before and part after the recursive call. Try some modifications like these:<br />
                    <img class="indent" src="/bjc-r/img/2-complexity/triangle-fractal-variation01.png" alt="repeat(3){move(size) steps; turn clockwise (120) degrees; triangle fractal level:(level-1) size:(size*0.5)}" title="repeat(3){move(size) steps; turn clockwise (120) degrees; nested triangle, size:(size/2)}" /><br />
                    <img class="indent" src="/bjc-r/img/2-complexity/triangle-fractal-variation02.png" alt="repeat(3){move(size) steps; turn clockwise (60) degrees; triangle fractal level:(level-1) size:(size*0.5); turn clockwise(60) degrees}" title="repeat(3){move(size) steps; turn clockwise (60) degrees; nested triangle, size:(size/2); turn clockwise(60) degrees}" /><br />
                    <img class="indent" src="/bjc-r/img/2-complexity/triangle-fractal-variation03.png" alt="repeat(3){move(size) steps; turn counter-clockwise (30) degrees; nested triangle, size:(size/2); turn clockwise(150) degrees}" title="repeat(3){move(size) steps; turn counter-clockwise (30) degrees; triangle fractal level:(level-1) size:(size*0.5); turn clockwise(150) degrees}" />
                </li>
            </ol>
		</div>

        <div class="takeItFurther">
            <ol type="A">
                <li>Experiment with the scale factor for the <var>size</var> of the recursive calls.  A couple of interesting values are <span class="katex">\frac{<var>1</var>}{3}</span> and <span class="katex">\frac{<var>1</var>}{\sqrt{3}}</span>.</li>
                <li>Use <code>for</code> to make an animation that cycles through different turning angle arrangements (that is, 0&deg; and 120&deg;, then 1&deg; and 119&deg;, then 2&deg; and 118&deg;, etc.).<br />
                    <img src="/bjc-r/img/2-complexity/U2ImageVideoAddendum_img/RecursiveTriangleAnimation.gif" height="300" alt="Recursive Triangle Animation" title="Recursive Triangle Animation"/>
                    <img src="/bjc-r/img/2-complexity/U2ImageVideoAddendum_img/RecursiveSquareAnimation.gif" height="300" alt="Recursive Square Animation" title="Recursive Square Animation"/>
                </li>
            </ol>
        </div>


    </body>
</html>
