<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 3 Lab 3: Three Key List Operations, Page 3</title>
	</head>  
	
	<body>
		<img class="imageRight" src="/bjc-r/img/icons/teachers-choice.png" alt="Teacher's Choice" title="Teacher's Choice" />
        <h2>The <code>Keep</code> Block (Teacher's Choice)</h2>
		<div class="comment">
        	<ul>
				<li>See also KEEP ideas from <a href="http://snap.berkeley.edu/snapsource/snap.html#present:Username=MrZG&ProjectName=U0301_ListsPrez">Zeph Grunschlag in NY</a></li>
            </ul>
		</div>
        
		<p>
            The <img class="inline" src="/bjc-r/img/blocks/keep.png" alt="keep" title="keep" /> block takes a predicate (with a blank input slot) and a list as input and creates a new list keeping only those items from the input list that match some criterion, such as "begins with a vowel," "is less than five characters long," "is even," or "is a vegetable." For example:
            <img class="indent" src="/bjc-r/img/3-lists/keep-example-1.png" alt="keep items such that (is () a (number)?) from {5, :), six, 7, elephant, 3} reporting {5,7,3}" title="keep items such that (is () a (number)?) from {5, :), six, 7, elephant, 3} reporting {5,7,3}" /><br />
            <img class="indent" src="/bjc-r/img/3-lists/keep-example-2.png" alt="keep items such that (((letter (1) of ()) = (a)) or ((letter (1) of ()) = (o))) from {Ann, Olivia, Jamal, Karl, A.J., Tara} reporting {Ann, Olivia, A.J.}" title="keep items such that (((letter (1) of ()) = (a)) or ((letter (1) of ()) = (o))) from {Ann, Olivia, Jamal, Karl, A.J., Tara} reporting {Ann, Olivia, A.J.}" /><br />
            <img class="indent" src="/bjc-r/img/3-lists/keep-example-3.png" alt="keep items such that (() > (5)) from {8, 54, 12.7, .73, -1, 55} reporting {8, 54, 12.7, 55}" title="keep items such that (() > (5)) from {8, 54, 12.7, .73, -1, 55} reporting {8, 54, 12.7, 55}" />
        </p>

		<p>You write the predicate that does the checking, and <code>keep</code> applies that predicate to each item in the input list and reports the list of elements that make your predicate true.</p>
        
        
        <div class="todo">Keep is ok, but it could be augmented to foreshadow some other stuff. For example, if kids imported a data set (so that they did not have to create it themselves), they could keep all the points that are higher than whatever.  Could be grades, but it'd be nice if they could actually answer some useful question by performing some list operation.  Count the entire list; keep all the values that are over some level; count that list; compare?  (not brilliant, come up with something better)</div>
		
        
		<div class="todo"><h3>Music problem was moved to <a href="http://localhost/bjc-r/cur/programming/3-lists/optional-projects/3-music-project.html?topic=nyc_bjc%2F3-lists.topic&course=bjc4nyc.html&novideo&noassignment">Music Project</a> --MF, 6/1/17</h3></div>
		
        
        <h3>Filtering Data</h3>
        <div class="ifTime">
			<ol start="2">
                <li>Import <a class="run" href="/bjc-r/prog/3-lists/old/U3L3-Grades.xml">this data set of class grades</a>.</li>
                <li>Count the number of items in the list.</li>
                <li>Use <code>keep</code> to create a filter that keeps only the values of a list that are over some input number. (It should be a reporter that takes a list and a number as input and reports a new list of all of the values in the original list that are greater than the specified number.)</li>
                <li>Count number of grades that are 80 or above.</li>
                <li><img class="inline" src="/bjc-r/img/icons/talk-with-your-partner-mini.png" alt="Talk with Your Partner" title="Talk with Your Partner" />
 Compare the size of the original list with the list of the scores of 80 or better.</li>
            </ol>
        </div>

        
    <!--<p><br />You may have played Geography, the game in which one player says 
a place name and the next player has to name another place whose first 
letter is the last letter of the previous place: Newark, Kentucky, 
Yonkers, San Francisco, Oklahoma. Have you ever gotten stuck on the 
letter "A"? Oklahoma, Alabama, Asia, Alaska, America, Alameda... and so 
on, forever.</p>

How many states start and end with the same letter? To find out, we first need a list of all the states. -->

        
		<p>
			Click on the script to open a new file.<br>
			<a class="run" href="/bjc-r/prog/3-lists/old/U3Lab2Keep.xml"> <img class="indent" src="/bjc-r/img/3-lists/states.png" alt="Alabama, Alaska, ... Wisconsin, Wyoming" title="Alabama, Alaska, ... Wisconsin, Wyoming" /> </a>
		</p>
	
		<div class="sidenote">Notice that this gray ring's inner boundary is hexagonal, which means you should use a <i>predicate </i>function, which is a function that reports <code>true</code> or <code>false</code>.</div>
	
		<p>Alphie and Betty discuss using <code>keep</code>: <img title="KEEP ITEMS SUCH THAT (&lt;predicate&gt;) FROM (list)" alt="KEEP ITEMS SUCH THAT (&lt;predicate&gt;) FROM (list)" src="/bjc-r/img/3-lists/keep_block.png" border="0"/></p>
	
		<div class="dialogue">
			<div><span>Alphie:</span> Let's figure out how <code>keep</code> works. Which states do we want to keep?</div>
			<div><span>Betty:</span> Let's get a list of the states that begin and end with the same letter.</div>
			<div><span>Alphie:</span> So the list we're using is <code>states</code>. And letter 1 of the word needs to be the same as the last letter of the word.</div>
			<div><span>Betty:</span> Ok, so far we have this:</div>
				<div class="stagedir"><img src="/bjc-r/img/3-lists/keep_letter1equalsletterblank.png" alt="keep(letter_1=letter_blank)from(states)" title="keep(letter_1=letter_blank)from(states)"/></div>
			<div><span>Alphie:</span> We want the last letter of each word. The last letter depends on the length of the word.</div>
			<div><span>Betty:</span> Oh, right, so we can do this:</div>
				<div class="stagedir"><img title="keep(letter_1=letter(length))from(states)" alt="keep(letter_1=letter(length))from(states)" src="/bjc-r/img/3-lists/keep_letter1equalsletter(length)from(states).png" /></div>
			<div><span>Alphie:</span> Each item of <code>states</code> goes in the empty spaces. So, let's try an example. I'll pick a state... "new york". Letter 1 of "new york" is "n".</div>
			<div class="sidenote">The space in "new york" counts as a character. So "new york" has a length of 8 and the eighth letter is "k".</div>	
			<div><span>Betty:</span> And that equals... Well, <code>length of</code> "new york" is 8, and <code>letter <var>8</var> of</code> "new york" is "k". The condition is false because "n" doesn't equal "k". So "new york" doesn't show up in the list. We'll keep only the states that have the same first and last letter.</div>
		</div>
	
		<div class="ifTime">
			<ol start="7">
				<li>			
					<ol>		
						<li>
                            Define a block that will keep all the states that start with a given letter. Here's an example of the block in action:<br />
                            <img class="indent" title="states with S -&gt; south carolina, south dakota" alt="states with S -&gt; south carolina, south dakota" src="/bjc-r/img/3-lists/s-states.png" border="0"/>
                        </li>
						<!--	<div class="sidenote">If you need some inspiration for problem 3, look again at <a href="/bjc-r/cur/programming/3-lists/2-list-operations/getting-started.html#fmapcon">problem 5 on the Getting Started</a> for this lab.</div> --->
						<li>Write an expression that will select all the states whose names are at least seven letters long.</li>
						<!--	<img title="KEEP(vowels_contains_blank)from(states)" alt="KEEP(vowels_contains_blank)from(states)" src="/bjc-r/img/3-lists/keep_vowelsfromstates.png" /> -->
					</ol>
				</li>
			</ol>
		</div>
		  
		<h3>Using <code>Map</code> and <code>Keep</code> to Access a Database</h3>
        <p>A <strong>database</strong> is a list of <em>records</em>. Each record is a list of its own (the "data" for that record). For example, a database of people in New York might consist of records that contain first name, last name, address, and phone number. To be useful, a database needs <strong>selectors</strong> that pull out individual pieces of information from each record.</p>
	
		<div class="ifTime" >
			<ol start="8">
				<li><img class="imageRight" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> Discuss how <code>map</code> and <code>keep</code> might be useful in selecting and organizing data from a database.</li>
				<div class="comment">We could do a lot more here with abstraction. Should we?</div>
				<li>
					<ol>
						<li>
							Make a database with data from a few people in your class. Each record contains first and last names, age (in years), and height (in inches). So, your database might start out like this:<br />
							<img class="indent" src="/bjc-r/img/3-lists/database.png" alt="data_from_class" title="data_from_class" />
						</li>
						<li>
							Make your selectors. You need four of them; you could call them 
 <code>firstname</code>, <code>lastname</code>, <code>age</code>, and <code>height</code>. Here's how <code>age</code> might work:<br />
 							<img class="indent" src="/bjc-r/img/3-lists/agesel.png" alt="age_sasha" title="age_sasha" />
						</li>
						<li> 
							Search your database and create a list of all classmates who are...
							<ol style="list-style:lower-roman;">
								<li>The same age as you</li>
								<li>Taller than you</li>
								<li>Younger than you</li>
							</ol>
						</li> 
						<li> Search your database and create a list of all classmates whose...
							<ol style="list-style:lower-roman;">
								<li>Last name has the same first letter as yours</li>
								<li>First name starts with a letter that comes before yours in the alphabet</li>
							</ol>
						</li> 
					</ol>
				</li>
			</ol>
		</div>
		
		<div class="takeItFurther">
			<ol type="A">
				<li>Make a block that takes your database and reports a rearrangement of the records so that the last names of your classmates are in alphabetical order.</li>
			</ol>
		</div>

		<!-- question 1 (was #3 on Self Check Page) -->
        <div class="assessment-data"
        type="multiplechoice" identifier="is_a_number"
        hasinlinefeedback="true" maxchoices="3"
        responseIdentifier="resp3" shuffle="true">
            <div class="prompt">
                <p>
                    Use this list of words and numbers: <br />
                    <img class="indent" src="/bjc-r/img/3-lists/words_numbers.png" alt="set (words and numbers) to {rabbit, 5, benefit, is, 34, kite, 2, 305, the, 61}" title="set (words and numbers) to {rabbit, 5, benefit, is, 34, kite, 2, 305, the, 61}" /><br />
                    Which of these expressions produce the list with just the numbers: <var>{5, 34, 2, 305, 61}</var>?<br />
                    Choose <strong>all</strong> that apply.
                </p>
            </div>

            <div class="choice" identifier="c1">
                <div class="text">
                    <img border="0" src="/bjc-r/img/3-lists/check2isaNumc1.png" alt="map (is () a (number)?) over (words and numbers)" title="map (is () a (number)?) over (words and numbers)" />
                </div>
                <div class="feedback">
                    No. The <code>Is a number?</code> block is a predicate, so <code>map</code> will report a list of Boolean (true/false) values, not a list of numbers.</div>
            </div>
            <div class="choice" identifier="c2">
                <div class="text">
                    <img border="0" src="/bjc-r/img/3-lists/check2isaNumc2.png" alt="keep items such that (is () a (number)?) from (words and numbers)" title="keep items such that (is () a (number)?) from (words and numbers)" />
                </div>
                <div class="feedback">
                    Correct.
                </div>
            </div>
            
            <div class="responseDeclaration" identifier="resp3">
                <div class="correctResponse" identifier="c2"></div>
            </div>
        </div>


	</body>
</html>
