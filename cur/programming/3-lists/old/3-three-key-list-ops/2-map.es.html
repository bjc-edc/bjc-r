<!DOCTYPE html>
<html lang="en">
    <head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 3 Lab 3: Three Key List Operations, Page 2</title>
    </head>

    <body>
		<img class="imageRight" src="/bjc-r/img/icons/teachers-choice.es.png" alt="Teacher's Choice" title="Teacher's Choice" />
        <h2>The <code>Map</code> Block (Teacher's Choice)</h2>
        <div class="todo">
        	<ul>
                <li>For future years: I think these pages are getting too long for one page each. --MF</li>
                <li>For now, there are a few comments to read below. --MF</li>
                <li>GH Feedback 10/30/15: Minor issue, perhaps nitpicky, but I wish one of the list elements used in MAP ROUND were something that got rounded up. A student who is unclear on the difference between ROUND and FLOOR could get confused.</li>
            </ul>
        </div>

        <p>
        	The <img class="inline" src="/bjc-r/img/blocks/map.es.png" alt="map 'reporter input slot' over 'list input slot'" title="map 'reporter input slot' over 'list input slot'" /> block takes two inputs: a function (with a blank input slot) and a list, and it reports a new list. In this new list, each item is the result of running an item of the original input list through the function. For example:<br />
            <img class="indent" src="/bjc-r/img/3-lists/map-example-1.es.png" alt="map (( )-(1)) over (list (96) (-100) (4.7)) reporting" title="map (( )-(1)) over (list (96) (-100) (4.7)) reporting" /><br />
            <img class="indent" src="/bjc-r/img/3-lists/map-example-2.es.png" alt="map (join ( ) (s)) over (list (cat) (dog) (bird)) reporting" title="map (join ( ) (s)) over (list (cat) (dog) (bird)) reporting" /><br />
            <img class="indent" src="/bjc-r/img/3-lists/map-example-3.es.png" alt="map (round ( )) over (list (3.14159) (87) (5.4)) reporting" title="map (round ( )) over (list (3.14159) (87) (5.4)) reporting" /><br />
        </p>

		<p>You write the function that describes the change, and <code>map</code> applies that function to each item in the input list and then reports the list of values changed by the function.</p>

    	<div class="takeNote">
            <p>The gray ring in <img class="inline" src="/bjc-r/img/blocks/map.es.png" alt="map 'reporter input slot' over 'list input slot'" title="map 'reporter input slot' over 'list input slot'" /> means that the input should be a <i>function</i>. The function can be numeric as in algebra, for example: <img class="inline" src="/bjc-r/img/3-lists/3x+7.es.png" alt="(3 * ()) + 7" title="(3 * ()) + 7" /> (as we'll explore later) or <img class="inline" src="/bjc-r/img/3-lists/x-1.es.png" alt="() - 1" title="() - 1	" /> (as shown above), but you can also use other operators like <img class="inline" src="/bjc-r/img/3-lists/join()s.es.png" alt="join () (s)" title="join () (s)" />: the <code>map</code> function above <code>join</code>s each word with the letter 's'. The blank input slot in the function is filled with each list item to make the new list. In algebraic functions, that's the variable, for instance: that's the <i>x</i> in the function <em>f</em> defined by <em>f</em>(<em>x</em>) =3<em>x</em>&nbsp;+&nbsp;7.</p>
        </div>


		<div class="todo"><h3>Music problems were moved to <a href="/bjc-r/cur/programming/3-lists/optional-projects/4-music-project.es.html?topic=nyc_bjc%2F3-lists.es.topic&course=bjc4nyc.es.html&novideo&noassignment">Music Project</a> --MF, 6/1/17</h3></div>

        <h3>Mapping Plurals into Sentence Builder</h3>
        <div class="ifTime">
            <ol start="6">
                <li>Open "U3L1-SentenceBuilder" from <a href="/bjc-r/cur/programming/3-lists/optional-projects/old/3-modeling-sentence-structures.es.html?topic=nyc_bjc%2F3-lists.es.topic&course=bjc4nyc.es.html&novideo&noassignment">Lab 1</a>.</li>
                <li>Modify your <code>noun phrase</code> block so that half of the time it uses a plural noun.</li>
                <li>Note that when you use a plural noun, the article can not be "a" because "a" implies that it is a singular noun. Devise a solution.</li>
            </ol>
        </div>


		<h3>Drawing 3D Shapes</h3>
		<div class="todo">Lab1's last page, draw shape, has lots of numbers, but we're doing something with them.  If we used MAP over the vertices of A to translate it, or dilate it, that would be ok.  I actually thought that was here somewhere, but couldn't find it.  That would require a slightly more complex "getting inside" the list operation, but the kids in their dialogue have already begun that thinking in draw shape.  But when we get to the page on MAP, it applies arbitrary functions to arbitrary numbers for no apparent reason other than exercise.</div>
		<div class="todo">Could you invent a MAP page that builds on draw shape, maybe translating or reflecting or dilating?  You could exchange x and y coords and see what happens.  A translation of, say, (20, 10) could look 3-D ish, especially if corners of the two were connected.  So would a connecting an image and a dilation. --PG</div>
		<p>You can use <code>map</code> to translate coordinates on a plane.</p>
        <div class="ifTime">
            <ol start="9">
                <li>Open your "U3L2-DrawShape" project from <a href="/bjc-r/cur/programming/2-complexity/optional-projects/future/2-data-types.es.html?topic=nyc_bjc%2F3-lists.es.topic&course=bjc4nyc.es.html&novideo&noassignment">Lab 2</a>.</li>
                <div class="sidenoteBig">Use addition to <em>translate</em> the shape to different locations.</div>
                <li>Create a <code>shape zoo</code> block that uses your <code>draw shape</code> block together with <code>map</code> to draw the shape (given as an input list) at random places on the stage.</li>
                <li><div class="saveAs"><span class="text">"U3L3-ShapeZoo"</span><img src="/bjc-r/img/icons/save-this-as.es.png" alt="Save your work as U3L3-ShapeZoo" title="Save your work as U3L3-ShapeZoo" /></div>
                <div class="sidenoteBig">Use multiplication to <em>dilate</em> the shape.</div>
                <li>Change your <code>shape zoo</code> block so that it dilates (re-scales) each shape by a random factor (for example, from .5 to 3).</li>
                <div class="sidenoteBig"><img class="inline" src="/bjc-r/img/icons/talk-with-your-partner-mini.es.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> What changes about a coordinate pair when it flips across the <em>x</em>- or <em>y</em>-axis?</div>
                <li>Adjust your <code>shape zoo</code> block so that it sometimes reflects (flips) the shape vertically and/or horizontally.</li>
</li>
            </ol>
        </div>

		<div class="todo">I found the 3D thing too difficult, and <em>I have not gotten it working yet</em>, so I made it a TIF. <strong>Someone please check that it's reasonable to ask this?</strong> --MF</div>
        <div class="takeItFurther">
            <ol type="A">
                <li>
                    Create a <code>draw 3D shape</code> block that takes a list of points as input and does the following:
                    <ol>
                        <li>Draws the shape by calling your existing <code>draw shape</code> block</li>
                        <li>Draws a second copy of the shape shifted 20 in the <em>x</em> direction and 10 in the <em>y</em> direction</li>
                        <li>Connects the corresponding vertices (corners) of the two copies of the shape</li>
                    </ol>
				</li>
				<li>
                    Describe the result of this block:<br />
                	<img class="indent" title="mapcoord" alt="map over coordinates" src="/bjc-r/img/3-lists/mapcoord.es.png" />
                	<ol style="list-style:lower-roman;">
                       <div class="sidenote">You drew the letter A in <a href="/bjc-r/cur/programming/2-complexity/optional-projects/future/4-the-for-each-block.es.html?topic=nyc_bjc%2F3-lists.es.topic&course=bjc4nyc.es.html&novideo&noassignment">The <code>For Each</code> Block</a>.</div>

                		<li> Build a block <code>move</code> that moves the letter A 37 units left and 23 units up.</li>
                        <li> Make <code>move</code> more general, so that you can input how much you want to change <em>each coordinate</em> of the elements of A.</li>
                    </ol>
            		<div class="endnote">  You can connect corresponding vertices for a 3-D  effect.</div>
                </li>
            </ol>
        </div>


		<h3>Using <code>Map</code> for Algebraic Functions</h3>
        <div class="dialogue">
			<div class="stagedir">Alphie and Betty are talking about another example of using <code>map</code> to compute some function of every item of a list:</div>
    		<div><span>Betty:</span> That gray ring after the word "map" means a function goes in there. A function? Like in algebra? What about the function <em>f</em> defined by <em>f</em>(<em>n</em>) = 3<em>n</em> + 7?</div>
            <div>
            	<span>Alphie:</span> Well, I don't think the function has to be mathematical. We used <code>plural</code> with words. But let's try to put the function <em>f</em> in there. First I need to build <em>f</em>.  Here you go:<br />
            	<img border="0" src="/bjc-r/img/3-lists/deff.es.png" alt="f(n)=3n+7" title="f(n)=3n+7"><br />
            	Then we map <em>f</em> over a list, like 2, 0, and 7:<br />
                <img border="0" src="/bjc-r/img/3-lists/fpict.es.png" alt="f(n)=3n+7" title="f(n)=3n+7"><br />
                and it works!
            </div>
            <div><span>Betty:</span> But I think I see an easier way. There's no need to <em>name</em> <em>f</em>. We leave the input in the expression blank, just like we did in <code>join</code>.</div>
            <div class="stagedir">Betty makes and clicks to see <img border="0" title="map 3x+7" alt="map 3x+7" src="/bjc-r/img/3-lists/map3x+7.es.png" /></div>
            <div><span>Alphie:</span> Let's see. 2 times 3 is 6. And then add 7. That's 13. Good, it worked!</div>
        </div>

		<div class="ifTime">
        	<ol start="14">
            	<li><div class="newProject"><span class="text">"U3L3-FunctionPractice"</span><img src="/bjc-r/img/icons/new-project-called.es.png" alt="Create a new project called U3L3-FunctionPractice" title="Create a new project called U3L3-FunctionPractice" /></div></li>
                <img class="imageRight" src="/bjc-r/img/icons/import-tools.es.png" alt="Import Tools" />
                <li>
                    Practice: Write a block for the following function: <span class="katex-block">g(n)=6n+5</span>
                </li>
                <li>
                	For each of these problems, start with this block: <img border="0" src="/bjc-r/img/3-lists/map_over207.es.png" alt="map over list(2,0,7)" title="map over list(2,0,7)" />
                    <ol>
                        <li>Write a function for <code>map</code> that would report the <strong>list</strong> 3, 1, 8. </li>
                        <li>Write a function for <code>map</code> that would report the <strong>list</strong> 4, 0, 14. </li>
        			</ol>
                </li>

            </ol>
        </div>


        <div class="takeItFurther">
        	<ol type="A" start="3">
                <li>
               	Using the same input list as above, <var>{2, 0, 7}</var>, write a function for <code>map</code> that would report the <strong>list</strong> 4, 0, 49. </li>
                <li>
	                <div class="comment">The TiF is also pretty arbitrary.  We're getting some mathematical lesson in comparing iii and iv, but we're not getting CS, and it's not interesting. --PG?</div>
                    Describe what each of these does to the numbers in the list <code>{4,3,2,7}</code>
                    <div class="sidenote">Write an algebraic expression for what each one does.</div>
                    <ol style="list-style:lower-roman;">
                        <li><img border="0" src="/bjc-r/img/3-lists/3n+2.es.png" alt="map +2 over (map*3 over {4327})" title="map +2 over (map*3 over  {4327})" /><br /></li>
                        <li><img border="0" src="/bjc-r/img/3-lists/(n+2)3.es.png" alt="map *3 over (map + over {4327})" title="map *3 over (map + over {4327})" /><br /></li>
                        <li><img border="0" src="/bjc-r/img/3-lists/comp2.es.png" alt="map +2*3 (over {4327})" title="map +2*3 (over {4327})" /><br /></li>
                        <li><img border="0" src="/bjc-r/img/3-lists/comp3.es.png" alt="map *3+2 (over {4327})" title="map *3+2 (over {4327})" /><br /></li>
                        <li><img border="0" src="/bjc-r/img/3-lists/double.es.png" alt="map _+_ over {4327}" title="map _+_ over {4327}" /><br /></li>
                        <li><img border="0" src="/bjc-r/img/3-lists/plsq.es.png" alt="map _+_ over _*_ {4327}" title="map _+_ over _*_ {4327}" /><br /></li>
                    </ol>
                </li>
                <li><img src="/bjc-r/img/icons/talk-with-your-partner-mini.es.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> Explain what <code>map</code> is putting in the blank spaces here: <img border="0" src="/bjc-r/img/3-lists/map_join3.es.png" alt="map (join (3blanks)) over nouns" title="map (join (2blanks)) over nouns" /> </li>
                <li>Build a reporter <code>compose </code>  that takes two functions and a list as input and reports the the result of mapping the first function over the result of mapping the second function over the list:<br />
                	<img class="indent" title="compose" alt="map 3x+7" src="/bjc-r/img/3-lists/compose.es.png" />
                </li>
			</ol>
		</div>

<div class="todo">
    <div class="comment">JK: Comment from Dan and NY teachers: "They worked for quite a while, not realizing that if the function passed to map is "item _ of LIST" that they could remove the 1 to leave a blank slot.  This has come up before with students who see a drop-down menu and don't realize it can be edited."</div>
    <ul>
        <li><strong>Make</strong> a red block, <img border="0" src="/bjc-r/img/3-lists/lookup_block.es.png" alt="red reporter: lookup items () from ()" title="red reporter: lookup items () from ()" />. Here's how it starts:<br /> <img border="0" src="/bjc-r/img/3-lists/lookup_block_def.es.png" alt="lookup items (item numbers) from (this list)" title="lookup items (item numbers) from (this list)" /><br />And here it is in action on our list <code>nouns</code>:<div class="sidenote">If you need some inspiration, look again at problem 3 in the Getting Started for this lab.</div><br /><img border="0" src="/bjc-r/img/3-lists/nouns.es.png" alt="giraffe, elephant, pizza, etc." title="giraffe, elephant, pizza, etc." /> <br /> <img border="0" src="/bjc-r/img/3-lists/lookup_result.es.png" alt="lookup items (1,2,5) from (nouns) = (giraffe, elephant, boy)" title="lookup items (1,2,5) from (nouns) = (giraffe, elephant, boy)" /></li>
        <li>Once you've made <code>lookup items () from ()</code>, go to the file menu <img class="button" src="/bjc-r/img/1-introduction/file_button.es.png" alt="File button"/> and choose "Export blocks...". This opens a window with all the imported tools and all your custom blocks. <strong>Uncheck</strong> all the blocks <strong>except</strong> your new <code>lookup</code> block. Choose "ok."<br /> You will see a new tab open with text. Save this as "lookup.xml" (go to your browser's File-&gt;Save Page As... or right-click on the page and Save As...). Save it to a folder or on your computer's desktop.<br />Now, you can use this block in other <span class="snap">snap</span> projects. Try it now. Open a new <span class="snap">snap</span> page. Then <strong>drag</strong> the "lookup.xml" file onto the <span class="snap">snap</span> page. The block should now be in your Variables palette.<br />You will use the <code>lookup</code> block again later in Unit 3 Lab 4.</li>
    </ul>
</div>


	<!-- question 1 (was #4 on Self Check Page) -->
        <div class="assessment-data"
        type="multiplechoice" identifier="mapLetterVsItem"
        hasinlinefeedback="true" maxchoices="5"
        responseIdentifier="resp4" shuffle="true">
            <div class="prompt">
                <p>
                    This question refers to these two lists:<br />
                    <img class="indent" src="/bjc-r/img/3-lists/words_numbers.es.png" alt="set (words and numbers) to {rabbit, 5, benefit, is, 34, kite, 2, 305, the, 61}" title="set (words and numbers) to {rabbit, 5, benefit, is, 34, kite, 2, 305, the, 61}" /><br />
                    <img class="indent" src="/bjc-r/img/3-lists/check1capitals.es.png" alt="set (capitals) to {{Augusta, Maine}, {Boise, Idaho}, {Columbia, South Carolina}, {Des Moines, Iowa}}" title="set (capitals) to {{Augusta, Maine}, {Boise, Idaho}, {Columbia, South Carolina}, {Des Moines, Iowa}}" /><br />
                    Which of these statements are <strong>true</strong>?<br />
                    Choose <strong>all</strong> that apply.
                </p>
            </div>

            <div class="choice" identifier="c1">
                <div class="text">
                    <img border="0" src="/bjc-r/img/3-lists/check2mapc1.es.png" alt="map (letter (1) of ()) over (words and numbers)" title="map (letter (1) of ()) over (words and numbers)" /> reports the list <var>{r, 5, b, i, 3, k, 2, 3, t, 6}</var>.
                </div>
                <div class="feedback">
                    Correct.
                </div>
            </div>
            <div class="choice" identifier="c2">
                <div class="text">
                    <img border="0" src="/bjc-r/img/3-lists/check2mapc2.es.png" alt="map (item (1) of ()) over (words and numbers)" title="map (item (1) of ()) over (words and numbers)"> reports the list <var>{rabbit}</var>.
                </div>
                <div class="feedback">
                    No. The blank space is expecting a <strong>list</strong> as its input, but <code>map</code> puts a single item from <code>words and numbers</code> into that slot.
                </div>
            </div>
            <div class="choice" identifier="c1">
                <div class="text">
                    <img border="0" src="/bjc-r/img/3-lists/check2mapc3.es.png" alt="map (item (1) of ()) over (capitals)" title="map (item (1) of ()) over (capitals)"> reports the list <var>{Augusta, Boise, Columbia, Des Moines}</var>.
                </div>
                <div class="feedback">
                    Correct.
                </div>
            </div>
            <div class="choice" identifier="c3">
                <div class="text">
                    <img border="0" src="/bjc-r/img/3-lists/check2mapc4.es.png" alt="map (letter (1) of ()) over (capitals)" title="map (letter (1) of ()) over (capitals)"> reports the list <var>{A, B, C, D}</var>.
                </div>
                <div class="feedback">
                    No. You can find the first letter of a word, but not the first letter of a list.
                </div>
            </div>
            <div class="choice" identifier="c4">
                <div class="text">
                    <img border="0" src="/bjc-r/img/3-lists/check2mapc5.es.png" alt="map (all but first of () over (capitals)" title="map (all but first of () over (capitals)"> reports the list <var>{Maine, Idaho, South Carolina, Iowa}</var>.
                </div>
                <div class="feedback">
                    No. This is kind of a trick question. What gets reported is actually a list of lists. The output is: <var>{{Maine}, {Idaho}, {South Carolina}, {Iowa}}</var>.
                </div>
            </div>

            <div class="responseDeclaration" identifier="resp4">
                <div class="correctResponse" identifier="c1"></div>
            </div>
        </div>


   </body>
</html>
