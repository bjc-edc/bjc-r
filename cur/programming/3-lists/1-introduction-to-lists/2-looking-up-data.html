<!DOCTYPE html>
<html lang="en">
    <head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 3 Lab 1: Contacts List, Page 3</title>
        <!--<style>.todo, .comment, .commentBig {display:none;}</style>-->
    </head> 
    
    <body>
        <h2>Searching a List for Specific Data</h2>
		<div class="learn">
        	<p>
                <strong>On this page,</strong> you use your <code>contact name</code>, <code>contact address</code>, and <code>contact phone</code> selectors to access specific data in your <var>contacts list</var>.<br />        
                <img class="indent" src="/bjc-r/img/3-lists/search-inside-contact-name-reporting.png" alt="contact name (search contacts for name like (Alph)) reporting" title="contact name (search contacts for name like (Alph)) reporting" />
                <img class="indent" src="/bjc-r/img/3-lists/search-inside-contact-address-reporting.png" alt="" title="" />
                <img class="indent" src="/bjc-r/img/3-lists/search-inside-contact-phone-reporting.png" alt="" title="" />
            </p>
        </div>
        
        <!--<p>Each new contact is a list (item 1 is a name and item 2 should be a phone number), so the list of contacts is a <em>list of lists</em>.</p>-->
        
        
		<div class="forYouToDo" id="first">
            <ol>
				<li>If it isn't open already, open your U3L1-ContactList project.</li>
                <div class="comment">I opted to go straight for the more general SEARCH CONTACTS FOR NAME LIKE (was CONTACT INFO last year) block in instead of doing PHONE NUMBER OF or NAME FROM NUMBER first. It's more efficient programming and pedagogy. Agreed? --MF, 6/5/17</div>
                <li>
					Write a <img src="/bjc-r/img/3-lists/search-contacts-for.png" alt="search contacts for name like ()" title="search contacts for name like ()" /> block that takes a text string as input and reports either the first contact it finds with that data or "not found" if the string is not in the <var>contacts list</var>.
                	<!--Write a look-up block <img src="/bjc-r/img/3-lists/phone-number-of.png" alt="phone number of ()"> that takes any part of a person's name as input and reports either that person's phone number or "not found" if the name is not in the <var>contacts list</var>.-->
                    <div class="narrower">
                        <strong>Use these blocks:</strong>
                        <ol type="a">
                            <li><img class="inline" src="/bjc-r/img/blocks/contains.png" alt="() contains () predicate" title="() contains () predicate" />, which asks whether the inputted list (a contact) contains the inputted string (part of a name, address, or phone number) anywhere among its items.</li>
                            <!--<li><img class="inline" src="/bjc-r/img/3-lists/string-contains.png" alt="&lt;string () contains ()&gt;">, which lets you find out whether one string (a contact's name in the list) contains another string (a name or part of a name).</li>-->
                            <div class="sidenote">You learned about <a href="/bjc-r/cur/programming/2-complexity/3-predicates/2-keeping-list-items.html?topic=nyc_bjc%2F2-conditionals-abstraction.topic&course=bjc4nyc.html&novideo&noassignment"><code>keep</code> in Unit 2</a>.</div>
                            <li><img class="inline" src="/bjc-r/img/blocks/keep.png" alt="keep items such that &lt;  &gt; from (list)">, which filters the list for only the items that make the function true.</li>
                            <li><img class="inline" src="/bjc-r/img/blocks/empty.png" alt="empty {} ? predicate function" title="empty {} ? predicate function" />, which returns <code>true</code> if the list is empty and <code>false</code> otherwise.</li>
                        </ol>
                    </div>
                    <div class="todo">
                        <h4><strong>Old Comment:</strong></h4>
                        Dan had some thoughts on this next section that we implemented but then reverted. Here are the edits that were made and removed:
                            <ul>
                                <li>Write a reporter <img src="/bjc-r/img/3-lists/phone-number-of.png" alt="phone number of ()"> that takes any part of a person's name as input, and reports a list of all the phone numbers of the people whose names match. You will need: a., b., (and then...)</li>
                                <li>(instead of <code>empty</code>) c. <img class="inline" src="/bjc-r/img/blocks/map.png" alt="map () over ()">, which performs a function over each item of the list.</li>
                            </ul>
                        The problem with these unimplemented edits was that they required more complicated programming than is appropriate for this point in the curriculum. It would, of course, be nice if the program handled the case of multiple search results better than just returning the first one, and that should be addressed at a later point. --Aug 2016, except "a., b., (and then...)" added 6/5/17 by MF for clarity
                        <h4><strong>Y3 Comment:</strong></h4>
                        <p>I opted for EMPTY both because of the truth of this note and because this is the first place we address EMPTY, and we have other plans for 	introducing MAP. --MF, 6/5/17</p>
                    </div>
                    <div class="comment">This is to remove the mystery of this weirdness and to show the kind of decisions programmers have make about what features to build and when in their development to add them.<br/>
                    I'm ok to hide the image behind a "click here for a hint" link in an class="endnote". Brian?  --MF, 6/5/17</div>
                    <div class="narrower">
                		<strong>Find the first matching contact.</strong> Depending on your contacts and your search string, the look-up block may find more than one result. Later, you can program a way for the user to choose the right one. For now, make it find the <code>contact number</code> for the first matching contact.<br />
                        <img class="indent" src="/bjc-r/img/3-lists/phone-number-of-conditional-with-list-reporters.png" alt="" title="" />
                    </div>
                </li>
			<!--</ol>
       </div>
       
       <p>When someone calls you, the phone company sends only the calling number to your phone, not the person's name. But if the number is in your contacts list, your phone  figures out the name. </p>
		<div class="forYouToDo">
            <ol start="3">
				<li>Write another look-up block <img src="/bjc-r/img/3-lists/name-from-number.png" alt="name from number ()"> that searches for a phone number and reports the contact's name.</li>-->
                <div class="todo"><strong>For TG:</strong> If students have trouble working out what variables they need, ask them to <em>specify the data they are interested in</em>. Help them conclude that they will search the already existing <var>contacts list</var> (a global variable) for the inputted <var>string</var> (an inputted variable&mdash;a kind of script variable&mdash;with a logical name of the students' choosing), and choose the first item from among the <var>matches</var> (a script variable declare inside <code>search contacts for</code> with a name of the students' choosing). They may, incorrectly, mention local variables from other scripts in this program; ask how those variables are related, and allow students realize that they are not, or if something is not right, and they happen to be, ask probing questions to support the student in identifying the problem(s).</div>
                <li>
                    Develop a "Search" button.
                    <ol>
                        <li>Give the sprite an appropriate costume.</li>
                        <li>Make the script ask the user whose contact to search for.</li>
                    </ol>
                </li>
                <li>Make sure everything works the way you want it to before going on.</li>
                <img class="imageRight" src="/bjc-r/img/icons/save-now.png" alt="Now Is a Good Time to Save" title="Now Is a Good Time to Save" />
			</ol>
		</div>
       
		
        <div class="todo">
            <hr /><hr />
            <h2>Page Break??</h2>
            <hr /><hr />
        </div>
        
        
        <h3>Modifying the Abstract Data Type</h3>
		<div class="todo">Brian, I worked hard to keep this for you. I hope you like my adjustments. --MF, 6/5/17<div class="learn">To be written</div></div>
        
        <div class="dialogue">
            <div><span>Gamal:</span> Right now, our program uses <em>one</em> text string to hold each contact's name, but people have multiple names.</div>
            <div><span>Betsy:</span> That's ok; we can still search them.</div>
            <div><span>Gamal:</span> It's fine for displaying names on the screen, but it would make it hard to <em>sort the contacts by last name</em>.</div>
            <div><span>Betsy:</span> We could use another list to separate the last name from the first name.</div>
            <div><span>Gamal:</span> If we change the ADT though, we'll have have to adapt all the blocks that use it...</div>
			<div><span>Betsy:</span>That's fine. Instead of one selector to access the name, we can make two selectors: one to report the name the way we'll display it on the screen: first-name last-name; and one to report the name the way we'll sort it with an algorithm: last-name comma first-name.</div>
        </div>
        <div class="forYouToDo">
            <ol start="5">                       
				<li>
					<!--<div class="sidenote">In some cultures, the family name—the one you  use for alphabetizing—is written first. For example, in "Sun Yat-Sen" the family name is "Sun." So instead of asking for "first and middle name(s)" and for "last name" you might want to say "given name(s)" and "family name."</div> -->
                    Modify the "Add Contact" script (editing the <img src="/bjc-r/img/3-lists/get-name.png" alt="get name" title="get name" /> block, if you built one) to distinguish between the these two orders. Your script should:
                    <ul>
                        <li>Ask separately for first <!--given--> name(s) and for last <!--family--> name.</li>
                        <li>Add a contact to <var>contact list</var> where the name is a list of two items.</li>
                    </ul>
                </li><li><img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" />Investigate how this new contact works. How does it appear in the list? Do any blocks or scripts not work anymore?</li>
                <li>
                    In place of your one <code>contact name</code> selector, create two new selectors to distinguish between these two orders.
					<img class="indent" src="/bjc-r/img/3-lists/name-display-result.png" alt="name (display form) --&gt; Abraham Lincoln" title="name (display form) --&gt; Abraham Lincoln"><br />
                    <img class="indent" src="/bjc-r/img/3-lists/name-sorting-result.png" alt="name (sorting form) --&gt; Lincoln, Abraham" title="name (sorting form) --&gt; Lincoln, Abraham"><br />
                </li>
                <li>Check whether your <img src="/bjc-r/img/3-lists/search-contacts-for.png" alt="search contacts for name like ()" title="search contacts for name like ()" /> block  works. Use your <code>contact name (display form)</code> selector to fix any problems.</li>
                <li>Clear your contacts list, and add a few entries in the new format. Check to make sure that adding a new contact does what you expect.</li>
              <img class="imageRight" src="/bjc-r/img/icons/save-now.png" alt="Now Is a Good Time to Save" title="Now Is a Good Time to Save" />
			</ol>
        </div>
        
        <div class="endnote">You'll use your <code>contact name (sorting form)</code> selector in the <a href="/bjc-r/cur/programming/3-lists/2-sorting/1-recursion.html?topic=nyc_bjc%2F3-lists.topic&course=bjc4nyc.html&novideo&noassignment">next lab</a>.</div>
        
        <div class="ifTime">
            <ol start="10">                       
				<li>
                    Make the <var>name</var> input slot expect a list item, as shown here:<br />
                    <img class="indent" src="/bjc-r/img/3-lists/contact-constructor-name-typed.png" alt="contact name: () address: () phone: ()" title="contact name: () address: () phone: ()" />
                </li>
            </ol>
        </div>
        
		<div class="todo">TO KEEP? Doesn't feel as motivated. If keeping, tidy up. --MF, 6/6/17
        <div class="takeItFurther"><a name="further" class="anchor">&nbsp;</a>
    		<ol type="A">
                <li>
                    Modify the "Add Contact" script again (this time, editing the <img src="/bjc-r/img/3-lists/get-address.png" alt="get address" title="get address" /> block, if you built one) to ask separately for: street address, city, state, and zip code
                    <ul>
                        <li>
                        	Make the <var>address</var> input slot also expect list items, and make <var>phone</var> expect a text string, as shown here:<br />
                            <img class="indent" src="/bjc-r/img/3-lists/contact-constructor.png" alt="contact name: () address: () phone: ()" title="contact name: () address: () phone: ()" />
                        </li>
                        <li>Create the new selectors</li>
                        <li>Check whether your search contacts for name like () block still works. Use your new selectors to fix any problems.</li>
                        <li>Clear your contacts list, and add a few entries in the new format. Debug any problems.</li>
                    </ul>
                </li>
                
			</ol>
		</div>
        </div>
        
        <div class="takeNote">
            <div class="todo">This is interesting, but not currently relevant. Maybe we should add another data point to <code>contact</code> that shows this. --MF, 6/6/17</div>
            <p>As we add more complexity to contacts&mdash;birthday, spouse, work address, and so on&mdash;the location of the phone number within a contact might keep changing. <em>This is where an abstract data type helps!</em> Instead of fixing every block that uses the phone number each time you move the phone number in the contact, you can define one <em>selector</em> block that knows where in the list the phone number is and use that in all other blocks that need to know.<!--  That way, a very small number of procedures will know the details of where things are, and only those will need editing when things change. Other parts of your program will use those special procedures and will keep working when the representation changes. --></p>
        </div>
        <!--<p>Later in this unit, you'll improve the contact app still further, to handle family-name-first names correctly.</p>-->
    
    
    </body>
</html>
