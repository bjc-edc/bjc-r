<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 3 Lab 1: Contact List, Page 2</title>
	</head>

	<body>
		<h2>Creating the Name ADT</h2>
		<div class="learn">
			<p><strong>On this page,</strong> you will develop an <strong>Abstract Data Type</strong> to store and access <em>name data</em> (first-name, last-name, etc.).</p>
        </div>

        <div class="dialogue">
            <div><span>Jasmine:</span> Right now, our program uses <em>one</em> text string to hold each contact's name, but people have multiple names.</div>
            <div><span>Omar:</span> We can just put both names in together.</div>
            <div>                <span>Jasmine:</span> Let's look at the list on your phone.<br />
                <img src="/bjc-r/img/3-lists/contacts.png" height="150" alt="list of names" title="list of names"><br />
				Ah, they're sorted by last name, even though it's not the beginning of the name text.
</div>
            <div><span>Omar:</span> Hmmm... What if we used another list to separate the last name from the first name?</div>
            <div><span>Jasmine:</span> OK. So, we could make a <code>name</code> ADT and two new selectors: one to report the name they way it appears for the user: first-name last-name; and one to report the name so we can sort it: last-name comma first-name.</div>
        </div>
        
        <div class="forYouToDo" id="first">
			<ol>
				<!--<div class="sidenote">
                    You could paste this text into the "Make a block" window:<br />
                    <code>name, first: %first last: %last</code>
                </div>-->
                <li>If it isn't open already, open your U3L1-ContactList project.</li>
                <li>
                    Develop a <code>name</code> constructor. It should accept a <var>first name</var> and <var>last name</var> as input and report the whole name as a list:<br />
                    <img class="indent" src="/bjc-r/img/3-lists/name-constructor-reporting.png" alt="name, first: (Barack) last: (Obama) reporting {Barack, Obama}" title="name, first: (Barack) last: (Obama) reporting {Barack, Obama}" />
                </li>
                <li>
                    <!--<div class="sidenote"><code>display form of name: %name</code></div>
                    <div class="sidenote"><code>sorting form of name: %name</code></div>-->
                    Create two new selectors to distinguish between the two orders by using <code>join</code>. Test them with your <code>name</code> constructor.<br />
					<img class="indent" src="/bjc-r/img/3-lists/name-display-result.png" alt="display-form from name: (name, first (Barack) Last: (Obama)) reporting {Barack Obama}" title="display-form from name: (name, first (Barack) Last: (Obama)) reporting {Barack Obama}"><br />
                    <img class="indent" src="/bjc-r/img/3-lists/name-sorting-result.png" alt="sorting-form from name: (name, first (Barack) Last: (Obama)) reporting {Obama, Barack}" title="sorting-form from name: (name, first (Barack) Last: (Obama)) reporting {Obama, Barack}">
                	<div class="endnote">
                        <a href="#hint-target" data-toggle="collapse" title="Hint">Click here for a hint.</a>
                        <div id="hint-target" class="collapse">
                        	<img class="indent" src="/bjc-r/img/3-lists/display-form-definition.png" alt="display form of name: (name) block definition" title="display form of name: (name) block definition" />
                        </div>
                    </div>
                </li>
                <li>
                    Give the selectors expected input types to make it obvious that they each expect a list (one whole name) as input.</li>
                <li>
                	<strong>Analyze and Debug.</strong> Jasmine and Omar tried to use their <code>sorting form of name</code> block together with their <code>contact</code> constructor. They were expecting their code to report "Anderson, Jasmine", but it didn't work.<br />
                    <img class="indent" src="/bjc-r/img/3-lists/name-sorting-contact-result.png" alt="sorting-form from name: (contact name: (Betsy) address: (123 Main St. #4, New York, NY 10001) phone: (212-555-1234)) reporting 123 Main St. #4, New York, NY 10001 Betsy Anderson" title="sorting-form from name: (contact name: (Betsy) address: (123 Main St. #4, New York, NY 10001) phone: (212-555-1234)) reporting 123 Main St. #4, New York, NY 10001 Betsy Anderson" /><br />
                    <img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> What's going wrong? What could they do instead?
                </li>
                <li>
                    Make the <var>name</var> input slot of your <code>contact</code> constructor expect a list item, as shown here:<br />
                    <img class="indent" src="/bjc-r/img/3-lists/contact-constructor-name-typed.png" alt="contact name: () address: () phone: ()" title="contact name: () address: () phone: ()" />
                </li>
                <li>
                	Clear your list (reset it to an empty list), and add a few contacts using the <code>name</code> constructor.<br />
                    <img class="indent" src="/bjc-r/img/3-lists/contact-constructor-with-name-constructor.png" alt="contact name: (name, first: (Betsy) last: (Anderson)) address: (123 Main St. #4, New York, NY 10001) phone: (212-555-1234)" title="contact name: (name, first: (Betsy) last: (Anderson)) address: (123 Main St. #4, New York, NY 10001) phone: (212-555-1234)" />
                </li>
                <li>
                    <strong>Debug any problems.</strong> The contacts in your <var>contact list</var> should each have a list as the first name, like this:<br />
					<img class="imageRight" src="/bjc-r/img/icons/save-now.png" alt="Save your work" title="Save your work" />
                    <img class="indent" src="/bjc-r/img/3-lists/contact-list-list-view-name-list.png" alt="contact list watcher in list view showing contact with name as list" title="contact list watcher in list view showing contact with name as list" />
                </li>
			</ol>
		</div>
        
        <div class="ifTime">
			<img class="imageRight" src="/bjc-r/img/3-lists/contact-list-with-name-and-address-types.png" alt="contact list with one contact showing: {{Betsy, Anderson}, {123 Main St. #4, New York, NY, 10001}, 212-555-1234}" title="contact list with one contact showing: {{Betsy, Anderson}, {123 Main St. #4, New York, NY, 10001}, 212-555-1234}" />
			<ol start="9">
				<li>
                	Develop an abstract data type (ADT) to store and access <em>address data</em>.
                    <ol>
                        <li>
                            Create an ADT to manage four pieces of data for each address: <var>street address</var>, <var>city</var>, <var>state</var>, and <var>zip</var>. You will need:
                            <ul>
                                <li>One <code>address</code> constructor</li>
                                <li>Four selectors: <code>street address from address</code>, <code>city from address</code>, <code>state from address</code>, and <code>zip from address</code>.</li>
                            </ul>
                        </li>
                        <li>Make the <var>address</var> input slot of your <code>contact</code> constructor expect a list.</li>
                        <li>Clear your list, add several contacts using your <code>name</code> and <code>address</code> constructors, and try selecting specific data (such as the city) from a <code>contact</code>.</li>
                        <li><strong>Debug</strong> any problems.</li>				   
                    </ol>
                </li>
			</ol>
            <img class="imageRight" src="/bjc-r/img/icons/save-now.png" alt="Save your work" title="Save your work" />
		</div>	
        
        
        <div class="takeItFurther"><img src="/bjc-r/img/icons/tough-stuff-mini.png" alt="Tough Stuff" title="Tough Stuff" /> but worth it!

            <div class="dialogue">
                <div class="stagedir">Mei and Morgan join the conversation about Contact List</div>
    <!--            <div class="todo">Brian, I'm wanting:  1) Mei to use their own name here and 2) for us to see an example of their name being reported by a selector with the constructor with inputs showing in it somewhere below. --MF, 7/1/17</div>   -->
                <div><span>Mei:</span> Do you want your app to work in China?  People there put their family name first, so Sun Yìxiān is in the Sun family, and would be in the S part of your name list, not the Y part.</div>
                <div><span>Morgan:</span> So, you're saying we need two different <code>name</code> types, with different constructors and selectors?</div>
                <div><span>Omar:</span> At least two.  After you finish your program, I'll tell you about names in Iceland (given name first, but sorted on given name, not family name) and Myanmar (no family name at all)!</div>
                <div class="stagedir">Morgan puts his head in his hands and groans.</div>
                <div><span>Jasmine:</span> Nah, it doesn't have to be that bad.  We'll just have one <code>name</code> type, but it'll have <em>variants,</em> and we'll include a <em>type tag</em> along with the given and family parts to indicate <strong>given-first</strong> (as in the US) or <strong>family-first</strong> (as in China). Omar can add more variants later if he wants.</div>
            </div>
        
			<ol type="A">
                <li>
                    Make this block:<br />
                    <img class="indent" src="/bjc-r/img/3-lists/typed-name.png" alt="name, type: ( ) given: ( ) family: ( ):  report (list type given family)" title="name, type: ( ) given: ( ) family: ( ):  report (list type given family)">
                </li>
                <li>
                    There are only two allowable values for the <var>type</var> input, and you won't want users of your program to have to remember them and type them in without spelling errors.  Instead, you want a <em>menu</em> input, like this:<br />
                    <img class="indent" src="/bjc-r/img/3-lists/dropdown-block.png" alt="name block with menu input slot for type"><br />
                    <div class="narrowpurple">
                        <h3 class="box-head">Adding Menu Inputs</h3>
                        <ol type="a">
                            <li>Edit the <code>name</code> block, and click on the orange <var>type</var> variable in its hat block.</li>
							<li>
                            Click on the right-pointing triangle to open the input type selector.</li>
							<li>Right-click on the background, and select "options..." <br />
                                <img src="/bjc-r/img/3-lists/option-context-menu.png" height="460" alt="option context menu in input dialog"><br />
                            </li>
                            <li>
                                Enter the type tags in the box, one per line:<br />
                                <img src="/bjc-r/img/3-lists/option-dialog.png" height="460" alt="menu options 'given-first' and 'family-first'" title="menu options 'given-first' and 'family-first'" />
                            </li>
                            <li>
                                Click OK, then right-click the type selector again and choose "read-only."
                                <div class="endnote">
                                    There are two kinds of menu input slots:<br />
                                  <img class="indent" src="/bjc-r/img/3-lists/dropdown-touching.png" alt="touching (...) ?  read-only input slot" title="touching (...) ?  read-only input slot" /><br />
                                  <img class="indent" src="/bjc-r/img/3-lists/dropdown-item.png" alt="item (...) non-read-only menu input slot" title="item (...) non-read-only menu input slot" /><br />
                                    For this block, we don't want users to enter values other than the ones in the menu.
                                </div>
                            </li>
                            <li>Click OK on the <var>type</var> input box and then on the Block Editor.</li>
                        </ol>
                    </div>
                </li>
            </ol>
        

   <!--                  <ol type="A" start="3">
      	<li>
                    Make the three selectors: <code>type tag</code>, <code>given from name</code>, and <code>family from name</code>.
                    <a href="#hint-target" data-toggle="collapse">Click here to see an example.</a>
                    <div id="hint-target" class="collapse"><img class="indent" src="/bjc-r/img/3-lists/given-name.png" alt="given name (name): report item 2 of (name)"></div>
                </li>
                
            </ol>
            
            <div class="todo">I don't like the version commmented out below. Firstly, we should not show them something we don't want them to build and then tell them to build something else unless it's a meaningful exercise to do so (e.g., debugging). Secondly, I don't think the joke is funny. It makes <em>me</em> groan, and not in a good way: no one likes a show-off. Lastly, it's better to be more succinct, and I think the above replacement is sufficient. --MF, 7/1/17
            
           -->
			  <div class="dialogue">
                <div><span>Morgan:</span> Okay, now I guess we have to make selectors, right?</div>
                <img src="/bjc-r/img/3-lists/name-type.png" alt="name type (name): report item 1 of (name)"> <img src="/bjc-r/img/3-lists/given-name.png" alt="given name (name): report item 2 of (name)"> <img src="/bjc-r/img/3-lists/family-name.png" alt="family name (name):  report item 3 (name)">
                <div><span>Omar:</span> Don't call the first one <code>type from name</code>.  We're going to need the same type selector for other ADTs also, so call it <code>type tag</code>.</div>
                <div><span>Morgan:</span> How do you know?</div>
                <div><span>Omar:</span> I read ahead in the curriculum!</div>
                <div class="stagedir">Morgan and Jasmine groan.</div>
            </div>
        
            <ol type="A" start="3">
            	<li>Make the three selectors, using Omar's suggested name for the first one.</li>
         <img src="/bjc-r/img/3-lists/lincoln.png" alt="family from name: (name, type: given-first given: Abraham family: Lincoln)  --&gt;  Lincoln">       
            </ol>
        
            <div class="dialogue">
                <div><span>Morgan:</span> But I'm not sure how this variant idea is going to help.  Mostly, the rest of the program isn't going to want the family name alone.  It's going to want the <em>entire</em> name, either in display order or in sorting order, so aren't we going to need blocks like <img src="/bjc-r/img/3-lists/given-first-name-sorted-order.png" alt="given first name in sorted form (name)"> and so on?</div>
                <div><span>Jasmine:</span> Oh, hang on, you're thinking of it as a selector just for one variant (given-first names), but we can simplify a bit by thinking of it as a selector for <em>all</em> names, <img src="/bjc-r/img/3-lists/name-sorted-block.png" alt="name (sorted form) ( )">.  The definition is a little more complicated, but the rest of the program will be able to use it without caring what kind of variant it has.</div>
            </div>
        
            <ol type="A" start="4">
                <li>
                    <div class="sidenote">For a given-first name we put a comma and space between the names, "Anderson, Jasmine"; there won't be a comma for family-first names ("Sun Yìxiān").</div>
                    <div class="todo">This is confusing because they already have a block with this name. Are they supposed to rebuild it here? We should be clearer. Also, I just don't understand this. I'm sorry. I tried to build solutions for this project, but I'm stuck here. I don't understand what goes next in this block, and I don't think we should keep something in the curriculum that I can't even understand what we are trying to build, but you know that and you want it anyway... --MF, 7/13/17</div>
                    Finish this definition:<br />
<img src="/bjc-r/img/3-lists/name-sorted-defn.png" alt="name (sorted form) (name):  if ((type tag (name)) = [given-first]) report (join (family name (name)) [, ] (given name (name)))"><br />
                </li>
                <li>Similarly, define <img src="/bjc-r/img/3-lists/name-display.png" alt="name (display form) ( )">.</li>
            </ol>
        
            <div class="dialogue">
                <div>
                    <span>Morgan:</span> Oh, I see!  Now in the rest of the program we can just say things like<br />
                    <img src="/bjc-r/img/3-lists/foreach-say-name.png" alt="for each (contact) of (contact list)  say (name (display form) (contact name (contact))) for 2 secs" title="for each (contact) of (contact list)  say (name (display form) (contact name (contact))) for 2 secs" />
                </div>
                <div>
                    <span>Jasmine:</span> It's even better than that!  This is where the magic comes in.  When we make the Contact ADT, we give it a type tag too:<br />
                    <img src="/bjc-r/img/3-lists/contact-with-tag.png" alt="contact, name: (name) address: (address) phone: (phone): report (list [contact] (name) (address) (phone))" title="contact, name: (name) address: (address) phone: (phone): report (list [contact] (name) (address) (phone))" /><strong><br />
                    (We'll have to change the selectors, too, and recreate the contact list.)</strong><br />
                    <br />
                    Then, since contacts have type tags, we can make <em>the same selector blocks</em> work for them, too:<br />
                    <div class="comment">Shouldn't this use <code>join words</code> instead of <code>join</code>? Someone needs to build this project based on the description here (not from their own ideas) to make sure that what we are doing makes sense. I can't do it. I tried. --MF, 7/13/17</div>
                    <img src="/bjc-r/img/3-lists/display-name-object.png" height="421" alt="name (display form) (object):  if ... if ((type tag (object)) = contact) report (name (display form) (contact name (object))) ..." title="name (display form) (object):  if ... if ((type tag (object)) = contact) report (name (display form) (contact name (object))) ..." /><br />
                    Ta da!  Now your code is just<br />
                    <img src="/bjc-r/img/3-lists/foreach-display-contact.png" alt="for each (contact) of (contact list) say (name (display form) (contact)) for 2 secs" title="for each (contact) of (contact list) say (name (display form) (contact)) for 2 secs" />
                </div>
			</div>
            <ol type="A" start="6">
                <li>Create all that, and make sure Jasmine's "magic" works.</li>
                <li>Then add Omar's variants for names in Iceland and Myanmar.</li>
            </ol>
        </div>


</body>
</html>