<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 3 Lab 2: Tic-Tac-Toe, Page 2</title>
		<script type="text/javascript" src="/bjc-r/utilities/gifffer.min.js"></script>
        <link rel="stylesheet" type="text/css" href="/bjc-r/css/bjc-gifffer.css">
    </head> 
    
    <body>
    	<h2>Detect  Wins and Ties</h2>
        <div class="learn">
        	<p><strong>On this page</strong>, you'll teach the program to detect and report wins and ties.</p>
        </div>
        
		<div class="forYouToDo" id="first">
			<ol>
                <li>Open your project <strong>U3L2-TicTacToe</strong> if it isn't open already.</li>
                <li> 
                    Each winning combination is a list of three tile numbers (a <em>triple</em>).  For example, this winning combination: <img src="/bjc-r/img/3-lists/win456.png" height="79" alt="horizontal win in the second row"> is represented as <img src="/bjc-r/img/3-lists/list456.png" alt="(list 4 5 6)"> in the program.
                  <ol>
                        <li>How many winning combinations are there? </li>
                        <li>Which triples are winning combinations?</li>
                        <li>
                            Create a reporter that outputs a list of all possible winning triples. It will look something like this:<br />
                            <img class="indent" src="/bjc-r/img/3-lists/TicTacToe-wins.png" alt="TicTacToe wins partial block definition" title="TicTacToe wins partial block definition" />
                        </li>
                    </ol>
                </li>
                <!--<img class="imageRight" src="/bjc-r/img/icons/pair-programming-swap.png" alt="Pair Programming Swap" title="Pair Programming Swap" /> -->
                <li>
                    Find out if a winning triple has actually happened:
                    <ol type="a">
                        <li>Click  <img src="/bjc-r/img/1-introduction/green-flag_button.png" alt="green flag button" title="green flag button" /> to clear your tic-tac-toe board   and initialize <var>board</var>. Play <em>one</em> game, <em>deliberately letting</em> <strong>x</strong> <em> win</em>. </li>
                        <li>
                            Try this:<br />
                            <img src="/bjc-r/img/3-lists/map-item-board.png" alt="map (item ( ) of (board)) over (list 1 2 3)"><br />
                            <strong>Note</strong> that the first input to <code>item</code> is empty.
                        </li>
                        <li>What does the result of the above tell you about the state of the game?</li>
                        <li>If <code>{1, 2, 3}</code> isn't the triple in which <strong>x</strong> won the game, try part (b) again for that winning triple.</li>
                    </ol>
                </li>
				<li>Make a block <img src="/bjc-r/img/3-lists/status-of-triple.png" alt="status of triple ( )"> that takes a list like <code>{1, 2, 3}</code> as input and reports a list of which of those squares are occupied by whom.</li>
				<li>Use <code>map</code> and <code>TicTacToe wins</code> to make a block that reports the status of <em>all possible</em> winning triples, as a list of lists.</li>
				<li>Make a block <img src="/bjc-r/img/3-lists/wonQ.png" alt="won? ( )"> that takes the letter <strong>X</strong> or <strong>O</strong> as input, and reports <code>True</code> if and only if that player has won the game. </li>
                <li>Modify your program so that when a player wins the game, the program <em>notifies</em> the players.</li>
                <li>
                    <div class="sidenote">
                        <a href="#hint-target" data-toggle="collapse">Don't click unless you really, really need a super big hint.</a>
                        <div id="hint-target" class="collapse"><img src="/bjc-r/img/3-lists/contains.png" alt="( ) contains ( )" title="( ) contains ( )" /></div>
                    </div>
                    The definition of a tie game is that there are no more empty squares, and neither player has won. Declare a tie (switch the sprite's costume to Turtle and have it <code>say</code> "TIE GAME!") when there are no empty squares after a move.  Be sure to make this test <em>after</em> the test for a win. 
                </li>
                <li>
                	Why does it matter about the order of the tests?
					<img src="/bjc-r/img/icons/talk-with-your-partner-mini.png" alt="Talk with Your Partner" title="Talk with Your Partner" />
				</li>
                <li>Save your project.</li>
			</ol>
		</div>
        
		<div class="ifTime">
			<ol start="11">
				<li>There are many small improvements you could make. For one thing, when a player wins, you might want to prevent any further moves. What else might you want to change or improve?</li>
			</ol>
		</div>

        <div class="takeItFurther">
            <ol type="A">
                <li>Your program can be smarter about detecting ties.  If there is only one empty square on the board, and filling that square with the player whose turn is next wouldn't cause a win, then the game is already tied. The challenge here is that you'll have to test for a win on a board that isn't the current <var>board</var>.</li>
                <li>Instead of just having the sprite say something like "X wins," it'd be more satisfying to the players if you draw a thick line through the three squares that generate a win. This is a little tricky because by the time you know there's a win, you no longer know which triple triggered it. Try not to uglify your existing code while solving this problem.</li>
            </ol>
        </div>

        

	</body>
</html>