<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
        <script type="text/javascript" src="/bjc-r/utilities/gifffer.min.js"></script>
		<script type="text/javascript">window.onload = function() {Gifffer();}</script>
        <link rel="stylesheet" type="text/css" href="/bjc-r/css/bjc-gifffer.css">
		<title>Unit 5 Lab 2: Simulations, Page 2</title>
	</head>

	<body>
        <h2>Disease Spread Project</h2>
        <div class="commentBig">
            <p>Paul suggested we review DHH's Calculus text, which does a great job of building an intellectual model that could be programmed in Snap. --MF, 6/27/21 with BH</p>
        </div>

		<div class="learn">
            <p><strong>On this page,</strong> you will model the spread of a disease in a population.</p>
            <img class="indent" data-gifffer="/bjc-r/img/5-algorithms/img_disease-spread/disease-spread.gif" alt="Simulation of a disease spreading in a population.  A single infected individual eventually causes everyone to be infected." title="Simulation of a disease spreading in a population.  A single infected individual eventually causes everyone to be infected."/>
	    <p><strong>Note:</strong> There was a disease spread simulation in BJC long before covid-19, but we want to acknowledge that right now the spread of a disease isn't an abstract question.  Everyone has been affected by isolation at home, and some students may have lost loved ones to this disease.  Medical researchers do use simulations (much more complex than this one) to try to predict the future course of the disease.</p>
        </div>

        <p>Suppose you are a medical researcher and would like to understand the factors that contribute to the spread of disease. In particular, you want to know the effect of population size on the time it takes for everyone to be infected, under the simplifying assumption that once infected, a person stays infected.</p>

        <div class="forYouToDo" id="first">
            <ol>
				<li><img class="imageRight" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> What would be a sensible hypothesis on how population size affects the elapsed time?</li>
                <li>What if the people interacted with one and other more frequently?</li>
            </ol>
        </div>

        <p>You may not have enough data to test your hypothesis, and it would be unethical to induce the disease in a population just to gather new data. A simulation would allow you to test your hypotheses without the constraints of time, cost, and ethics.</p>

        <div class="forYouToDo" id="second">
            <ol start="3">
				<li>
					<a href="/bjc-r/prog/5-algorithms/U5L2-Simulation.xml" class="run"><img class="inline" src="/bjc-r/img/icons/load-save.png" alt="Click here to load this file. Then save it to your Snap! account." title="Click here to load this file. Then save it to your Snap! account."></a><br />
					It includes:
					<ul>
						<li>a <var>population</var> variable that stores the total number of people (represented by clones of a sprite)</li>
						<li>a <var>percent initially infected</var> variable that stores the fraction of the population who are sick at the beginning of the simulation</li>
						<li>a <var>speed</var> variable that stores the pace at which the clones move</li>
						<li>a <var>sprites ready?</var> variable that stores a Boolean that keeps track of whether or not all the clones have been created and the simulation can begin</li>
						<li>a <var>number infected</var> variable that keep track of how many clones are currently infected</li>
						<li>an <var>infected?</var> <em>sprite-local</em> variable that stores a Boolean that keeps track of whether or not a clone is sick (each clone will have its own separate variable with that name)</li>
						<li>two costumes, sick (<img class="inline" src="/bjc-r/img/5-algorithms/img_disease-spread/sick.png" height="40" alt="'sick' sprite costume: a small red person" title="'sick' sprite costume: a small red person" />) and well (<img class="inline" src="/bjc-r/img/5-algorithms/img_disease-spread/well.png" height="40" alt="'well' sprite costume: a small blue person" title="'well' sprite costume: a small blue person" />), that display the status of each clone </li>
						<li>
							<div class="sidenoteBig">
								<p>You learned how to clone a sprite in <a href="/bjc-r/cur/programming/3-lists/1-abstraction/5-building-tic-tac-toe.html?topic=nyc_bjc%2F2-conditionals-abstraction.topic&course=bjc4nyc.html&novideo&noassignment" title="Unit 3 Lab 1 Page 5: Building a Tic-Tac-Toe Board">Unit 3 Lab 1 Page 5: Building a Tic-Tac-Toe Board</a>.</p>
								<p>The primitive block <img class="inline" src="/bjc-r/img/blocks/my-neighbors.png" alt="my (neighbors)" title="my (neighbors)" /> reports a list of sprites that are near the sprite that uses it.</p>
							</div>
							a <code>simulate disease</code> function <strong>for you to complete</strong> that takes three inputs: total population, percent initially infected, and sprite speed; creates the clones that enact the simulation; and outputs the time until the entire population is infected
						</li>
						<li>an <code>initialize simulation</code> block that initializes the global variables and sets the parent sprite costume</li>
						<li>a <code>touching infected person?</code> predicate <strong>for you to complete</strong> that checks whether the current clone is being exposed to the disease</li>
						<li>an <code>initialize clone</code> block that decides whether a clone will start out sick and positions it randomly on the stage</li>
						<li>a <code>when I start as a clone</code> script <strong>for you to complete</strong> that moves the clones until they are all infected</li>
					</ul>
				</li>
                <li>Complete the <code>simulate disease</code> function, the <code>touching infected person?</code> predicate, and the <code>when I start as clone</code> script.</li>
				<li><img class="imageRight" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> Discuss how your simulation is similar to and different from a real-life disease outbreak. Identify the <em>simplifying assumptions</em> you made in this simulation.</li>
			</ol>
		</div>
		<p>You want to know the effect of population size on the time elapsed. Because there is some randomness in the simulation, you are going to get some variation in the reported time. (This isn't a bug; in real life, random events affect the elapsed time.)</p>
		<div class="forYouToDo">
			<ol start="6">
                <li>
                    <div class="ap-standard">AAP-3.F.8</div>
					Write a function that takes population size as input, runs the simulation ten times, keeps the percent initially infected at 10 and the speed of infection at 2, and reports the average time elapsed.<br />
                    <img class="indent" src="/bjc-r/img/5-algorithms/average-of-disease-spread.png" alt="average time for disease spread with population size: ()" title="average time for disease spread with population size: ()" />
                </li>
                <div class="ap-standard">AAP-3.F.7</div>
                <div class="sidenoteBig">Using clones is a form of parallelism. But as you learned on the <a href="/bjc-r/cur/programming/5-algorithms/1-searching-lists/8-sequential.html?topic=nyc_bjc%2F5-algorithms.topic&course=bjc4nyc.html&novideo&noassignment" title="Unit 5 Lab 1 Page 8: Parallelism">Unit 5 Lab 1 Page 8: Parallelism</a>, because the clones are all running on one processor, cloning doesn't give you any speedup.</div>
				<li>Call this function four times with different populations (50, 100, 150, and 200), and write down the results. Create a refined hypothesis about the relationship between population size and time for the entire population to be infected.</li>
                <li>In real disease scenarios, not everyone ends up getting sick. How would you decide if the simplifications you used in a simulation invalidate the conclusions you might draw?</li>
			</ol>
        </div>

        <p>This is a simplified model. There are many things you could do to make the model more realistic. For example, you could make the infected people get better over time or some people could be immune to the disease, but you will always have to make some simplifications.</p>

        <div class="takeItFurther">
            <ol type="A">
                <li>Now conduct a similar experiment holding population size constant and varying the percent initially infected. Come up with a hypothesis for this relationship.</li>
                <li>Then conduct an other experiment by varying movement speed and keeping population size and percent initially infected constant, and create a third hypothesis.</li>
                <li>Add some more inputs to the simulation block. We've suggested people getting better after time or getting healed by doctors, but there are many more you could think of.</li>
                <li>You have hypotheses for changing only one variable, but what if you change two things? Do they affect the result independently, or is there a cross effect (for example, if sick people heal quickly, does that change the relationship between population size and time elapsed)? Run experiments to find out.</li>
                <li>Design and implement a predator-prey simulation in Snap<em>!</em>. For example, you could model an environment with wolf and deer populations where the wolf prey on the deer. What are some parameters you need to incorporate into your model so you can simulate realistic fluctuations in the populations of predator and prey?</li>
                <li>
                    Imagine you work at a bank that wants to minimize customer wait times in line. The bank is considering two alternatives:
                    <ul>
                        <li>a single line where the customers stand in arrival order and wait for the next available teller, or</li>
                        <li>separate lines for each teller. </li>
                    </ul>
                    Design and implement two simulations in Snap<em>!</em> to help the bank determine the <em>average wait time</em> for customers in each scenario in order to choose the best option.<br />
                    <img class="indent" src="/bjc-r/img/5-algorithms/img_disease-spread/single-queue.png"  height="180" alt="Single queue" title="Single queue"/><img src="/bjc-r/img/5-algorithms/img_disease-spread/multiple-queues.png" height="180" alt="Multiple queues" title="Multiple queues"/>
                </li>
				<li>Do some research: Why do (most) banks use a single teller line, but (most) grocery stores use a line per checkout station?</li>
            </ol>
		</div>

    </body>
</html>
