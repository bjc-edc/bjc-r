<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
        <title>Unit 8 Lab 4: Some Simple Ones, Page 3</title>
    </head>

    <body>
        <h2>Even Numbers and <code>Keep</code></h2>
        <p>We want a block that takes a list of numbers as input, and reports a list of just the <strong>even</strong> numbers from the input. </p>
        <p>
            You already know how to write this block using the <code>keep</code> higher-order function, but let's see what it looks like using recursion:<br />
            <img class="indent" src="/bjc-r/img/8-recursive-reporters/evens.png" alt="evens (numbers){if(empty? (numbers)){return(empty list)} else{if((item(1) of (numbers)) mod (2)=0){report(item(1) of (numbers) in front of (evens (all but first of (numbers))))} else{report(evens(all but first of (numbers)))}}}" title="evens (numbers){if(empty? (numbers)){return(empty list)} else{if((item(1) of (numbers)) mod (2)=0){report(item(1) of (numbers) in front of (evens (all but first of (numbers))))} else{report(evens(all but first of (numbers)))}}}" />
        </p>
        <p>Here there are <em>three </em>possible cases to consider, not just the usual base case or recursive case. There's still a base case, namely an empty input list, in which case we report an empty list. But there are <em>two </em>recursive cases, depending on whether or not the first item of the list is even. (There has to be a first item, if we're not in the base case.) The green Operators blocks above take the remainder on dividing the first number by 2, and see if that remainder is 0, in which case the number is even.</p>
        <p>If the first number is even, then we want to include that number in the result. So we report that number <code>in front of</code> the recursive call on the rest of the numbers. If the first number isn't even, then we <em>don't </em>want to include it in the result, so we simply report the value reported by the recursive call.</p>
        
        <div class="takeNote">Like <code>plurals</code>, the <code>evens</code> code is an example of a <strong>pattern</strong> of code. There's nothing special about even numbers here. The same pattern could be used to make a list of odd numbers, or numbers that end in 7, or names that start with a Z.</div>
        
        <div class="forYouToDo" id="first">
            <p><strong>Do the following exercises using recursion, not higher order functions. </strong></p>
            <ol>
                <div class="sidenote">Try modifying the code from <code>evens</code>.</div>
                <li>
                Write a block <code>ends-e</code> that takes a list of words as input, and reports a list of those words from the input whose last letter is e.<br />
                <img class="indent" src="/bjc-r/img/8-recursive-reporters/endse-ex.png" alt="ends-e(list{the, rain, in, Spain, is, in, Europe}), reporting {the, Europe}" title="ends-e(list{the, rain, in, Spain, is, in, Europe}), reporting {the, Europe}" />
                </li>
                <li>
                    Write a block <code>numbers</code> that takes a list of mixed words and numbers as input, and reports a list of just the numbers from the input list.<br />
                    <img class="indent" src="/bjc-r/img/8-recursive-reporters/numbers-ex.png" alt="numbers(list{the, 1, after, 909}), reporting {1, 909}" title="numbers(list{the, 1, after, 909}), reporting {1, 909}"/>
                </li>
                <li>Generalize the pattern to make a <code>keep</code> block.</li>
                <div class="takeNote">
                	If you didn't work through the <code>combine</code> block<a href="/bjc-r/cur/programming/5-algorithms/3-timing-experiments/1-comparing-algorithms.html" title="Comparing Algorithms"> page in Unit 5</a>, you'll probably want to get a sense of how that block works before starting the next problem.
    
				</div>
				<li>Write the <code>combine</code> block. <strong>Note:</strong> The base case will be a list with one item, not an empty list.
                </li>
            </ol>
        </div>
        
        <div class="takeNote">Building <code>map</code>, <code>keep</code>, and <code>combine</code> is a major accomplishment. Yet each of these blocks just generalizes a simple pattern. Some people think that higher order functions are <strong><em>way too hard and scary</em></strong> for students to use, let alone build. But you just did!</div>
        
        <div class="ifTime">
            <ol start="5">
                <li>
                    Modify any <code>sort</code> algorithm <a href="/bjc-r/cur/programming/8-recursive-reporters/2-sorting/1-sorting-a-list.html" title="Sorting a List">you wrote earlier</a> to take a comparison predicate as an input, so you can say<br />
                    <img class="indent" src="/bjc-r/img/8-recursive-reporters/sortusing.png" alt="sort(some-values) using (()>()) to compare" title="sort(some-values) using (()>()) to compare" /><br />
                    to sort with the <em>largest</em> item coming first.
                </li>
            </ol>
        </div>
    </body>
</html>
