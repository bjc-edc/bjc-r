<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
        <title>Unit 8 Lab 4: Some Simple Ones, Page 2</title>
    </head>

    <body>
        <h2>Generalizing the <code>Map</code> Pattern</h2>
        <p>
            Here's a version of the code for each block from the previous page.<br />
            <img class="indent" src="/bjc-r/img/8-recursive-reporters/plurals.png" alt="plurals (words){if(empty?(words)){report(list{})}else{report(join(item(1) of (words) (s) in front of (plurals(all but first of(words))))}}" title="plurals (words){if(empty?(words)){report(list{})}else{report(join(item(1) of (words) (s) in front of (plurals(all but first of(words))))}}" />
            <div class="sidenote">
                Your <code>exaggerate word</code> block might look a lot different, but here is one version:<br />
                <img src="/bjc-r/img/8-recursive-reporters/exaggerate-word.png" alt="exaggerate word" title="exaggerate word" />
            </div>
            <img class="indent" src="/bjc-r/img/8-recursive-reporters/squares.png" alt="squares(numbers){if(empty?(numbers)){report(list{})}else{(item(1)of(numbers)*item(1)of(numbers)) infront of(squares(all but first of(numbers))))}}" title="squares(numbers){if(empty?(numbers)){report(list{})}else{(item(1)of(numbers)*item(1)of(numbers)) infront of(squares(all but first of(numbers))))}}"/><br />
            <img class="indent" src="/bjc-r/img/8-recursive-reporters/exaggerate.png" alt="exaggerate" title="exaggerate" /><br />
            <img class="indent" src="/bjc-r/img/8-recursive-reporters/exaggerate-wordlist.png" alt="exaggerate-wordlist" title="exaggerate-wordlist" />
        </p>
        <p>
            <code>Plurals</code>, <code>squares</code>, and <code>exaggerate wordlist</code> look almost identical:<br />
            <div class="comment">This is too wide for one pic and should be broken into 3. --MF</div>
            <img src="/bjc-r/img/8-recursive-reporters/map-examples.png" alt="map-pattern examples" />
        </p>
        <p>
            The only difference is the circled part above: the particular function that's applied to <code>item 1 of</code> the input list. Here's a generalization of the pattern:<br />
            <img class="indent" src="/bjc-r/img/8-recursive-reporters/map-start.png" alt="map definition without function call" title="map definition without function call" />
        </p>
        <p>But what do we put in the first input slot of <code>in front of</code>?</p>
        <p>
            There are two little details you have to learn to finish this definition. The first is that the <code>function</code> input has to be a reporter. You already know how to set an input to be of a specific type. Setting this as a reporter is no different:<br />
            <img class="indent" src="/bjc-r/img/8-recursive-reporters/reporter-type.png" alt="reporter type declaration" title="reporter type declaration" />
        </p>
        <p>The Greek letter λ that appears in the Block Editor next to the word <code>function</code> in the orange oval is a type reminder, just like the︙for lists.</p> 
        <p>
            Now you have to know how to apply the function to <code>item 1 of data</code>. Find the <code>call</code> block in the Control palette and click on its right arrowhead to give it a second input slot. Then fill it in like this:<br />
            <img class="indent" src="/bjc-r/img/8-recursive-reporters/map.png" alt="map definition" title="map definition" />
        </p>
        <p>That's it! You've written <code>map</code>, a higher-order function!</p>
        <!-- <p class="takeNote">(The version in the Snap<em>!</em> tool library is more complicated because it allows more than one input list. The actual code is kind of messy—not mysterious, just messy. It makes a single list a special case, which it then uses inside itself. There's no need for you to read it, but feel free if you don't mind mess.)</p> -->
        <!--<div class="sidenote">The <code>call</code> block was used in the function grapher in <a href="/bjc-r/cur/programming/3-lists/optional-projects/old/4-graphing-functions.html">Unit 5</a>.</div>-->
        <p>The <code>call</code> block finds empty input slots in its function input and fills them in with the given input values.</p>
        <div class="todo">BH: move this orange box to the end of the last page. BK: there is another version of this type of text there already, but we can make a grand statement there!</div>
        <div class="takeNote">Higher-order functions aren't difficult, once you understand recursion and how to generalize a procedure by adding an input. They're no big deal to write! And they are very powerful to use.</div >
        
        <div class="todo">BK: Again, just leaving this mostly as is, but #1 could probably be replaced with a more "do it" kind of problem? What other examples could we have them build here to show they know the map pattern?</div>
        
        <div class="forYouToDo" id="first">
            <ol>
                <li>Rebuild the <code>exaggerate</code> block using a call to <code>map</code>. What happens to the helper function?</li>
                <li>
                    Occasionally a problem comes up that doesn't <em>exactly </em>match the <code>map</code> pattern, but comes close. In that case, you can't use  <code>map</code>, but your understanding of the pattern still helps. Here's an example:<br />
                    <img class="indent" src="/bjc-r/img/8-recursive-reporters/odds.png" alt="odd numbered items" title="odd numbered items" /><br />
                    Fill in the blanks: This script is just like the map pattern except for ______ (base case) and _____ (in the recursive case).
                </li>
                <li>
                    Build the <code>pairup</code> block:<br />
                    <img class="indent" src="/bjc-r/img/8-recursive-reporters/pairup.png" alt="pairup example" title="pairup example" />
                </li>
            </ol>
        </div>
        
        
    </body>
</html>
