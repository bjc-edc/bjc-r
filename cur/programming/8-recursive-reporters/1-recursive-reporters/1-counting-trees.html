<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
        <title>Unit 8 Lab 1: Recursive Reporters, Page 1</title>
        <link href="/bjc-r/advancednote.css" rel="stylesheet" type="text/css">
    </head>

    <body>
        <h2>Counting Trees</h2>

		<img class="imageRight" src="/bjc-r/img/7-recursion/tree-level9.jpg" alt="picture of fractal tree" title="picture of fractal tree"/>
		<p>In Unit 7, you built <a href="/bjc-r/cur/programming/7-recursion/1-trees/1-recursive-tree.html?topic=nyc_bjc%2F6-recursion-trees-fractals.topic&course=bjc4nyc.html&novideo&noassignment" title="Recursive Tree">recursive trees</a>. Each tree is made up of line segments.</p>
        <div class="forYouToDo" id="first">
            <ol>
                <li>Open your "U7L1-Tree" project. How many line segments are in a tree of each level? Complete this table. (You can count by eye or have Snap<em>!</em> count for you.)</li>
                <table class="center bordered">
                    <tr>
                        <td><var>level</var></td>
                        <td><var>segment count</var></td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>3</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>&nbsp;</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>&nbsp;</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>&nbsp;</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>&nbsp;</td>
                    </tr>
                </table>
                <li>How does the number of segments in one level compare to the number of segments in the previous level?</li>
                <li>Build a block whose input is a tree number and whose output is the number of segments in that level:</li>
                <img class="indent" src="/bjc-r/img/8-recursive-reporters/treecounter.png" alt="segments in tree (7) reporting 127" title="segments in tree (7) reporting 127"/><br />
            </ol>
        </div>
                
        <div class="dialogue">
            <div class="stagedir">Alphie and Betty discuss the code they created.</div>
<!--            <div class="comment">I worry that "one less than a power of 2" will need some review. Some of these kids have not had algebra, right? And even if they <em>all</em> have, some of the kids I saw were not strong mathematically. --MF  Keeping as is; powers of 2 are discussed in Unit 7 and are a sixth-grade Common Core topic.</div> -->
            <div><span>Alphie:</span> I noticed a pattern in the table. Each number of segments is one less than a power of 2.</div>
            <div><span>Betty:</span> What does your code look like?</div>
            <div><span>Alphie:</span> I used a <code>for</code> loop to build the power of 2, then I subtracted 1 at the end:<br /></div>
            <div class="stagedir"><img src="/bjc-r/img/8-recursive-reporters/alphiecode.png" alt="segments in tree(n){script variables(answer); set(answer) to (1); for (i=1 to n){set(answer) to (answer*2)} report(answer-1)}" title="segments in tree(n){script variables(answer); set(answer) to (1); for (i=1 to n){set(answer) to (answer*2)} report(answer-1)}"></div>
			<div><span>Alphie:</span>At the end, the <code>report</code> block sends the final value. I put the last math operation there.</div>
            <div><span>Betty:</span> Wow. Mine looks a lot different! I made the code look like the code for <code>tree</code>.</div>
            <div><span>Alphie:</span> Interesting... but I don't get it.</div>
            <div><span>Betty:</span> Look back at the code for <code>tree</code>. We used <em>recursion</em>. We built a segment, turned, called <code>tree</code> to build a smaller tree, turned again, and then called <code>tree</code> again to build another, smaller tree.</div>
            <div><span>Alphie:</span> Cool! We can think about how that algorithm works to write the <code>segments in tree</code> reporter recursively. But we can ignore all the moving and turning parts, right? Let me give this a shot. </div>
            <div><span>Betty:</span> Right! And don't forget: <em>base cases are important!</em></div>
        </div>
        
        <p>You've built and worked with recursive <em>command</em> blocks. Recursion can also be used in <em>reporters</em>.</p>
        
        <div class="forYouToDo">
            <ol start="4">
                <li>
                    If you haven't yet, build a <strong>recursive reporter</strong> that reports the number of segments in a tree of level <var>n</var>. 
					<div class="endnote">Remember that you need to click "Apply" before you can use your block recursively in the Block Editor.</div>
                </li>
            </ol>
        </div>
    
	</body>
</html>
