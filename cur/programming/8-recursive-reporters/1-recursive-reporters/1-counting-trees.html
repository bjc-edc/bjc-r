<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 8 Lab 1: Recursive Reporters, Page 1</title>
	</head>

    <body>
        <h2>Counting Trees</h2>
        <div class="todo">
            <p>PG: Generic editing: Beta doesn't have a consistent name. Sometimes Betty, sometimes Betsy. General comment: I don't feel like we've settled on a goal and really crafted a sequence to reach it. I think we're showing off all sorts of things that can be done with recursion, rather than thinking about how to /teach/ recursion and structuring this so that the student really becomes the master. This page: I basically like this, but I feel it is less focused on helping a kid write a recursive reporter than on the mathematics.  Alphie's solution and the first four lines of the TOL are clever but, for our purposes, irrelevant. Worse, if we want to build a power of 2 block, we should teach how to do /that/ recursively. The method here (last two lines of TOL) does, sort of, do that, but because the focus is elsewhere (and we never draw it back), it is likely to be special purpose. We don't see the right abstraction, Alphie's "one less than a power of 2." </p>
			<p>BH to sort out this feedback from Tim Matthies : <a href="https://piazza.com/class/h8yx482idav52y?cid=2024" target="_blank">Post2</a> --MF, 6/17/20</p>
			<p>Mary to consider: <a href="https://piazza.com/class/h8yx482idav52y?cid=2025" target="_blank">Post1</a></p>
		</div>
		<div class="learn">
            <p><strong>In this lab,</strong> you will develop recursive reporters.</p>
            <p><strong>On this page,</strong> you will explore a procedure for counting the segments in a fractal tree, and re-build it recursively.</p>
        </div>

		<p>In Unit 7, you built <a href="/bjc-r/cur/programming/7-recursion/1-trees/1-recursive-tree.html?topic=nyc_bjc%2F6-recursion-trees-fractals.topic&course=bjc4nyc.html&novideo&noassignment" title="Recursive Tree">recursive trees</a>. Each tree is made up of line segments.</p>
        <div class="forYouToDo" id="first">
    		<img class="imageRight noshadow" src="/bjc-r/img/7-recursion/tree-level9.jpg" alt="picture of fractal tree" title="picture of fractal tree"/>
            <ol>
                <li>
					Open your "U7L1-Tree" project. How many line segments are in a tree of each level? Complete this table. (You can count by eye or have Snap<em>!</em> count for you.)
					<table class="center bordered" summary="table showing the number of line segments in a TREE of a given level">
						<tr>
							<th scope="col" style="font-weight:normal;"><var>level</var></th>
							<th scope="col" style="font-weight:normal; white-space: nowrap;"><var>segment count</var></th>
						</tr>
						<tr>
							<td>1</td>
							<td>1</td>
						</tr>
						<tr>
							<td>2</td>
							<td>3</td>
						</tr>
						<tr>
							<td>3</td>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td>4</td>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td>5</td>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td>6</td>
							<td>&nbsp;</td>
						</tr>
					</table>
				</li>
                <li><img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> How does the number of segments in one level compare to the number of segments in the previous level?</li>
                <li>Build a block whose input is a tree number and whose output is the number of segments in that level:</li>
                <img class="indent" src="/bjc-r/img/8-recursive-reporters/treecounter.png" alt="segments in tree (7) reporting 127" title="segments in tree (7) reporting 127"/><br />
            </ol>
        </div>

        <div class="dialogue">
            <div class="stagedir">Alphie and Betsy discuss the code they created.</div>
<!--            <div class="comment">I worry that "one less than a power of 2" will need some review. Some of these kids have not had algebra, right? And even if they <em>all</em> have, some of the kids I saw were not strong mathematically. --MF  Keeping as is; powers of 2 are discussed in Unit 7 and are a sixth-grade Common Core topic.</div> -->
            <div><span>Alphie:</span> I noticed a pattern in the table. Each number of segments is one less than a power of 2.</div>
            <div><span>Betsy:</span> What does your code look like?</div>
            <div><span>Alphie:</span> I used a <code>for</code> loop to build the power of 2, then I subtracted 1 at the end:<br /></div>
            <div class="stagedir"><img src="/bjc-r/img/8-recursive-reporters/alphiecode.png" alt="segments in tree(n){script variables(answer); set(answer) to (1); for (i=1 to n){set(answer) to (answer*2)} report(answer-1)}" title="segments in tree(n){script variables(answer); set(answer) to (1); for (i=1 to n){set(answer) to (answer*2)} report(answer-1)}"></div>
            <div><span>Alphie:</span> At the end, the <code>report</code> block sends the final value. I put the last math operation there.</div>
            <div><span>Betsy:</span> Wow. Mine looks a lot different! I made the code look like the code for <code>tree</code>.</div>
            <div><span>Alphie:</span> Interesting... but I don't get it.</div>
            <div><span>Betsy:</span> Look back at the code for <code>tree</code>. We used <em>recursion</em>. We built a segment, turned, called <code>tree</code> to build a smaller tree, turned again, and then called <code>tree</code> again to build another, smaller tree.</div>
            <div><span>Alphie:</span> Cool! We can think about how that algorithm works to write the <code>segments in tree</code> reporter recursively. But we can ignore all the moving and turning parts, right? Let me give this a shot. </div>
            <div><span>Betsy:</span> Right! And don't forget: <em>base cases are important!</em></div>
        </div>

        <p>You've built and worked with recursive <em>command</em> blocks. Recursion can also be used in <em>reporters</em>.</p>

        <div class="forYouToDo">
            <ol start="4">
                <li>
                    If you haven't yet, build a <strong>recursive reporter</strong> that reports the number of segments in a tree of level <var>n</var>.
					<div class="endnote">Remember that you need to click "Apply" before you can use your block recursively in the Block Editor.</div>
                </li>
            </ol>
        </div>

        <div class="todo">The following is all from a second page and needs to be properly integrated by Mary. --MF, 6/17/20</div>
        <div class="todo">
            <p>PG: Drastic change, based on whatever we do with "counting branches" (not treesâ€”there's only one tree), this should change. The reporter is so special-purpose, whereas a n^m block is both /less/ complex (more straightforward) and /more/ generally useful, e.g., for counting the triangle's children.</p>
            <ul><li>I had written n^m into <a href="/bjc-r/cur/programming/2-complexity/4-making-computers-do-math/2-math-predicates.html?topic=nyc_bjc%2F2-conditionals-abstraction.topic&course=bjc4nyc.html&novideo&noassignment">U2 Math Tools</a>, but it's now a primitive. --MF, 4/5/19</li></ul>
        </div>

        <p>Here's Betsy's code for the <code>segments in tree</code> function:</p>

        <img class="indent" src="/bjc-r/img/8-recursive-reporters/bettycode.png" alt="segments in tree(n){if(n=1){report(1)}else{report(1+2*segments in tree(n-1))}}"  title="segments in tree(n){if(n=1){report(1)}else{report(1+2*segments in tree(n-1))}}" />
        <div class="takeNote">The <code>report</code> block only connects to the blocks <em>above</em> it. That's because <code>report</code> returns the result of its input slot, immediately, as the output of the <code>segments in tree</code> reporter block. No further code is executed in a reporter after a <code>report</code> block.</div>

        <div class="forYouToDo">
            <ol start="5">
                <li><img class="inline" src="/bjc-r/img/icons/talk-with-your-partner-mini.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> What is the base case condition?  What does the program do in that case? Why is the base case necessary?</li>
                <li>The <code>tree</code> command had two recursive calls, but this code has only one. Why?</li>
            <!--</ol>
        </div>

        <p>You've built and worked with recursive <em>command</em> blocks. Recursion can also be used in <em>reporters</em>. Thinking and programming with recursive reporters can often help solve otherwise complicated problems. </p>

        <div class="forYouToDo">
            <ol start="3">-->
                <li>
                    <div class="sidenoteBig">Re-read the code for the triangle fractal, and use it to help you build this recursive reporter.</div>
                	<a href="/bjc-r/cur/programming/7-recursion/2-projects/1-triangle-fractal.html?topic=nyc_bjc%2F6-recursion-trees-fractals.topic&course=bjc4nyc.html&novideo&noassignment" title="Triangle Fractal">In Unit 7</a>, you built a <code>triangle fractal</code> block. Build a block that reports the <em>total number of triangles</em> formed in a level <var>n</var> triangle fractal:<br />
                    <img class="indent" src="/bjc-r/img/8-recursive-reporters/trianglecounter.png" alt="triangles in level (5) fractal reporting 121" title="triangles in level (5) fractal reporting 121"/>
                </li>
				<li><div class="saveAs"><span class="text">"U8L1-Recursive-Reporters"</span><img src="/bjc-r/img/icons/save-this-as.png" alt="Save your work as U8L1-Recursive-Reporters" title="Save your work as U8L1-Recursive-Reporters" /></div></li>

                <div class="todo">Do we need this commented out content? --MF, 6/22/20</div>

                <!--            <div class="sidenote" style="position:relative;top:730px;">What exactly is Tony's <code>map</code> block doing?</div>
                <div class="sidenote" style="position:relative;top:1000px;">
                <strong>Derman:</strong> Yours is more complicated.<br />
                <strong>Sasha:</strong> But that pattern was easier to spot (for me).
                </div>
                <li>This block takes two whole numbers as input. Download it and figure out what it does.
                <p><a class="run" href="/bjc-r/prog/7-recursive-reporters/rangefrom.xml"><img src="/bjc-r/img/7-recursive-reporters/rangefrom.png" alt="range from ( ) to ( )"></a></p>
                </li>
                <ol>

                <li>

                <li>
                <div class="dialogue">
                <div class="stagedir">Episode 2</div>
                <div class="stagedir"><em>Sasha is looking at Derman's table from Exercise 2.</em></div>
                <div>
                <span>Sasha:</span> I see another way to match the table. If you look down the Output column, each number is two more than the one above it.  The only special case is the first row, which doesn't <em>have</em> a row above it, so we have to build in explicitly the fact that if the input is 0 the output should be 3:<br />
                <img src="/bjc-r/img/7-recursive-reporters/sasha.png" alt="Sasha's version">
                </div>
                <div class="stagedir">Check Sasha's work.</div>
                </div>
                </li>
                <li>
                Build Sasha-like (recursive) reporters that agree with each of these blocks on whole numbers.<br />
                <img src="/bjc-r/img/7-recursive-reporters/q4a.png"  alt="2n+7"><br />
                <img src="/bjc-r/img/7-recursive-reporters/q4b.png" alt="2n+5"><br />
                <img src="/bjc-r/img/7-recursive-reporters/q4c.png" alt="n^2+1"><br />
                <img src="/bjc-r/img/7-recursive-reporters/q4d.png" alt="n^2+2"><br />
                </li>
                <li>In problem 4, you can check your blocks against the ones in the problem for a long time, but you can't check them for <em>all</em> numbers. Are there any numbers for which there isn't a match?</li>
                <li>
                Build Tony-like reporters that agree with each of these blocks on whole numbers.<br />
                <img src="/bjc-r/img/7-recursive-reporters/u.png"  alt="q6a"><br />
                <img src="/bjc-r/img/7-recursive-reporters/v.png"  alt="q6b"><br />
                <div class="comment">Teacher Feedback: Going from explicit to recursive is hard enough for linear problems; these last two problems that require quadratics are far too hard for high school students who haven't had algebra. These Z and X problems should be in a TIF. --MF</div>
                <img src="/bjc-r/img/7-recursive-reporters/z.png"  alt="q6c"><br />
                <img src="/bjc-r/img/7-recursive-reporters/x.png"  alt="q6d"><br />
                </li>
                </ol>
                </div>  -->
				<!--
                <li>
                    Load and experiment with these two blocks, using short input lists, to see what they do:<br />
                    <div class="todo">
                    	<ul>
							<li>I have a big-picture concern with this approach to teaching recursion, and I have outlined it in a 3/7/16 email to the team. --MF</li>
                            <li>Any reason that we are making them construct lists to run through these blocks rather than just giving them a list? Seems like there is no benefit to that use of their time. --MF</li>
							<li>Leaving as-is for this pass, but valid concerns. -BK
							<li>
MF and BH both feel that the rest of this page should be removed, so I'm doing it.						</li>
							</li>
                        </ul>
                    </div>
                    <a class="run" href="/bjc-r/prog/7-recursive-reporters/sayeach.xml">
                        <img class="indent" src="/bjc-r/img/7-recursive-reporters/sayeach.png" alt="say each item of list (command)" title="say each item of list (command)" /><br />
                        <img class="indent" src="/bjc-r/img/7-recursive-reporters/stringtogether.png" alt="string items together from (reporter)" title="string items together from (reporter)" />
                    </a>
                </li >
                <img class="imageRight" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" />
				<li>Describe the major differences between the two blocks above.</li>
<!--				<div class="todo">It sounds like we are asking for <em>one right answer</em> here ("the biggest difference"). If so, we should word it differently. I'm not sure what the right answer is: "one is a command and the other a reporter" or "one uses <code>stop</code> and the other uses <code>report</code>" or "one has a terminating block only in the base case, but the other has it in either case"? My question to us is: what are we trying to highlight and how can we get them to focus on that? --MF (+1 --bh) Reasonably addressed? BK</div> -->
           <!--     <li>What are some similarities between the two blocks?</li>
                <li>What does <code>all but first of</code> do?</li>
                <li>
                    Fill in the empty parts of the following recursive reporter so that the block reports a sentence containing all the whole numbers from <code>a</code> to <code>b</code>.  <strong>Note that this question does <em>not</em> involve a list.</strong> The inputs are <em>numbers</em>; the reported value is a <em>text string</em> (a sentence). What should the block report in the base case? Where does the recursive call go?<br />
                    <img class="indent" src="/bjc-r/img/7-recursive-reporters/iota.png" alt="numbers from A to B" title="numbers from A to B" />
                    <img class="indent" src="/bjc-r/img/7-recursive-reporters/numbers-result.png" alt="numbers from (4) to (12) reporting 4 5 6 7 8 9 10 11 12" title="numbers from (4) to (12) reporting 4 5 6 7 8 9 10 11 12" />
                </li>
            </ol>
        </div> -->


	</body>
</html>
