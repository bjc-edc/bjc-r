<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 8 Lab 1: Recursive Reporters, Page 2</title>
	</head>

    <body>
        <h2>Writing Recursive Reporters</h2>
        <div class="todo">
            <p>PG: The controversy in the notes on the page is about good examples. We have an earlier controversy to deal with. Why are we teaching recursion at all?! /MY/ answer to that would be that it is a powerful IDEA, intellectually interesting, and related to some natural ways of thinking but more formalized (that is, making those already natural ways explicit). I emphasized IDEA, to distinguish from TECHNIQUE. Virtually everything, including letter count, can be done with more abbreviated code, if we build the appropriate tools first.  LENGTH OF (LIST TO SENTENCE (list))  This does get to one of my total confusions about controversies about Snap, itself. Why are MAP, KEEP, and COMBINE in a library as opposed to in the language?  Just to illustrate that it's possible to create them in Snap? Seems like the wrong way to advertise Snap's power. This feels like the same issue we're facing in our discussion of when/how to teach recursion. If we have to defend WHY to teach recursion only on its suitability as a technique for a particular problem, I think we're done in. The problems it is needed for are either already solved or too hard for our kids. Let's start with small problems that make great sense to think of recursively, even if someone else has already written the tool that saves us from having to do that.  LETTER COUNT is fine. So is n^m. Factorial is also fine but less familiar than n^m. (Typically n^m is sixth or seventh grade; factorial is high school.) Looking through a list for an item (yes, exactly what CONTAINS does), UNIQUING a list....  An advantage is that these are all different applications with very similar structures, so kids are /learning how to do it/ rather than getting lots of different lessons and not learning anything well.</p>
            <p>MF: Need to adjust for changes throughout curriculum</p>
            <p>Also, images on this page need to be redone with plain prototype labels. --MF, 4/5/19</p>
			<p>
				Brian and Mary agree that this page needs some restructuring to make clear the message about the need for combiners for recursive reporters. --MF, 6/17/20
				<ol>
					<li>Brian is going to reintegrate the commented out content and update the images. --MF, 6/4/19</li>
					<li>Mary to rewrite page focusing on core idea, walking them through several examples (e.g., factorial, my join words, and plurals), and then having them build letter count with a disclaimer that it will help them think about the problem. --MF, 6/17/20</li>
				</ol>
			</p>
			<p>Some of the images on this page still need to be rebuilt. --MF, 4/22/22</p>
        </div>

		<div class="learn">
            <p><strong>On this page,</strong> you'll build a recursive factorial block and several recursive blocks that handle strings.</p>
			<div class="todo">This page clearly needs attention, but that's currently what they do here. --MF</div>

        </div>



        <!--<p>To write a recursive reporter, it helps to describe how the output is related to a simpler output of the same reporter.</p>-->

        <div class="forYouToDo" id="first">
        	<p>
            	<div class="sidenote">Say 9! as "nine factorial", not <em>NINE!</em></div>
                The factorial function, <em>n</em>!, is defined to be the product of the integers from 1 to <em>n</em>.
            </p>
            <ol>
                <li>The value of 9! is 362,880. Find the value of 10!.</li>
                <div class="sidenoteBig">Don't forget Betty's advice: <em>base cases are important!</em></div>
                <li>Describe the relationship between 37! and 36!.</li>
                <li>Use these ideas to build a <code>factorial</code> block using a recursive reporter.
                </li>
            </ol>
        </div>

        <div class="todo">I've always disliked using fake blocks like in the following pics, and I'd like to address this when we clean up the page. --MF, 4/22/22</div>
        <p>
        	<!--(I dont' think this is true, personally. --MF) Recursive <em>reporters</em> can be more difficult to write than recursive <em>commands</em>, such as <code>tree</code> and <code>triangle fractal</code>.--> Recursive <em>commands</em> often have structure like this, with multiple commands in the recursive case:
    <div class="sidenote">Recursive procedures can even have <em>multiple</em> recursive calls (<code>tree</code> is a good example; we called <code>tree</code> <em>twice</em> from within a single call to <code>tree</code>).</div>
    <img class="indent" src="/bjc-r/img/8-recursive-reporters/rec-command.png" alt="recursion(input){if(base case?(input){do something simple} else{do stuff; recursion(smaller input); do stuff}}" title="recursion(input){if(base case?(input){do something simple} else{do stuff; recursion(smaller input); do stuff}}" />
        </p>

        <p>
        	Recursive <em>reporters</em> have a different structure because they can report <em>only one</em> value. Since the <code>report</code> block <em>reports</em> an answer, you'll need to build the answer before or inside the <code>report</code> block call. So, this isn't possible:<br />
        	<div class="sidenote">You can't even build this script because you won't be allowed to connect any block <em>below</em> a <code>report</code> block.</div>
            <img class="indent" src="/bjc-r/img/8-recursive-reporters/bad-rec-reporter.png" alt="Cannot do this: recursive reporter(input){if(base case?(input){report (something simple)} else{report something; report(recursive reporter(smaller input)); report something}}" title="Cannot do this: recursive reporter(input){if(base case?(input){report (something simple)} else{report something; report(recursive reporter(smaller input)); report something}}" />
        </p>
        <!--<p> Higher-order functions, mathematics operations, and other ways to combine information are often used.</p>
        <p>Instead, most of the time a recursive reporter call will be inside a <em>combiner</em> that attaches the result of the recursive call to some other value:</p>
        <p><img src="/bjc-r/img/8-recursive-reporters/rec-reporter.png" alt="correct recursive reporter pattern with combiner" /></p>
        <p>The combiner can be an arithmetic operator such as <code>+</code> or <code>&times;</code>:</p>
        <p><img src="/bjc-r/img/8-recursive-reporters/factorial.png" alt="factorial" /></p> -->

<div class="todo">BH suggests deleting #4-7 here. Discuss some other time? Or just dump it? I like this exercise.</div>

        <div class="forYouToDo">
            <p>Word processing programs count the number of words and letters in documents. One way to count the number of letters in a phrase is to use a recursive reporter.</p>
            <ol start="4">
                <div class="commentBig">Can we use a phrase that is more familiar to the high schooler's experience? --MF  Such as? These are the first words of the Declaration of Independence. I do not want to use the Pledge of Allegiance. -BK</div>
                <li>The phrase <strong>"in the course of human events"</strong> has 24 letters. How many letters are there in the phrase <strong>"When in the course of human events"</strong>?</li>
                <li>Recursion always needs a base case to stop the script from calling itself forever. What sort of base case might we use for this situation?</li>
                <li>
                	Create a <code>letter count</code> block that takes a list of words as input and reports the total number of letters in all the words. The <code>all but first of</code> block may be useful, but there is more than one way to do this.<br />
                	<img class="indent" src="/bjc-r/img/8-recursive-reporters/lettercount.png" alt="letter count(list{We, the. People, of, the, United, States}) reporting 28" title="letter count(list{We, the. People, of, the, United, States}) reporting 28"/>
				</li>
                <li>
                	<!--<div class="sidenote">You'll need a block that takes strings and makes larger strings...</div>
                    <div class="comment">I don't understand the above sidenote. I get that that's what we are doing, but what is this trying to tell me to do? --MF</div>-->
                    Create your own version of the <code>join words</code> block. This block inputs a list and outputs a string sentence, with spaces:<br />
                    <img class="indent" src="/bjc-r/img/8-recursive-reporters/myjoinwords.png" alt="my join words(list{We, the. People, of, the, United, States}) reporting -We the People of the United States" title="my join words(list{We, the. People, of, the, United, States})reporting -We the People of the United States" />
                </li>
                <!-- <p>Then, compare your work to the real <code>join words</code> block.</p>  -->
                <div class="todo">
                    <p>Again, I am  concerned with teaching recursion as "a more complicated way to do what you already know how to do." I don't think <code>my join words</code> works because it can be done so much more quickly <em>non-recursively</em> by using <code>combine</code>. I <em>do</em> like <code>letter count</code> though because it <em>does</em> simplify the code. --MF<br />
                    <img class="indent" src="/bjc-r/img/8-recursive-reporters/recursive-letter-count.png" alt="letter count(list){if(length of list=0){report()};report(length of(item(1) of list)+(letter count(all but first of list))}" title="letter count(list){if(length of list=0){report()};report(length of(item(1) of list)+(letter count(all but first of list))}"/></p>
                    <p>As noted in email, I don't think <code>letter count</code> is an exception, as Mary does. But more important, I don't think students can easily compare their <code>my join words</code> with the <code>join words</code> in the tools library, because the latter is variadic, taking multiple strings as inputs rather than taking one single list of strings. As a result, its code uses the sort of hidden and obscure &quot;input list&quot; feature of Snap<em>!</em>, which we haven't taught and I'd rather avoid teaching, at least in the middle of teaching other hard stuff. --bh
					</p>
					<p>I need a suggestion to change this. Or is the suggestion to delete the join-words task? Any other things to replace it? Also we should use "empty?" when possible, not "length = 0". -BK</p>
                </div>
            </ol>
        </div >

        <p>The list operations  <code>all but first of</code> and <code>in front of</code> are frequently used in recursive reporters.</p>

		<div class="forYouToDo">
            <ol start="8">
                <li>
                    Build this <code>plurals</code> block, then describe how it works.<br />
                    <img class="indent" src="/bjc-r/img/8-recursive-reporters/plurals.png" alt="plurals(words){if(empty?(words)){report(empty list)} else{report((join (item 1 of words)(s) in front of (plurals(all but first of (words)))}}" title="plurals(words){if(empty?(words)){report(empty list)} else{report((join (item 1 of words)(s) in front of (plurals(all but first of (words)))}}" />
                </li>
            </ol>
			</div>

    </body>
</html>
