<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
        <title>Unit 8 Lab 1: Recursive Reporters, Page 3</title>
    </head>

    <body>
        <h2>Writing Recursive Reporters</h2>
        <!--<p>To write a recursive reporter, it helps to describe how the output is related to a simpler output of the same reporter.</p>-->
        
        <div class="forYouToDo" id="first">
        	<p>
            	<div class="sidenote">Say 9! as "nine factorial", not <em>NINE!</em></div>
                The factorial function, <em>n</em>!, is defined to be the product of the integers from 1 to <em>n</em>.
            </p>
            <ol>
                <li>
                    The value of 9! is 362,880. Find the value of 10!.
                </li>
                <div class="sidenoteBig">Don't forget Betty's advice: <em>base cases are important!</em></div>
                <li>Describe the relationship between 37! and 36!.</li>
                <li>Use these ideas to build a <code>factorial</code> block using a recursive reporter. 
                </li>
            </ol>
        </div>
        
        <p>
        	<!--(I dont' think this is true, personally. --MF) Recursive <em>reporters</em> can be more difficult to write than recursive <em>commands</em>, such as <code>tree</code> and <code>triangle fractal</code>.--> Recursive <em>commands</em> often have structure like this, with multiple commands in the recursive case:
    <div class="sidenote">Recursive <em>commands</em> can even have <em>multiple</em> recursive calls (<code>tree</code> is a good example; we called <code>tree</code> <em>twice</em> from within a single call to <code>tree</code>).</div>
            <img class="indent" src="/bjc-r/img/8-recursive-reporters/rec-command.png" alt="recursion(input){if(base case?(input){do something simple} else{do stuff; recursion(smaller input); do stuff}}" title="recursion(input){if(base case?(input){do something simple} else{do stuff; recursion(smaller input); do stuff}}" />
        </p>
        
        <p>
        	Recursive <em>reporters</em> have different structure because they can report <em>only one</em> value. Since the <code>report</code> block <em>reports</em> an answer, you'll need to build the answer before or inside the <code>report</code> block call. So, this isn't possible:<br />
        	<div class="sidenote">You can't even build this script because you won't be allowed to connect any block <em>below</em> a <code>report</code> block.</div>
            <img class="indent" src="/bjc-r/img/8-recursive-reporters/bad-rec-reporter.png" alt="Cannot do this: recursive reporter(input){if(base case?(input){report (something simple)} else{report something; report(recursive reporter(smaller input)); report something}}" title="Cannot do this: recursive reporter(input){if(base case?(input){report (something simple)} else{report something; report(recursive reporter(smaller input)); report something}}" />
        </p>
        <!--<p> Higher-order functions, mathematics operations, and other ways to combine information are often used.</p>- ->
        <!--        <p>Instead, most of the time a recursive reporter call will be inside a <em>combiner</em> that attaches the result of the recursive call to some other value:</p>
        <p><img src="/bjc-r/img/7-recursive-reporters/rec-reporter.png" alt="correct recursive reporter pattern with combiner" /></p>
        <p>The combiner can be an arithmetic operator such as <code>+</code> or <code>&times;</code>:</p>
        <p><img src="/bjc-r/img/7-recursive-reporters/factorial.png" alt="factorial" /></p> -->

<div class="todo">BH suggests deleting #4-7 here. Discuss some other time? Or just dump it? I like this exercise.</div>		

        <div class="forYouToDo">
            <p>Word processing programs count the number of words and letters in documents. One way to count the number of letters in a phrase is to use a recursive reporter.</p>
            <ol start="4">
                <div class="commentBig">Can we use a phrase that is more familiar to the high schooler's experience? --MF  Such as? These are the first words of the Declaration of Independence. I do not want to use the Pledge of Allegiance. -BK</div>
                <li>The phrase <strong>"in the course of human events"</strong> has 24 letters. How many letters are there in the phrase <strong>"When in the course of human events"</strong>?</li>
                <li>Recursion always needs a base case to stop the script from calling itself forever. What sort of base case might we use for this situation?</li>
                <li>
                	Create a <code>letter count</code> block that takes a list of words as input and reports the total number of letters in all the words. The <code>all but first of</code> block may be useful, but there is more than one way to do this.<br />
                	<img class="indent" src="/bjc-r/img/8-recursive-reporters/lettercount.png" alt="letter count(list{We, the. People, of, the, United, States}) reporting 28" title="letter count(list{We, the. People, of, the, United, States}) reporting 28"/>
				</li>
                <li>
                	<!--<div class="sidenote">You'll need a block that takes strings and makes larger strings...</div>
                    <div class="comment">I don't understand the above sidenote. I get that that's what we are doing, but what is this trying to tell me to do? --MF</div>-->
                    Create your own version of the <code>join words</code> block. This block inputs a list and outputs a string sentence, with spaces:<br />
                    <img class="indent" src="/bjc-r/img/8-recursive-reporters/myjoinwords.png" alt="my join words(list{We, the. People, of, the, United, States}) reporting -We the People of the United States" title="my join words(list{We, the. People, of, the, United, States})reporting -We the People of the United States" />
                </li>
                <!-- <p>Then, compare your work to the real <code>join words</code> block.</p>  -->
                <div class="todo">
                    <p>Again, I am  concerned with teaching recursion as "a more complicated way to do what you already know how to do." I don't think <code>my join words</code> works because it can be done so much more quickly <em>non-recursively</em> by using <code>combine</code>. I <em>do</em> like <code>letter count</code> though because it <em>does</em> simplify the code. --MF<br />
                    <img class="indent" src="/bjc-r/img/8-recursive-reporters/recursive-letter-count.png" alt="letter count(list){if(length of list=0){report()};report(length of(item(1) of list)+(letter count(all but first of list))}" title="letter count(list){if(length of list=0){report()};report(length of(item(1) of list)+(letter count(all but first of list))}"/></p>
                    <p>As noted in email, I don't think <code>letter count</code> is an exception, as Mary does. But more important, I don't think students can easily compare their <code>my join words</code> with the <code>join words</code> in the tools library, because the latter is variadic, taking multiple strings as inputs rather than taking one single list of strings. As a result, its code uses the sort of hidden and obscure &quot;input list&quot; feature of Snap<em>!</em>, which we haven't taught and I'd rather avoid teaching, at least in the middle of teaching other hard stuff. --bh
					</p>
					<p>I need a suggestion to change this. Or is the suggestion to delete the join-words task? Any other things to replace it? Also we should use "empty?" when possible, not "length = 0". -BK</p>
                </div>
            </ol>
        </div >
        
        <p>The list operations  <code>all but first of</code> and <code>in front of</code> are frequently used in recursive reporters.</p>
        
        <div class="forYouToDo">
            <ol start="8">
                <li>
                    Build this <code>plurals</code> block, then describe how it works. (You've already built a simpler version of <code>plurals</code> using <code>map</code>; we want you to see that the same problem can be solved in multiple ways.)<br />
                    <img class="indent" src="/bjc-r/img/8-recursive-reporters/plurals.png" alt="plurals(words){if(empty?(words)){report(empty list)} else{report((join (item 1 of words)(s) in front of (plurals(all but first of (words)))}}" title="plurals(words){if(empty?(words)){report(empty list)} else{report((join (item 1 of words)(s) in front of (plurals(all but first of (words)))}}" />
                </li>
            </ol>
        </div>
    
    </body>
</html>
