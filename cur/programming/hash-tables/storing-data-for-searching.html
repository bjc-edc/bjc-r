<!DOCTYPE html>
<html><head><!-- put the following in exactly --><script type="text/javascript" src="/bjc-r/llab/loader.js"></script><title>A New Structure: "Hash Tables"</title><!--ORIGINAL NAME: Storing Data for Searching--></head><body><div>Today's goal is going to be to design a simple search engine that can be used to look for words in a list of quotations. We're going to design our search engine similarly to how Google designed theirs (a topic we'll discuss more soon). As you can probably imagine, search engines need to be able to do things <i>quickly</i> in order to be useful, but the techniques we've learned won't give us the speed we need to build a fast search engine. We're going to need something fast -- no, not just fast. <span style="font-style: italic;">L</span><i>ightning</i> fast. <br></div>

<div style="float: right;"><img border="0" src="/bjc-r/img/prog/hash-comparison.png" alt="Hash Comparison" title="Hash Comparison" origsrc="http://veritas.eecs.berkeley.edu/courses/file.php/17/hash-comparison.png"></div> <span style="font-weight: bold;">Note: </span>the word <span style="font-style: italic;">index</span> used below has a different meaning than the search engine index that has been used in the rest of the lab.<br><br>As you know, lists allow you to store multiple pieces of data in the same variable. You can quickly retrieve the data in a list by providing the <span style="font-style: italic;">index</span> to the data you are trying to find. The index is a number in a list. There is a similar type of data structure, called a <span style="font-style: italic;">hash table</span>, that works very similarly but instead allows you to index using a word or phrase.<span style="font-weight: bold;"></span> You can see the difference between the two storage techniques in the image to the right. Notice that the hash table uses a person's name as the index instead of a number.<br><br>This is an incredibly powerful data structure for storing data that has relationships with other data. For example, you could implement a phone book using a hash table by using a person's name as the <span style="font-style: italic;">index</span> value and their phone number as the data. When you later needed to find someone's phone number, you could simply provide their name to the hash table to retrieve the data that was associated with it. Today's lab provides three blocks that can be used to easily use a hash table to find information at blazing speeds.<br><br><img border="0" src="/bjc-r/img/prog/hash-convert.png" alt="Convert to hash table" title="Convert to hash table" origsrc="http://veritas.eecs.berkeley.edu/courses/file.php/17/hash-convert.png"> The first block will allow you to convert a list into a hash table. The first parameter is an empty list and the second is the size of the hash table (i.e. the number of elements you'd like it to hold). After this block finishes, the list that you passed in will be converted into a hash table!<br><br><div style="margin-left: 40px;"><span style="font-weight: bold;">Hint:</span> It's generally better to have about twice as much room in your table as you actually need. Also, for technical reasons, hash tables work best when their size is set to a prime number. You can either set their size as a <a href="http://primes.utm.edu/lists/small/1000.txt">reasonably large prime number</a> or use some other form of determining primes that you may have come up with recently. The prime number that should be used will depend on how much information is being held in the table -- 53 may be good for smaller data sets, while larger projects (such as the final project in this lab) will do better with a size around 521. <br></div><br><img border="0" src="/bjc-r/img/prog/hash-add.png" alt="Add to table" title="Add to table" origsrc="http://veritas.eecs.berkeley.edu/courses/file.php/17/hash-add.png"> This block will let you add new information to a hash table. The first parameter gives the entry in the table a name, such as "John Smith" for a phone book. The second parameter is the hash table generated with the help of the first block. The third parameter is the value (a number, phrase, list, whatever) to be associated with John Smith, such as his phone number. This block will insert the information that you specify into the block so that it can be retrieved later.<br><br><img border="0" src="/bjc-r/img/prog/hash-get.png" alt="Get from table" title="Get from table" origsrc="http://veritas.eecs.berkeley.edu/courses/file.php/17/hash-get.png"> After you have inserted information, this block will let you quickly retrieve it from the hash table. It will report the value (i.e. the phone number) for the key (i.e. John Smith) that you provide. You must also pass in the hash table generated with the first block.<br><br><div style="clear: both;"> </div>
<h2>[Optional] Information for the Curious</h2>
<div style="float: right;"><img border="0" src="/bjc-r/img/prog/hash-numbers-example.png" alt="How a Hash Table Works" title="How a Hash Table Works" origsrc="http://veritas.eecs.berkeley.edu/courses/file.php/17/hash-how.png"></div>
<p>Hash tables are a tremendous tool for a computer scientist's toolbox because they allow for very quick information storage and retrieval. Hash tables make use of two regular lists: one to store the index data, or <span style="font-style: italic;">keys</span>, and the other to store the data, or <span style="font-style: italic;">values</span>. Each key is paired with its own value and entered at equal points in the two lists (see red highlighted region of image). <br></p>
<p>When someone wants to know Cleopatra's phone number, it is then possible to move through the list of keys until Cleopatra's name is discovered, then look up the phone number from the list of values with the equivalent index (if Cleopatra's name is stored in slot 4 of the key list, her phone number will be stored in slot 4 of the values list). In reality, it is not necessary to move through the list in order; there is a special technique called <span style="font-style: italic;">hashing </span>(hence the name 'hash tables') that makes it possible to find elements in far less time.<span style="font-style: italic;"></span> We won't go into the details of that technique here, but the combination of hashing with the two lists is what gives the hash table its power.</p>
<p>Feel free to check out the <a href="http://en.wikipedia.org/wiki/Hash_table" title="Hash tables">Wikipedia article on hash tables</a> for more information.<br></p>   </body></html>
