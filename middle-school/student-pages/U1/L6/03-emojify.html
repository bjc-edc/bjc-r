<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 1 Lab 6: Texting Tricks, Activity 3</title>
	</head>

	<body>
		<h2>Emojify</h2>
		<div class="todo">
			Mary todo:
			<ul>
				<li>general reviewing/revision, esp. cut down on text</li>
				<li>all alt/title text</li>
				<li>Integrate TG content with links</li>
			</ul>
		</div>

		
		<div class="learn">In this activity, you'll explore how the <code>emojify</code> block works, add additional emojis to it, and learn how to search a list using <img class="notabtb" src="/bjc-r/img/blocks/find-first.png" alt="find first item 'predicate input slot' in 'list input slot'" title="find first item 'predicate input slot' in 'list input slot'" />.</div>
		
		<div class="forYouToDo">
			<ol>
				<li>Open your "Texting Time" project, if it isn't open already. It includes an <img class="inline nopadtb" src="/bjc-r/middle-school/img/U1/lab06/emojify-word.png" alt="emojify word ()" title="emojify word ()" /> block that takes a single word as input. If that word has a matching emoji in the list inside in the block's code, it reports that emoji. Otherwise it just reports the input word.</li>
				<li>
					Try the following inputs in the <code>emojify word</code> block:
					<ol>
						<li>sun</li>
						<li>cloud</li>
						<li>rain</li>
					</ol>
				</li>
			</ol>
		</div>
		<p>The <code>emojify word</code> block uses the <img class="notabtb" src="/bjc-r/img/blocks/find-first.png" alt="find first item 'predicate input slot' in 'list input slot'" title="find first item 'predicate input slot' in 'list input slot'" /> block to search for the matching emoji for the input word.</p>
		
		<h3><code>Map</code>ping over a List</h3>
		<p>You can use <img class="inline" src="/bjc-r/img/blocks/map.png" alt="map 'reporter input slot' over 'list input slot'" title="map 'reporter input slot' over 'list input slot'" /> to apply any block that works on one list item to every item in a list.</p>
		<div class="forYouToDo">
			<ol start="6">
				<li>
					Click the following expression, which uses <code>map</code> to apply <code>color from pixel</code> to every pixel in the <code>pixels of costume</code> list.<br />
					<img class="indent" src="/bjc-r/middle-school/img/U1/lab04/image-manipulation-map-expression.png" alt="map (color ('red') from pixel 'list input slot') over (pixels of my costume))" title="map (color ('red') from pixel 'list input slot') over (pixels of my costume))" />
				</li>
				<li>Compare the output of the <code>map</code> expression to the output of <code>pixels of costume</code>.</li>
				<li>Change the input color in the <code>color from pixel</code> block, and compare to <code>pixels of costume</code> again.</li>
				<li><img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" />What does this <code>map</code> expression do?
					<div class="endnote">
						<a href="#hint-map" data-toggle="collapse" title="Click for a description of what the map expression does.">Click for a description of what the <code>map</code> expression does.</a>
						<div id="hint-map" class="collapse">
							<p>Since <img class="inline" src="/bjc-r/middle-school/img/U1/lab04/color-red-from-pixel.png" alt="color (red) from pixel 'list input slot'" title="color (red) from pixel 'list input slot'" /> reports a single color value from the input pixel (in this case, the red value), the expression <img class="inline" src="/bjc-r/middle-school/img/U1/lab04/image-manipulation-map-expression.png" alt="map (color ('red') from pixel 'list input slot') over (pixels of my costume))" title="map (color ('red') from pixel 'list input slot') over (pixels of my costume))" /> reports a single color value <em>from each pixel</em> in the <code>pixels of costume</code> list (in this case, the red value of each pixel).</p>
							<p>
								<a href="#hint-map-example" data-toggle="collapse" title="Click for an example of what the map expression reports.">Click for an example of what the <code>map</code> expression reports.</a>
								<div id="hint-map-example" class="collapse">
									<p>
										For example, with "red" as the input to <code>color from pixel</code>, the <code>map</code> expression reports a list of only the red values of all the costume's pixels:<br />
										<div class="borderless-table two-col center">
											<div><strong>Result of <code>pixels of costume</code><!-- of <img class="inline" src="/bjc-r/middle-school/img/U1/pixels-of-costume.png" alt="pixels of costume (current)" title="pixels of costume (current)" />--></strong></div>
											<div><strong>Result of <code>map</code>ping <code>color (red) from pixel</code> over <code>pixels of costume</code></strong></div>
											<div><img class="" src="/bjc-r/middle-school/img/U1/lab04/image-manipulation-table.png" alt="table with 4 columns and 8 rows showing, though there is a row count of 13,824 in the upper left corner (not all rows are visible). The first column includes values ranging from 142-145; the second column includes values ranging from 165-168; the third column includes values ranging from 197-200." title="table with 4 columns and 8 rows showing, though there is a row count of 13,824 in the upper left corner (not all rows are visible). The first column includes values ranging from 142-145; the second column includes values ranging from 165-168; the third column includes values ranging from 197-200." /></div>
											<div><img class="" src="/bjc-r/middle-school/img/U1/lab04/image-manipulation-table-single-column.png" alt="list with 8 items showing, though there is an item count of 13,824 in the upper left corner (not all items are visible). The values of the list items range from 142-145." title="list with 8 items showing, though there is an item count of 13,824 in the upper left corner (not all items are visible). The values of the list items range from 142-145." /></div>
										</div>
									</p>
								</div>
							</p>
						</div>
					</div>
				</li>
			</ol>
		</div>

		<div class="vocabFullWidth">: <strong>Higher Order Function</strong>
			<p><code>Map</code> is a <strong>higher order function</strong>. That just means that it's a function that takes a function  as input.</p>
			<div class="endnote">
				<p>
					This <code>map</code> expression<br />
					<img class="indent" src="/bjc-r/middle-school/img/U1/lab04/image-manipulation-map-expression.png" alt="map (color ('red') from pixel 'list input slot') over (pixels of my costume))" title="map (color ('red') from pixel 'list input slot') over (pixels of my costume))" /><br />
					takes two inputs:
					<ol>
					    <li>The <em>function</em> <code>color from pixel</code>:  <img class="inline" src="/bjc-r/middle-school/img/U1/lab04/color-red-from-pixel.png" alt="color (red) from pixel 'list input slot'" title="color (red) from pixel 'list input slot'" /></li>
						<li>
							The <em>list</em> that is the output of the function <img class="inline" src="/bjc-r/middle-school/img/U1/lab04/pixels-of-costume.png" alt="pixels of my costume" title="pixels of my costume" /> <a href="#hint-pixels-list" data-toggle="collapse" title="(Click for a reminder of the output of pixels of my costume.)"> (Click for a reminder of the output.)</a>
							<div id="hint-pixels-list" class="collapse"><img class="indent" src="/bjc-r/middle-school/img/U1/lab04/pixels-of-costume-reporting.png" alt="'pixels of my costume' reporting a table with 3 columns and 5 visible rows. (There is a row count of 15,552 in the upper left corner; not all rows are visible). The first column includes values ranging from 111-118; the second column includes values ranging from 111-117; the third column includes values ranging from 112-122." title="'pixels of my costume' reporting a table with 3 columns and 5 visible rows. (There is a row count of 15,552 in the upper left corner; not all rows are visible). The first column includes values ranging from 111-118; the second column includes values ranging from 111-117; the third column includes values ranging from 112-122." /></div>
						</li>
					</ol>
				</p>
				<p>
					You can tell the difference between the second input slot to <img class="inline" src="/bjc-r/img/blocks/map.png" alt="map 'reporter input slot' over 'list input slot'" title="map 'reporter input slot' over 'list input slot'" />, which takes the <em>output</em> of a function (like most inputs do), and the first input slot, which takes a <em>whole function itself</em> (not its output), because the first input slot has a gray ring around it. The gray ring tells you that the <code>map</code> function is expecting a function (not the output of a function) as input.<br />
					<img class="indent" src="/bjc-r/middle-school/img/U1/lab04/gray-ring.png" alt="gray ring" title="gray ring" />
				</p>
				<p><code>Map</code> takes a function as input so it can apply that function to each item in the list. The empty input slot in the function (in this case, the pixel) is where each item from the list (in this case, the list of pixels) goes every time the function is applied.</p>
			</div>
		</div>
		<div class="todo">Maybe give them a FYTD with a few <code>map</code> examples to predict and then try out in Snap<em>!</em> before going on... --MF, 10/15/21 </div>



				<div class="todo">New HOF here. Need to introduce. --MF, 10/19/21</div>
				
		<div class="forYouToDo">
			<ol start="3">
				<li><img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" /> Look inside the <code>emojify word</code> block, and take time to understand how it works.<br />
					<img class="indent" src="/bjc-r/middle-school/img/U1/lab06/emojify-word-definition.png" alt="emojify (word) {
	script variables (word emoji pair)
	set (word emoji pair) to (find first item ((item (1) of 'list input slot') = lowercase (word)) in ('list of 19 two-item lists, each containing a word, such as love, and an emoji, such as ❤️'))
	report (if (is (word emoji pair) a ('list')?) then (item (2) of (word emoji pair)) else (word))
}" title="emojify (word) {
	script variables (word emoji pair)
	set (word emoji pair) to (find first item ((item (1) of 'list input slot') = lowercase (word)) in ('list of 19 two-item lists, each containing a word, such as love, and an emoji, such as ❤️'))
	report (if (is (word emoji pair) a ('list')?) then (item (2) of (word emoji pair)) else (word))
}" />
					<div class="endnote">
						The <code>emojify word</code> block that takes a <var>word</var> as input and does the following:
						<ol type="i">
							<li>Creates a new variable called <var>word emoji pair</var>.</li>
							<li>
								Sets <var>word emoji pair</var> to store the first item it finds in a list of word/emoji pairs where the first item in the pair is the input <var>word</var> (in lowercase). 
								<a href="#hint-pairs" data-toggle="collapse" title="Click for examples of what FIND FIRST will report.">Click for examples of what <code>find first</code> will report.</a>
								<div id="hint-pairs" class="collapse">
									<ul>
										<li>
											If the <var>word</var> were "Car", then <var>word emoji pair</var> would be <img class="inline nopadtb" src="/bjc-r/middle-school/img/U1/lab06/word-emoji-pair-car.png" alt="list (car) (🚗)" title="list (car) (🚗)" />.
											<a href="#hint-car" data-toggle="collapse" title="Click for a detailed image of FIND FIRST searching for a pair starting with 'car'.">Click for a detailed image.</a>
											<div id="hint-car" class="collapse">
												<img class="indent" src="/bjc-r/middle-school/img/U1/lab06/find-first-car-reporting.png" alt="find first item ((item (1) of 'list input slot') = 'car') in ('list of 19 two-item lists') reporting list (car) (🚗)" title="find first item ((item (1) of 'list input slot') = 'car') in ('list of 19 two-item lists') reporting list (car) (🚗)" />
											</div>
										</li>
										<li>
											If the <var>word </var> were "dinosaur", which is <em><strong>not</strong></em> in the list, then <var>word emoji pair</var> would be blank.
											<a href="#hint-dinosaur" data-toggle="collapse" title="Click for a detailed image of FIND FIRST searching for a pair starting with 'dinosaur'.">Click for a detailed image.</a>
											<div id="hint-dinosaur" class="collapse">
												<img class="indent" src="/bjc-r/middle-school/img/U1/lab06/find-first-dinosaur-reporting.png" alt="find first item ((item (1) of 'list input slot') = 'dinosaur') in ('list of 19 two-item lists') reporting ''" title="find first item ((item (1) of 'list input slot') = 'dinosaur') in ('list of 19 two-item lists') reporting ''" />
											</div>
										</li>
									</ul>
								</div>
							</li>
							<li>
								Reports one of the following:
								<ul>
									<li>If <var>word emoji pair</var> is a list, it reports the second item in the pair (the matching emoji).</li>
									<li>Otherwise (such as if <var>word emoji pair</var> is blank because the word was not in the list), it reports the input <var>word</var>.</li>
								</ul>
							</li>
						</ol>
					</div>
				</li>
				<li>
					<img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" />
					<ol>
						<li>Without using Snap<em>!</em> to check, determine what will <code>emojify word (cat)</code> will report?</li>
						<li>What will <code>emojify word (cow)</code> report?</li>
						<li>How would you change the code inside <code>emojify word</code> to make <code>emojify word (cow)</code> report an emoji of a cow?</li>
					</ol>
				</li>
				<li>Add one or more additional word/emoji pairs to the <code>emojify word</code> block, and test that it works for each new word that you added.</li>
				<div class="todo">
				<li>
					Add more word-emoji pairs by editing the <code>emojify word</code> block:
					<ol>
						<li>Add a new item by clicking the right arrow at the end of the <code>list</code> block. You should see a new input slot appear at the end of the list.</li>
						<li>Duplicate one of the nested word-emoji lists by right-clicking and selecting "duplicate". </li>
						<li>Drag the duplicated block into the newly added blank.</li>
						<li>Change the word and emoji by typing in the blanks. You can paste emojis from <a href="https://emojifinder.org/" title="emojifinder.org" target="_blank">emojifinder.org</a> or <a href="https://emojipedia.org/" title="emojipedia.org" target="_blank">emojipedia.org</a>. </li>
					</ol>
				</li>
				</div>
				<li>The <img class="inline nopadtb" src="/bjc-r/middle-school/img/U1/lab06/emojify.png" alt="emojify ()" title="emojify ()" /> block uses the <code>emojify word</code> block. You can type a whole sentence into the <code>emojify</code> block. It replace any words from the word/emoji pair list with their matching emojis. Try it for a few sentences using some of the words with matching emojis in the word/emoji pair list.</li> 
				<li>
					<img class="inline" src="/bjc-r/img/icons/talk-with-your-partner-mini.png" alt="Talk with Your Partner" title="Talk with Your Partner" />
					Right-click on the <code>emojify</code> block and select "Edit". Discuss how this block works.<br />
					<img class="indent" src="/bjc-r/middle-school/img/U1/lab06/emojify-definition.png" alt="emojify (text) {
	report (join (map (join (emojify word ()) ('space')) over (split (text) by ('word'))))
}" title="emojify (text) {
	report (join (map (join (emojify word ()) ('space')) over (split (text) by ('word'))))
}" />
					<div class="todo">
						<ul>
							<li>From Pamela: I'm trying to see if I can remove the use of variables so that we don't see those until unit 2.</li>
							<li>From Brian: Consider using the LET library block as an alternative.</li>
							<li>From Pamela: Dan also made a <a href="https://snap.berkeley.edu/versions/dev/snap.html#present:Username=dan%20garcia&ProjectName=BJC%20MS%20Texting%20Time%20v2%20with%20no%20script%20var" title="" target="_blank">version with a wrapper function</a>...Both of them require bringing in something thats not a standard palette block, so not sure what to go for.</li>
							<li>From Brian: Dan's wrapper function was hard for me to understand because I didn't see the "but" part at first, with that huge list in the way! :)  We really need the Scheme COND -> notation:<br />FIND FIRST... -> ITEM 2 OF.</li>
						</ul>
						<p>I also found the wrapper less than illuminating and just used it with  few modifications (reduced list size and tucking <code>lowercase</code> include <code>emojify word</code>). I figured it would be OK to see a little sequencing late in U1. Open to further suggestions and feedback. --MF, 10/19/21</p>
					</div>
				</li>
				<li>
					Write a paragraph describing how the <code>emojify</code> block works. Include the following:
					<ul>
						<li>A description of the input to the <code>emojify</code> block and how it is used in the code.</li>
						<li></li>
						<li></li>
					</ul>
				</li>
				<li>
					<div class="sidenote">You learned how to add program documentation in <a href="/bjc-r/middle-school/student-pages/U1/L6/01-texting-time.html?topic=middle-school%2F1-functions-data.topic&course=middle-school-teacher.html&novideo&noassignment" title="Unit 1 Lab 6 Activity 1: Texting Time" target="_blank">Unit 1 Lab 6 Activity 1: Texting Time</a>.</div>
					Create help text by attaching a comment to the hat block.

					How does this block work?</li>
				<div class="endnote">
					<p><a href="#hint-emojify" data-toggle="collapse" title="Click for a detailed description of how the emojify block works.">Click for a detailed description.</a></p>
					<div id="hint-emojify" class="collapse">
						<p>
							<ul>
								<li>The <code>emojify</code> block is a reporter block, so it uses a <code>report</code> block to send back a computed value to the main program.</li>
								<li>The <code>report</code> block has a nested <code>join</code> block. A <code>join</code> block joins together multiple strings of text into one long string of text.</li>
								<li>The <code>join</code> block has a nested <code>map</code> block. A <code>map</code> block performs the same operation on every item in a list and reports a new list containing those results. The first input is the operation, the second input is the list.</li>
								<li>The first input to the <code>map</code> block is another <code>join</code> block that joins the result of calling the <code>emojify word</code> block with a space character. </li><br>
								<li>The second input to <code>map</code> is the <code>split</code> block that splits the input text into a bunch of words.</li>
							</ul>
						</p>
						<p>So for the phrase, "I love rain", that first gets split into the list "I", "love", "rain", then the emojify word block gets called on each word, resulting in the list "I", "❤️", "☔️", and then finally, the join block turns that list into "I ❤️ ☔️".</p>
						<p>
							Here's the same process in a diagram:<br />
							<div class="comment">Todo: resize image manually</div>
							<img class="indent" style="height:500px;" src="/bjc-r/middle-school/img/U1/lab06/emojify-flowchart.png" alt="" title="" />
						</p>
					</div>
				</div>
			</ol>
		</div>
		

		<div class="learn">In this activity, you reviewed the <code>map</code>, <code>join</code>, <code>split</code>, and <code>if</code> blocks, and you learned about a new block <img class="notabtb" src="/bjc-r/img/blocks/find-first.png" alt="find first item 'predicate input slot' in 'list input slot'" title="find first item 'predicate input slot' in 'list input slot'" /> that uses a predicate to check for an item in a list.</div>

		
	</body>
</html>