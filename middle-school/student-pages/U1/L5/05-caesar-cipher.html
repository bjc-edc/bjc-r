<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 1 Lab 5: Storing and Securing Data, Activity 5</title>
	</head>

	<body>
		<h2>Programming a Caesar Cipher</h2>
		<div class="learn">
			In this activity, you will write a program to encode and decode messages using a Caesar cipher (shift cipher).<br />
			<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/message-i-love-bjc-shifted-by-3-reporting.png" alt="message ('I love BJC!') shifted by (3) reporting 'L#oryh#EMF$'" title="message ('I love BJC!') shifted by (3) reporting 'L#oryh#EMF$'" />
			<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/decoding-i-love-bjc-reporting.png" alt="message ('L#oryh#EMF$') shifted by (-3) reporting 'I love BJC!'" title="message ('L#oryh#EMF$') shifted by (-3) reporting 'I love BJC!'" />
		</div>
		
        <h3>Exploring Unicode</h3>
		<p>To shift the letters in a message, you need a way to add the shift value to each letter. Computers store characters (letters, digits, symbols, etc.) as numbers called <a href="https://home.unicode.org/" title="Unicode" target="_blank">Unicode</a>. So you can change the characters of a message into Unicode, add (to make the shift), and then change the Unicode back into letters.</p>
		<p>
			This table shows the Unicode for some familiar characters:<br />
            <img class="indent noshadow" src="/bjc-r/img/4-internet/img_CaesarCipher/Mary_CharacterTable.jpeg" height="330px" alt="Unicode Table"/>
        </p>

        <p>
            The <code>unicode of</code> block reports the Unicode number that is used for a particular character:<br />
			<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/unicode-B-reporting.png" alt="unicode of (B) reporting '66'" title="unicode of (B) reporting '66'" />
		</p>
		<p>
            The <code>unicode as letter</code> block reports the character that a given Unicode number represents:<br />
			<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/unicode-66-reporting.png" alt="unicode (66) as letter reporting 'B'" title="unicode (66) as letter reporting 'B'" />
        </p>

        <div class="forYouToDo" id="second">
            <ol>
				<li>Open this <a class="js-run-v7 snap-project" href="/bjc-r/middle-school/prog/caesar-cipher.xml" title="Caesar Cipher project" target="_blank">Caesar Cipher project</a>, and save it to your account.</li>
                <li>Experiment with the <code>unicode of</code> and <code>unicode as letter</code> blocks. Write down the Unicode numbers for one word, give them to another student, and translate someone else's Unicode back into a word.</li>
			</ol>
		</div>
		

		<h3>Working with Lists</h3>
		<p>
			If you type more than one character into the input slot of <code>unicode of</code>, it will report a list of the Unicode characters of those letters:<br />
			<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/unicode-BJC-reporting.png" alt="unicode of (BJC) reporting the list {66, 74, 67}" title="unicode of (BJC) reporting the list {66, 74, 67}" />
		</p>
		<p>
			You can shift all the letters at once by using that list as the input to the <img class="inline-block" src="/bjc-r/img/blocks/plus.png" alt="() + ()" title="() + ()" /> block:<br />
			<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/unicode-BJC+3-reporting.png" alt="(unicode of (BJC)) + (3) reporting the list {69, 77, 70}" title="(unicode of (BJC)) + (3) reporting the list {69, 77, 70}" />
		</p>
		<p>
			The <code>unicode as letter</code> block can <em>also</em> accept a list as input. It will report a list of the characters for those Unicode numbers:<br />
			<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/unicode(unicode-BJC+3)as-letter-reporting.png" alt="unicode (unicode of (BJC) + 3) as letter reporting the list {B, J, C}" title="unicode (unicode of (BJC) + 3) as letter reporting the list {B, J, C}" />
		</p>
		<div class="forYouToDo">
			<ol start="3">
				<li>
					Use the Unicode blocks to encode and decode a whole word or sentence:
					<ol>
						<li>
							Use the three blocks discussed above to encode a message of your choosing with a shift value of your choosing.
							<div class="endnote">
								<p><a href="#hint-encoding" data-toggle="collapse" title="Click for a hint about encoding a message.">Click for a hint about encoding a message.</a></p>
								<div id="hint-encoding" class="collapse">
									<p>
										<ol style="list-style-type: lower-roman;">
											<li>Type a message into <code>unicode of</code>.</li>
											<li>Use the <img class="inline-block" src="/bjc-r/img/blocks/plus.png" alt="() + ()" title="() + ()" /> block to shift the values.</li>
											<li>Use <code>unicode as letter</code> to translate the shifted Unicode back into characters.</li>
										</ol>
									</p>
								</div>
								<p><a href="#hint-characters" data-toggle="collapse" title="Why are there characters like = ? @ # ^ * { or ~ ?">Why are there characters like <strong>= ? @ # ^ * { </strong> or <strong>~</strong> ?</a></p>
								<div id="hint-characters" class="collapse">
									<p>
										Look back at the Unicode chart. Shifting text characters can result in non-alphanumeric (not letter or digit) characters. For example,<br />
										<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/message-i-love-bjc-shifted-by-3-reporting.png" alt="message ('I love BJC!') shifted by (3) reporting 'L#oryh#EMF$'" title="message ('I love BJC!') shifted by (3) reporting 'L#oryh#EMF$'" /><br />
										<img class="inline" src="/bjc-r/img/icons/talk-with-your-partner-mini.png" alt="Talk with Your Partner" title="Talk with Your Partner" />
										Which character in the encoded message represents a space in the original message? Look back at the Unicode chart; can you see why?
									</p>
								</div>
							</div>
						</li>				
						<li>Then give your encoded message to another student. If they want a challenge, don't give them the shift value. If they don't want that challenge today, give them your shift value too.</li>
						<li>
							Use the same Snap<em>!</em> blocks to decode someone else's encoded message.
							<div class="endnote">
								<p><a href="#hint-decoding" data-toggle="collapse" title="Click for a hint about decoding a message.">Click for a hint about decoding a message.</a></p>
								<div id="hint-decoding" class="collapse">
									<p>You can decode a message the same way as you encoded it: change it to Unicode, shift, and change back. You just have to shift in the opposite direction. For example, if the original shift added 5, you need to add -5 to get the original message back.</p>
								</div>
								<p><a href="#hint-missing" data-toggle="collapse" title="What if your decrypted text is missing some letters?">What if your decrypted text is missing some letters?</a></p>
								<div id="hint-missing" class="collapse">
									<p>If you copy your encrypted message with a method other than by using copy and paste (for example, by writing it by hand or typing it into a phone), some characters may disappear from your message. This is because some of the Unicode characters after 126 are printing characters that symbolize things like "delete." These characters won't get displayed in Snap<em>!</em>, so you can't copy them by hand, but if you use copy and paste, Snap<em>!</em> knows they are there.</p>
								</div>
							</div>
						</li>
					</ol>
				</li>
			</ol>
		</div>

		<div class="ifTime show">
			<ol start="4">
				<li><img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" />How could you use Snap<em>!</em> to help you decode a message that was created with a simple substitution cipher <em>without knowing the key</em>?</li>
			</ol>
		</div>
		

		<h3><code>Join</code>ing Elements of a List</h3>
		<div class="sidenote">You used <code>join</code> in the <a href="/bjc-r/middle-school/student-pages/U1/L2/02-refining-the-story.html?topic=middle-school%2F1-functions-data.topic&course=middle-school.html" title="Unit 1 Lab 2 Activity 2: Refining the Story" target="_blank">Refining the Story</a> activity of the Super Short Stories Lab.</div>
		<p>
			You are almost there! But you want your program to output the shifted message <em>not</em> a list of the shifted characters. You've used <img class="inline-block" src="/bjc-r/img/blocks/join()().png" alt="join" title="join" /> to join <em>values</em> (text and characters) into a single string of text:<br />
			<img class="indent" src="/bjc-r/middle-school/img/U1/lab02/join-random-animal-s.png" alt="join (random animal) (s)" title="join (random animal) (s)" />
		</p>
		<p style="clear: right;">
			You can also use <code>join</code> to join all the elements of a <em>list</em>. Instead of dropping the code that will create the list into one of the input slots, drop the leftmost end of the code that reports the list you want joined onto the arrows at the end of the <code>join</code> block (once the red rectangle appears, you have the right place):
			<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/join-input-list-red-rectangle.png" alt="image showing the code 'unicode (unicode of (BJC) + 3) as letter' being dropped onto the ◂ ▸ at the end of the join block. The triangles in the join block are highlighted with a red rectangle." title="image showing the code 'unicode (unicode of (BJC) + 3) as letter' being dropped onto the ◂ ▸ at the end of the join block. The triangles in the join block are highlighted with a red rectangle." />
			<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/join-input-list-reporting.png" alt="join input list: (unicode (unicode of (BJC) + 3) as letter) reporting 'EMF'" title="join input list: (unicode (unicode of (BJC) + 3) as letter) reporting 'EMF'" />
		</p>
		
		<div class="forYouToDo">
			<ol start="5">				
				<li>Try using <code>join</code> to report the message you decoded as a string of text instead of as a list of characters.</li>
			</ol>
		</div>


		<h3>Generalizing the Process</h3>
		<div class="forYouToDo">
			<ol start="6">	
				<li>
					<img class="imageRight" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" />
					Discuss how you decoded the message you received, and listen to how other people decoded the messages they received. 
					<ul>
						<li>How did the process of encoding the message compare to the process of decoding the message?</li>
						<li>What parts of the encoding/decoding process were the same for everyone and what parts were different?</li>
						<li>How could make a general process that will work for all messages and all shift values?</li>
					</ul>
				</li>
				<li>
					<div class="sidenoteBig">You learned how to create a new block that takes inputs on the <a href="/bjc-r/middle-school/student-pages/U1/L2/02-refining-the-story.html?topic=middle-school%2F1-functions-data.topic&course=middle-school.html" title="Unit 1 Lab 2 Page 2: Refining the Story" target="_blank">Refining the Story</a> page of the Super Short Stories lab.</div>
					Create a block that takes <em>any input message</em> and <em>any shift value</em> and reports the same message shifted by that value.<br />
					<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/message-BJC-shifted-by-3-reporting-list.png" alt="message ('BJC') shifted by (3) reporting the list {E, M, F}" title="message ('BJC') shifted by (3) reporting the list {E, M, F}" />
					<div class="endnote" style="clear: right;">
						<p><a href="#hint-new-block" data-toggle="collapse" title="Click for a reminder about how to create a new block.">Click for a reminder about how to create a new block.</a></p>
						<div id="hint-new-block" class="collapse">
							<p>
								<ol style="list-style-type: lower-roman;">
									<li>Right-click (or control-click on a Mac) in an empty spot in the Scripts area and choose "make a block..."</li>
									<li>Choose the color for your block.</li>
									<li>Type the title text for your block (in this case, "message shifted by").</li>
									<li>Select the shape for your block.</li>
									<li>Click "OK."</li>
								</ol>
							</p>
						</div>
						<p><a href="#hint-local-vars" data-toggle="collapse" title="Click for a reminder about how to create and use local variables.">Click for a reminder about how to create and use local variables.</a></p>
						<div id="hint-local-vars" class="collapse">
							<p>
								<ol style="list-style-type: lower-roman;">
									<li>
										Hold your mouse pointer at the point in the text text of the hat block in the block editor where you want the input slot to appear, and click the plus sign that appears.<br />
										<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/message-shifted-by-hat-block.png" alt="'message shifted by' hat block showing a plus sign appearing between the word 'message' and the word 'shifted'" title="'message shifted by' hat block showing a plus sign appearing between the word 'message' and the word 'shifted'" />
									</li>
									<li>Type the name of the variable you want to add (such as <code>message</code> or <code>shift value</code>), and press "OK."</li>
									<li>
										To use this new local variable in your code, drag off a copy from the hat block, drop it into your code.<br />
										<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/message-shifted-by-hat-block-dragging.png" alt="'message (message) shifted by (shift value)' hat block showing a copy of the 'shift value' variable being dragged off the original 'shift value' variable in the hat block" title="'message (message) shifted by (shift value)' hat block showing a copy of the 'shift value' variable being dragged off the original 'shift value' variable in the hat block" />
									</li>
								</ol>
							</p>
						</div>
					</div>
				</li>
				<li><img class="inline" src="/bjc-r/img/icons/talk-with-your-partner.png" alt="Talk with Your Partner" title="Talk with Your Partner" />How can you use this same <code>message shifted by</code> block to <em>decode</em> a message?</li>
				<li>Test it your block by encoding and decoding a few messages, and fix any problems.</li>
			</ol>
		</div>

		<div class="ifTime show">
			<ol start="10">
				<li>
					Change the shape of the input slots for the <var>message</var> and <var>shift value</var> variables to match their input types (text and number, respectively).
					<div class="endnote">
						<p>
							You can change the input slot shape by clicking the variable name in the hat block of the block editor, clicking the right-facing triangle (▸) after the "Input name" option, selecting the input type, and clicking "OK" twice.<br />
							<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/message-shifted-by.png" alt="message () shifted by ()" title="message () shifted by ()" />
							<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/message-shifted-by-input-slots.png" alt="message 'text input slot: a long rectangle' shifted by 'number input slot: an oval'" title="message 'text input slot: a long rectangle' shifted by 'number input slot: an oval'" />
						</p>
						<p><a href="#hint-shift-value" data-toggle="collapse" title="Click for images of how to change the 'shift value' input type.">Click for images of how to change the <var>shift value</var> input type.</a></p>
						<div id="hint-shift-value" class="collapse">
							<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/input-type-shift-value-hat-block.png" alt="" title="" />
							<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/input-type-shift-value-triangle.png" alt="" title="" />
							<img class="indent" src="/bjc-r/middle-school/img/U1/lab05/input-type-shift-value-number.png" alt="" title="" /><br />
						</div>
						<p>You can learn more about the shape of input slots and how they tell Snap! and the programmer what kind of inputs are expected in <a href="/bjc-r/middle-school/student-pages/U1/L5/03-hex-rgb-colors.html?topic=middle-school%2F1-functions-data.topic&course=middle-school.html" title="Unit 1 Lab 5 Activity 3: Hexadecimal Numerals and RGB Colors - more about the shape of input slots behind the link 'Why do the input slots to binary of hex and hex of binary have different shapes?'" target="_blank">Activity 3: Hexadecimal Numerals and RGB Colors</a> behind the link "Why do the input slots to <code>binary of hex</code> and <code>hex of binary</code> have different shapes?"</p>
					</div>
				</li>
			</ol>
		</div>

		
        <div class="takeItFurther">
			<p>Research the historical use of ciphers:</p>
			<ol type="A">
				<li>
					A simple substitution cipher is relatively easy to break because some letters are used more frequently than others.
					<ul>
						<li>Read about Al-Kindi, the Arabic philosopher and mathematician who first described the frequency analysis method of code-breaking, in "Breaking Substitution Ciphers" (<a href="http://www.bitsbook.com/wp-content/uploads/2008/12/B2B_3.pdf#page=184" target="_blank" title="Breaking Substitution Ciphers"><em>Blown to Bits</em> pages 166-169</a>).</li>
						<li>This method is still useful today, even with better cryptography tools: <a href="http://www.forbes.com/sites/thomasbrewster/2015/09/03/microsoft-dumb-attacks-cracks-next-gen-cryptography/" target="_blank" title="How A 1200-Year-Old Hacking Technique Can Already Crack Tomorrow's Encrypted Vaults">How a 1200-year-old Hacking Technique Can Already Crack Tomorrow's Encrypted Vaults (Forbes, 9/3/15)</a></li>
					</ul>
				</li>
				<li>Read "Secret Keys and One-Time Pads" (<a href="http://www.bitsbook.com/wp-content/uploads/2008/12/B2B_3.pdf#page=187" target="_blank" title="Secret Keys and One-Time Pads"><em>Blown to Bits</em> pages 169-173</a>) to learn about Vigenère ciphers and methods used during World War 2 and the Cold War.</li>
            </ol>
		</div>

		<div class="learn">In this activity, you wrote a program to encode and decode shift cipher messages by using Unicode blocks and nesting blocks that report lists in other blocks.</div>


	</body>
</html>
