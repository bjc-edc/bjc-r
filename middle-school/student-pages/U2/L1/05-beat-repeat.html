<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 2 Lab 1: Song Player, Activity 5</title>
	</head>

	<body>
		<div class="todo"><h1>The first activity on this page is ready (enough) for review. --MF, 2/12/22</h1></div>
		<h2>Beat Repeat</h2>
		<div class="todo">I love this name, but I don't think it goes well with this particular page anymore. Thoughts? --MF, 2/12/22</div>
		<div class="todo">
			<ul>
				<li><a href="https://docs.google.com/document/d/1ZGj6uApQUyQw3HByk-8tYOU-VPTwduLLbTMhW8LJrXw/edit#" title="Song Player Google Doc" target="_blank">Song Player Google Doc</a></li>
				<li><a href="https://localhost/bjc-r/cur/programming/3-lists/optional-projects/4-music-project.html?topic=nyc_bjc%2F3-lists.topic&course=bjc4nyc.html&novideo&noassignment" title="CSP Optional Music Project" target="_blank">CSP Optional Music Project</a></li>
			</ul>
		</div>

		<div class="learn">In this activity, you will use a list to store the pitches of a song.</div>
		<div class="forYouToDo">
			<ol>
				<li>If your project isn't open already, log in to Snap!, and open your "Song Player" project.</li>
			</ol>
		</div>
		<p>Using the <code>repeat</code> block strategically can make your code shorter and easier to read. It's generally a good idea to write shorter code that is easier to read because when something isn't working right, it's easier to find and fix the problem, or when you want to change it later or have someone else read it, that's easier too.</p>
		<p>
			<img class="imageRight nopadtb" src="/bjc-r/img/blocks/for-each.png" alt="for each (item) in 'list input slot' {
}" title="for each (item) in 'list input slot' {
}" />
			Another way to simplify writing a song is to use a list to store the notes and then play each note in the list. You can use <code>for each</code> to run a command (or group of commands) for each item in a list. For example: <br />
			<a class="js-run-v7 snap-project" href="/bjc-r/middle-school/prog/U2/lab01/example-for-each.xml" title="Example of For Each - Snap! project" target="_blank"><img class="indent" src="/bjc-r/middle-school/img/U2/lab01/example-for-each.png" alt="for each (pitch) in (list (60) (60) (67) (67) (69) (69) (67) (0) (65) (65) (64) (64) (62) (62) (60) (0)) {
	play ♪ pitch: (pitch) beats: (0.5)
}" title="for each (pitch) in (list (60) (60) (67) (67) (69) (69) (67) (0) (65) (65) (64) (64) (62) (62) (60) (0)) {
	play ♪ pitch: (pitch) beats: (0.5)
}" /></a>
		</p>
		<div class="forYouToDo">
			<ol start="2">
				<li>
					Create a simple song using <code>for each</code>.
					<ol>
						<li>Drag a <code>for each</code> block into the scripting area.</li>
						<li>Drag a <code>play ♪</code> block inside it.</li>
						<li>
							Rename the <var>item</var> variable to <var>pitch</var> by clicking it, typing the new name, and clicking "OK."
							<div class="todo">An animation would be nice here one day. --MF, 2/11/22</div>
						</li>
						<li>Drag the <var>pitch</var> variable into the first input of the <code>play ♪</code> block. Dragging will make a copy of <var>pitch</var>, so you should see <var>pitch</var> in both places</li>
						<li>
							Drag a <code>list</code> block into the list input slot of the <code>for each</code> block, add some notes, and click the script to test out your song as you build it.
							<div class="todo">An animation here too would be nice here one day. --MF, 2/11/22</div>
						</li>
						<div class="endnote">If you want to add or remove a pitch from your list, you don't have to move the other numbers around. To add a new slot, right-click the place where you want it to appear, and select "insert a slot." To remove a slot, right-click it, and select "delete slot." </div>
					</ol>
				</li>
				<li>Create a new command block called <code>play song</code> that takes a list of notes as input and plays each note in the list.<div class="todo">I still need to add some scaffolding here about using the FOR EACH code they already have, removing the existing list, and dragging in the local var. --MF, 2/12/22</div></li>
			</ol>
		</div>
		<div class="learn">In this activity, you used <code>for each</code> to play each pitch in a list.</div>
		
		
		
		<div class="todo">
			<h1><em><strong>Not</strong></em> ready for review from here on, but...</h1>
			<p>Pamela, you might like to skim around. I'm debating whether to teach the ADT first so they can traverse a 2D list or to show them how to use MAP to transpose first. I'm leaning toward MAP first and letting 2D lists/ADTs be a later optional page (perhaps not even to be written now or perhaps just a "Take It Further" on the last page) since the goal of the course is functional, and MAP would align with that. There is no real need to teach ADTs although the context does naturally inspire it. --MF, 2/12/22</p>
		</div>
		<div class="todo"><hr /><h1>New Page</h1><hr /></div>
		<h2>Using Variables</h2>
		<div class="todo">
			TO TEACH:<br />
			<ol>
				<li>globals to store songs (as lists of notes)</li>
				<li>set variable</li>
			</ol>
		</div>
		<div class="learn">In this activity, you will use a variable to store a list of notes.</div>
		<p>
			In the <a href="/bjc-r/middle-school/student-pages/U1/L2/03-creating-editing-blocks.html?topic=middle-school%2F1-functions-data.topic&course=middle-school.html" title="Unit 1 Lab 2: Super Short Stories, Activity 3: Creating and Editing Blocks" target="_blank">Super Short Stories</a> lab, you began using <em>local variables</em> to access the inputs to a block you were editing. Those variables were only available within that block. When you need a variable to be available anywhere in your project, you can use a <em>global variable</em>.<br />
			<img class="indent" src="/bjc-r/middle-school/img/U1/lab02/super-short-story-block-editor.png" alt="Super Short Story, feeling: (feeling) job: (job) action: (action 1) place: (place) action: (action 2) number: (number #) color: (color) plural animal: (animals) food: (food): {report (join words ('The') (feeling) (job) (action 1) ('through') (place) ('and') (action 2) ('over') (number) (color) (animals) ('eating') (food))}" title="Super Short Story, feeling: (feeling) job: (job) action: (action 1) place: (place) action: (action 2) number: (number #) color: (color) plural animal: (animals) food: (food): {report (join words ('The') (feeling) (job) (action 1) ('through') (place) ('and') (action 2) ('over') (number) (color) (animals) ('eating') (food))}" /><br />
		</p>
        <div class="vocabFullWidth">: <strong>Global Variable</strong>
            <p>A <strong>global variable</strong> is a variable that is usable by all scripts in the program.</p>
        </div>
		<p>You can use a global variable to store the notes to a song.<br />
		<img class="" src="/bjc-r/middle-school/img/U2/lab01/" alt="" title="" />
		</p>
		<div class="forYouToDo">
			<ol>
				<li>If your project isn't open already, log in to Snap!, and open your "Song Player" project.</li>
				<li>
					Create a global variable to store your song. Here's how.
					<div class="narrower">
						<h4><strong>Making a Global Variable</strong></h4>
						<div class="todo">Still needs edits --MF, 2/12/22</div>
						<ol type="a">
							<li>Click <img class="inline" src="/bjc-r/img/1-introduction/make-a-variable.png" alt="make a variable button" title="make a variable button" />  in the Variables palette.  (It's not a block; you can't drag it into the scripting area.)</li>
							<li>Type the title for your variable. (Use the name of the song or something else to help you remember it.)</li>
							<li>Click "OK."</li>
						</ol>
					</div>
				</li>
				<li>Use your global variable in your <code>play song</code> block.</li>
				<li>Make another global var song.</li>
				<li>Show/hide global vars with show/hide blocks.</li>
			<div class="todo">
				These need alt-title text, but this is the general idea...<br />
				<img class="indent" src="/bjc-r/middle-school/img/U2/lab01/set-mary-lamb.png" alt="" title="" /><br />
				<img class="indent" src="/bjc-r/middle-school/img/U2/lab01/play-song-mary-lamb.png" alt="" title="" /><br />
				Next page...<br />
				<img class="indent" src="/bjc-r/middle-school/img/U2/lab01/play-song-map-mary-lamb.png" alt="" title="" />
			</div>
				
			</ol>
		</div>
		<div class="ifTime show">
			<ol start="6">
				<li>
					Here are more sequences of notes to try out (enter the numbers without the spaces):
					<pre>65 65 64 64 62 62 60</pre>
					<pre>64 62 60 62 64 64</pre>
				</li>
				<li>If you or your classmates are musically inclined, you can come up with more sequences to play!</li>
			</ol>
		</div>
		<div class="learn">In this activity, you stored notes in variables and...</div>

		
		<div class="todo"><hr /><h1>New Page</h1><hr /></div>
		<h2>Song <code>Map</code>per</h2>
		<p>Another advantage of using a list to store your notes rather than a long set of <code>play ♪</code> blocks is that you can use higher order functions to process your list.</p>
		<p>In music, notes are part of a scale, and a song can be played higher up a scale or lower down a scale. So if someone naturally has a deep voice, they can sing Twinkle, Twinkle at an octave lower than usual, or if someone has a high voice, they can sing at an octave higher than usual.</p>
		<p>Each octave is 12 notes higher than the previous octave, since there are 12 notes in a scale. So we can add 12 to each note to find the higher version of the note, or subtract 12 to find the lower.</p>
		<p>This is a perfect opportunity to use the <code>map</code> block. It's a block that operates on lists, applying an operation to each item in a list, and reporting back a list with the transformed items.</p>
		<div class="forYouToDo">
			<ol start="1">
				<li>Drag the <code>map</code> block into the main area. Drag one of your note sequence lists into the list icon on the block, so the <code>map</code> block knows what list it's transforming.</li>
				<li>
					Now the question is, how do you want to transform each note? You can put any operation in the first blank, anything that reports a value. I suggest either a <code>+</code> block or <code>-</code> block. Leave one of the blanks empty and put 12 in the other blank. Something like this:<br />
					<img class="" src="/bjc-r/middle-school/img/U1/lab06/" alt="" title="" />
				</li>
				<li>Finally, drag this whole map block into one of the play line blocks. Click the block to hear what happens. Change the + to a -, or change the amount being added/subtracted, and click again to hear the difference. Try it with your other songs too!</li>
			</ol>
		</div>
		
		<div class="todo"><hr /><h1>New Page? Or a "Take It Further"?</h1><hr /></div>
		<h2>Coordinating Data</h2>
		
		<div class="todo">Maybe do transpose before the ADT and then let the ADT stuff be optional pages because it gets complex with the transpose mixed in.</div>
		<p>You've used the <code>for each</code> block to traverse a list and to <code>play ♪</code> for each note in a list, but it would be nice to be able to control the number of <var>beats</var> for which each note plays.</p>
		<p>You can use the <code>note beat</code> block to store a bunch of notes and beats together and 
	

		

		<div class="learn"></div>
	
	
		
	</body>
</html>