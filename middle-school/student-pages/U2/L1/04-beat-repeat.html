<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="/bjc-r/llab/loader.js"></script>
		<title>Unit 2 Lab 1: Song Player, Activity 2</title>
	</head>

	<body>
		<h2>Beat Repeat</h2>
		<div class="todo">"iteration": <code>repeat</code>, <code>forever</code>, nested loops, <code>for each</code> 2-AP-12</div>
		<div class="todo">
			<ul>
				<li><a href="https://docs.google.com/document/d/1ZGj6uApQUyQw3HByk-8tYOU-VPTwduLLbTMhW8LJrXw/edit#" title="Song Player Google Doc" target="_blank">Song Player Google Doc</a></li>
				<li><a href="https://localhost/bjc-r/cur/programming/3-lists/optional-projects/4-music-project.html?topic=nyc_bjc%2F3-lists.topic&course=bjc4nyc.html&novideo&noassignment" title="CSP Optional Music Project" target="_blank">CSP Optional Music Project</a></li>
			</ul>
		</div>
		<div class="todo">
			TEACH on PAGE 2:<br />
			<ol>
				<li>FOREVER</li>
				<li>FOR EACH</li>
				<li>globals to store songs (as lists of notes)</li>
				<li>set variable</li>
			</ol>
		</div>

		<div class="learn"></div>
		<div class="forYouToDo">
			<ol>
				<li>If your project isn't open already, log in to Snap!, and open your "Song Player" project.</li>
			</ol>
		</div>
		<p>Using the <code>repeat</code> block strategically can make your code shorter and easier to read. It's generally ideal to write shorter code that is easier to read because when something isn't working right, it's easier to find and fix the problem.</p>
		<p>
			<img class="imageRight nopadtb" src="/bjc-r/img/blocks/for-each.png" alt="for each (item) in 'list input slot' {
}" title="for each (item) in 'list input slot' {
}" />
			Another way to simplify writing a song is to use a list to store the notes and then play each note in the list. You can use <code>for each</code> to run a command (or group of commands) for each item in a list. For example: <br />
			<a class="js-run-v7 snap-project" href="/bjc-r/middle-school/prog/U2/lab01/example-for-each.xml" title="Example of For Each - Snap! project" target="_blank"><img class="indent" src="/bjc-r/middle-school/img/U2/lab01/example-for-each.png" alt="for each (note) in (list (60) (60) (67) (67) (69) (69) (67) (0) (65) (65) (64) (64) (62) (62) (60) (0)) {
	play note (note) for (0.5) beats
}" title="for each (note) in (list (60) (60) (67) (67) (69) (69) (67) (0) (65) (65) (64) (64) (62) (62) (60) (0)) {
	play note (note) for (0.5) beats
}" /></a>
		</p>
		<div class="forYouToDo">
			<ol start="2">
				<li>Create a simple song using <code>for each</code>.
					<ol>
						<li>Drag a <code>for each</code> block into the scripting area.</li>
						<li>Drag a <code>play ‚ô™</code> block inside it.</li>
						<li>Rename the <var>item</var> variable to <var>note</var> by clicking it, typing the new name, and clicking "OK."</li>
						<li>Drag the <var>note</var> variable into the first input of the <code>play ‚ô™</code> block.</li>
						<li>Drag a <code>list</code> block into the list input slot of the <code>for each</code> block, add some notes, and click the script to test out your song as you build it.</li>
					</ol>
				</li>
			</ol>
		</div>
		
		<div class="todo">Maybe do transpose before the ADT and then let the ADT stuff be optional pages becuase it gets complex with the transpose mixed in.</div>

		
		<div class="todo"><hr /><h1>New Page</h1><hr /></div>
		<div class="todo">introduce this ADT business</div>
		<h2>Coordinating Data</h2>
		<p>You've used the <code>for each</code> block to traverse a list and to <code>play ‚ô™</code> for each note in a list, but it would be nice to be able to control the number of <var>beats</var> for which each note plays.</p>
		<p>You can use the <code>note beat</code> block to store a bunch of notes and beats togther and 
	



		<div class="todo">Then have them build a <code>play notes</code> block</div>

		<p>Another advantage of using a list to store your notes rather than a long set of <code>play ‚ô™</code> blocks is that you can use higher order functions to process your list.</p>
		<div class="todo">Building the transpose block...</div>



		


		<div class="todo">PAGE 2</div>

		<p>It's playing the same note multiple times, right? That's because we need to tell the <code>play ‚ô™</code> to play the current item from the list, not whatever number is in the dropdown now.</p>
		<div class="forYouToDo">
			<ol start="5">
				<li>
					To do that, drag <var>item</var> from the <code>for each</code> block into that first input parameter. It'll actually make a copy of the block, so you should see <var>item</var> in both places:<br />
					<img class="" src="/bjc-r/middle-school/img/U1/lab06/" alt="for each (item) in (list (60, 60, 67, 67, 69, 69, 67)) {
	play note (item) for (0.5) beats
}" title="for each (item) in (list (60, 60, 67, 67, 69, 69, 67)) {
	play note (item) for (0.5) beats
}" />
				</li>
				<li>Click it now! Do you hear a little Twinkle, Twinkle? Woo! üéâ ‚≠êÔ∏è ü§©</li>
			</ol>
		</div>
	
		<h3>Making a new command block</h3>
	<p>Now that we have this neat seat of blocks for playing multiple notes, let's turn that into a block so that we can easily play lines of different songs.</p>
	<div class="forYouToDo">
			<ol>
				<li>
					Click "Make a block" in the left-hand side to bring up the new block editor.<br />
					<img class="" src="/bjc-r/middle-school/img/U1/lab06/" alt="" title="" />
				</li>
				<li>Enter a name for the block, like "play line". Make sure "Command" is selected below the name, then click OK.</li>
				<li>
					Now the block editor should pop up. First the block needs an input parameter, the list of notes to play. Click the plus sign at the end of the name. <br />
					<img class="" src="/bjc-r/middle-school/img/U1/lab06/" alt="" title="" />
				</li>
				<li>Type a name for the parameter like "notes". Make sure "Input name" is selected below the name, then click OK.</li>
				<li>The inside of the block is still empty, so it doesn't yet know what to do with the notes input. Drag the <code>for each</code> block from the main area into the block editor and attach it under the block header. It should snap in place.</li>
				<li>
					The <code>for each</code> is still playing the notes from Twinkle, Twinkle, but this block should be able to play any list of notes. Delete the current list of notes and drag the input parameter into that block instead. It should look like this:<br />
					<img class="" src="/bjc-r/middle-school/img/U1/lab06/" alt="" title="" />
				</li>
				<li>Leave the block editor so that you can try out your new block! Drag a copy into the main area and put a list of notes in the blank.</li>
				<li>Here's the Twinkle, Twinkle sequence again (enter the numbers without the spaces and dashes): <pre>60 60 67 67 69 69 67</pre></li>
				<li>Click the block and you should hear the notes being played out. üé∂</li>
			</ol>
		</div>
		<p>By making the block, you've <em>generalized</em> the procedure of playing a sequence of notes. That means you can easily play any sequence of notes, and all you have to do is drag another copy of your new block.</p>
		<div class="ifTime show">
			<ol>
				<li>
					Here are more sequences of notes to try out (enter the numbers without the spaces and dashes):
					<pre>65 65 64 64 62 62 60</pre>
					<pre>64 62 60 62 64 64</pre>
				</li>
				<li>If you or your classmates are musically inclined, you can come up with more sequences to play!</li>
				<li></li>
			</ol>
		</div>
	
		<h3>Transforming note sequences</h3>
		<p>In music, notes are part of a scale, and a song can be played higher up a scale or lower down a scale. So if someone naturally has a deep voice, they can sing Twinkle, Twinkle at an octave lower than usual, or if someone has a high voice, they can sing at an octave higher than usual.</p>
		<p>Each octave is 12 notes higher than the previous octave, since there are 12 notes in a scale. So we can add 12 to each note to find the higher version of the note, or subtract 12 to find the lower.</p>
		<p>This is a perfect opportunity to use the <code>map</code> block. It's a block that operates on lists, applying an operation to each item in a list, and reporting back a list with the transformed items.</p>
		<div class="forYouToDo">
			<ol start="13">
				<li>Drag the <code>map</code> block into the main area. Drag one of your note sequence lists into the list icon on the block, so the <code>map</code> block knows what list it's transforming.</li>
				<li>
					Now the question is, how do you want to transform each note? You can put any operation in the first blank, anything that reports a value. I suggest either a <code>+</code> block or <code>-</code> block. Leave one of the blanks empty and put 12 in the other blank. Something like this:<br />
					<img class="" src="/bjc-r/middle-school/img/U1/lab06/" alt="" title="" />
				</li>
				<li>Finally, drag this whole map block into one of the play line blocks. Click the block to hear what happens. Change the + to a -, or change the amount being added/subtracted, and click again to hear the difference. Try it with your other songs too!</li>
			</ol>
		</div>

		<div class="learn"></div>
	
	
		
	</body>
</html>